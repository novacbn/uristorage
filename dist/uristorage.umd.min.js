var URIStorage=(()=>{var Rt=Object.defineProperty,ha=Object.prototype.hasOwnProperty,Ue=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),Jn=e=>Rt(e,"__esModule",{value:!0}),ma=(e,t)=>{Jn(e);for(var r in t)Rt(e,r,{get:t[r],enumerable:!0})},va=(e,t)=>{if(Jn(e),typeof t=="object"||typeof t=="function")for(let r in t)!ha.call(e,r)&&r!=="default"&&Rt(e,r,{get:()=>t[r],enumerable:!0});return e},Ot=e=>e&&e.__esModule?e:va(Rt({},"default",{value:e,enumerable:!0}),e);var Yn=Ue((WA,Qn)=>{Qn.exports=function(e,t){if(typeof e!="string")throw new TypeError("Expected a string");for(var r=String(e),a="",i=t?!!t.extended:!1,o=t?!!t.globstar:!1,s=!1,c=t&&typeof t.flags=="string"?t.flags:"",p,l=0,d=r.length;l<d;l++){p=r[l];switch(p){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":a+="\\"+p;break;case"?":if(i){a+=".";break}case"[":case"]":if(i){a+=p;break}case"{":if(i){s=!0,a+="(";break}case"}":if(i){s=!1,a+=")";break}case",":if(s){a+="|";break}a+="\\"+p;break;case"*":for(var u=r[l-1],f=1;r[l+1]==="*";)f++,l++;var v=r[l+1];if(!o)a+=".*";else{var m=f>1&&(u==="/"||u===void 0)&&(v==="/"||v===void 0);m?(a+="((?:[^/]*(?:/|$))*)",l++):a+="([^/]*)"}break;default:a+=p}}return(!c||!~c.indexOf("g"))&&(a="^"+a+"$"),new RegExp(a,c)}});var Ln=Ue((qA,$n)=>{"use strict";function pe(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function Xn(e,t){for(var r="",a=0,i=-1,o=0,s,c=0;c<=e.length;++c){if(c<e.length)s=e.charCodeAt(c);else{if(s===47)break;s=47}if(s===47){if(!(i===c-1||o===1))if(i!==c-1&&o===2){if(r.length<2||a!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var p=r.lastIndexOf("/");if(p!==r.length-1){p===-1?(r="",a=0):(r=r.slice(0,p),a=r.length-1-r.lastIndexOf("/")),i=c,o=0;continue}}else if(r.length===2||r.length===1){r="",a=0,i=c,o=0;continue}}t&&(r.length>0?r+="/..":r="..",a=2)}else r.length>0?r+="/"+e.slice(i+1,c):r=e.slice(i+1,c),a=c-i-1;i=c,o=0}else s===46&&o!==-1?++o:o=-1}return r}function ga(e,t){var r=t.dir||t.root,a=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+a:r+e+a:a}var Ke={resolve:function(){for(var t="",r=!1,a,i=arguments.length-1;i>=-1&&!r;i--){var o;if(i>=0?o=arguments[i]:(a===void 0&&(a=process.cwd()),o=a),pe(o),o.length===0)continue;t=o+"/"+t,r=o.charCodeAt(0)===47}return t=Xn(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(pe(t),t.length===0)return".";var r=t.charCodeAt(0)===47,a=t.charCodeAt(t.length-1)===47;return t=Xn(t,!r),t.length===0&&!r&&(t="."),t.length>0&&a&&(t+="/"),r?"/"+t:t},isAbsolute:function(t){return pe(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,r=0;r<arguments.length;++r){var a=arguments[r];pe(a),a.length>0&&(t===void 0?t=a:t+="/"+a)}return t===void 0?".":Ke.normalize(t)},relative:function(t,r){if(pe(t),pe(r),t===r)return"";if(t=Ke.resolve(t),r=Ke.resolve(r),t===r)return"";for(var a=1;a<t.length&&!(t.charCodeAt(a)!==47);++a);for(var i=t.length,o=i-a,s=1;s<r.length&&!(r.charCodeAt(s)!==47);++s);for(var c=r.length,p=c-s,l=o<p?o:p,d=-1,u=0;u<=l;++u){if(u===l){if(p>l){if(r.charCodeAt(s+u)===47)return r.slice(s+u+1);if(u===0)return r.slice(s+u)}else o>l&&(t.charCodeAt(a+u)===47?d=u:u===0&&(d=0));break}var f=t.charCodeAt(a+u),v=r.charCodeAt(s+u);if(f!==v)break;f===47&&(d=u)}var m="";for(u=a+d+1;u<=i;++u)(u===i||t.charCodeAt(u)===47)&&(m.length===0?m+="..":m+="/..");return m.length>0?m+r.slice(s+d):(s+=d,r.charCodeAt(s)===47&&++s,r.slice(s))},_makeLong:function(t){return t},dirname:function(t){if(pe(t),t.length===0)return".";for(var r=t.charCodeAt(0),a=r===47,i=-1,o=!0,s=t.length-1;s>=1;--s)if(r=t.charCodeAt(s),r===47){if(!o){i=s;break}}else o=!1;return i===-1?a?"/":".":a&&i===1?"//":t.slice(0,i)},basename:function(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');pe(t);var a=0,i=-1,o=!0,s;if(r!==void 0&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var c=r.length-1,p=-1;for(s=t.length-1;s>=0;--s){var l=t.charCodeAt(s);if(l===47){if(!o){a=s+1;break}}else p===-1&&(o=!1,p=s+1),c>=0&&(l===r.charCodeAt(c)?--c===-1&&(i=s):(c=-1,i=p))}return a===i?i=p:i===-1&&(i=t.length),t.slice(a,i)}else{for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!o){a=s+1;break}}else i===-1&&(o=!1,i=s+1);return i===-1?"":t.slice(a,i)}},extname:function(t){pe(t);for(var r=-1,a=0,i=-1,o=!0,s=0,c=t.length-1;c>=0;--c){var p=t.charCodeAt(c);if(p===47){if(!o){a=c+1;break}continue}i===-1&&(o=!1,i=c+1),p===46?r===-1?r=c:s!==1&&(s=1):r!==-1&&(s=-1)}return r===-1||i===-1||s===0||s===1&&r===i-1&&r===a+1?"":t.slice(r,i)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return ga("/",t)},parse:function(t){pe(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return r;var a=t.charCodeAt(0),i=a===47,o;i?(r.root="/",o=1):o=0;for(var s=-1,c=0,p=-1,l=!0,d=t.length-1,u=0;d>=o;--d){if(a=t.charCodeAt(d),a===47){if(!l){c=d+1;break}continue}p===-1&&(l=!1,p=d+1),a===46?s===-1?s=d:u!==1&&(u=1):s!==-1&&(u=-1)}return s===-1||p===-1||u===0||u===1&&s===p-1&&s===c+1?p!==-1&&(c===0&&i?r.base=r.name=t.slice(1,p):r.base=r.name=t.slice(c,p)):(c===0&&i?(r.name=t.slice(1,s),r.base=t.slice(1,p)):(r.name=t.slice(c,s),r.base=t.slice(c,p)),r.ext=t.slice(s,p)),c>0?r.dir=t.slice(0,c-1):i&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};Ke.posix=Ke;$n.exports=Ke});var er=Ue((UA,at)=>{var _;(function(e){e.runningInNodeJS=function(){return typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"},e.runningInMainNodeJSModule=function(){return e.runningInNodeJS()&&require.main===at},e.commonJSAvailable=function(){return typeof at=="object"&&typeof at.exports=="object"},e.runningInWebWorker=function(){return typeof window=="undefined"&&typeof self=="object"&&typeof self.addEventListener=="function"&&typeof self.close=="function"},e.runningInNodeChildProcess=function(){return e.runningInNodeJS()&&typeof process.send=="function"},e.runningInNullOrigin=function(){return typeof window!="object"||typeof window.location!="object"?!1:document.location.protocol!=="http:"&&document.location.protocol!=="https:"},e.webWorkersAvailable=function(){return typeof Worker!="function"||e.runningInNullOrigin()||e.runningInNodeJS()?!1:!(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Android 4.3")>=0)},e.log=function(t,r){if(r===void 0&&(r=!1),typeof console!="object")return;console.log(t),r&&typeof document=="object"&&(document.body.innerHTML+=t+"<br/>")},e.createErrorMessage=function(t,r){if(r===void 0&&(r="Unhandled exception"),t==null)return r;if(r+=": ",typeof t.content=="object"){if(e.runningInNodeJS())return r+t.content.stack;var a=JSON.stringify(t.content);return a!=="{}"?r+a:r+t.content}else return typeof t.content=="string"?r+t.content:r+t},e.printExceptionAndStackTraceToConsole=function(t,r){r===void 0&&(r="Unhandled exception"),e.log(e.createErrorMessage(t,r))},e.getGlobalObject=function(){return typeof global=="object"?global:typeof window=="object"?window:typeof self=="object"?self:{}},e.toString=Object.prototype.toString,e.commonJSAvailable()&&(at.exports=e)})(_||(_={}));var Zn;(function(e){if(typeof Uint8Array=="function"&&new Uint8Array(1).subarray(1).byteLength!==0){var t=function(o,s){var c=function(l,d,u){return l<d?d:l>u?u:l};o=o|0,s=s|0,arguments.length<1&&(o=0),arguments.length<2&&(s=this.length),o<0&&(o=this.length+o),s<0&&(s=this.length+s),o=c(o,0,this.length),s=c(s,0,this.length);var p=s-o;return p<0&&(p=0),new this.constructor(this.buffer,this.byteOffset+o*this.BYTES_PER_ELEMENT,p)},r=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],a=void 0;if(typeof window=="object"?a=window:typeof self=="object"&&(a=self),a!==void 0)for(var i=0;i<r.length;i++)a[r[i]]&&(a[r[i]].prototype.subarray=t)}})(Zn||(Zn={}));var _;(function(e){var t=function(){function r(){}return r.compressAsync=function(a,i,o){var s=new e.Timer,c=new e.Compressor;if(!o)throw new TypeError("compressAsync: No callback argument given");if(typeof a=="string")a=e.encodeUTF8(a);else if(a==null||!(a instanceof Uint8Array)){o(void 0,new TypeError("compressAsync: Invalid input argument, only 'string' and 'Uint8Array' are supported"));return}var p=e.ArrayTools.splitByteArray(a,i.blockSize),l=[],d=function(u){if(u<p.length){var f=void 0;try{f=c.compressBlock(p[u])}catch(m){o(void 0,m);return}l.push(f),s.getElapsedTime()<=20?d(u+1):(e.enqueueImmediate(function(){return d(u+1)}),s.restart())}else{var v=e.ArrayTools.concatUint8Arrays(l);e.enqueueImmediate(function(){var m;try{m=e.CompressionCommon.encodeCompressedBytes(v,i.outputEncoding)}catch(h){o(void 0,h);return}e.enqueueImmediate(function(){return o(m)})})}};e.enqueueImmediate(function(){return d(0)})},r.createCompressionStream=function(){var a=new e.Compressor,i=require("stream"),o=new i.Transform({decodeStrings:!0,highWaterMark:65536});return o._transform=function(s,c,p){var l;try{l=e.BufferTools.uint8ArrayToBuffer(a.compressBlock(e.BufferTools.bufferToUint8Array(s)))}catch(d){o.emit("error",d);return}o.push(l),p()},o},r}();e.AsyncCompressor=t})(_||(_={}));var _;(function(e){var t=function(){function r(){}return r.decompressAsync=function(a,i,o){if(!o)throw new TypeError("decompressAsync: No callback argument given");var s=new e.Timer;try{a=e.CompressionCommon.decodeCompressedBytes(a,i.inputEncoding)}catch(u){o(void 0,u);return}var c=new e.Decompressor,p=e.ArrayTools.splitByteArray(a,i.blockSize),l=[],d=function(u){if(u<p.length){var f=void 0;try{f=c.decompressBlock(p[u])}catch(m){o(void 0,m);return}l.push(f),s.getElapsedTime()<=20?d(u+1):(e.enqueueImmediate(function(){return d(u+1)}),s.restart())}else{var v=e.ArrayTools.concatUint8Arrays(l);e.enqueueImmediate(function(){var m;try{m=e.CompressionCommon.encodeDecompressedBytes(v,i.outputEncoding)}catch(h){o(void 0,h);return}e.enqueueImmediate(function(){return o(m)})})}};e.enqueueImmediate(function(){return d(0)})},r.createDecompressionStream=function(){var a=new e.Decompressor,i=require("stream"),o=new i.Transform({decodeStrings:!0,highWaterMark:65536});return o._transform=function(s,c,p){var l;try{l=e.BufferTools.uint8ArrayToBuffer(a.decompressBlock(e.BufferTools.bufferToUint8Array(s)))}catch(d){o.emit("error",d);return}o.push(l),p()},o},r}();e.AsyncDecompressor=t})(_||(_={}));var _;(function(e){var t;(function(r){r.compressAsync=function(a,i,o){if(i.inputEncoding=="ByteArray"&&!(a instanceof Uint8Array)){o(void 0,new TypeError("compressAsync: input is not a Uint8Array"));return}var s={token:Math.random().toString(),type:"compress",data:a,inputEncoding:i.inputEncoding,outputEncoding:i.outputEncoding},c=function(p){var l=p.data;if(!l||l.token!=s.token)return;r.globalWorker.removeEventListener("message",c),l.type=="error"?o(void 0,new Error(l.error)):o(l.data)};r.globalWorker.addEventListener("message",c),r.globalWorker.postMessage(s,[])},r.decompressAsync=function(a,i,o){var s={token:Math.random().toString(),type:"decompress",data:a,inputEncoding:i.inputEncoding,outputEncoding:i.outputEncoding},c=function(p){var l=p.data;if(!l||l.token!=s.token)return;r.globalWorker.removeEventListener("message",c),l.type=="error"?o(void 0,new Error(l.error)):o(l.data)};r.globalWorker.addEventListener("message",c),r.globalWorker.postMessage(s,[])},r.installWebWorkerIfNeeded=function(){typeof self=="object"&&self.document===void 0&&self.addEventListener!=null&&(self.addEventListener("message",function(a){var i=a.data;if(i.type=="compress"){var o=void 0;try{o=e.compress(i.data,{outputEncoding:i.outputEncoding})}catch(p){self.postMessage({token:i.token,type:"error",error:e.createErrorMessage(p)},[]);return}var s={token:i.token,type:"compressionResult",data:o,encoding:i.outputEncoding};s.data instanceof Uint8Array&&navigator.appVersion.indexOf("MSIE 10")===-1?self.postMessage(s,[s.data.buffer]):self.postMessage(s,[])}else if(i.type=="decompress"){var c=void 0;try{c=e.decompress(i.data,{inputEncoding:i.inputEncoding,outputEncoding:i.outputEncoding})}catch(l){self.postMessage({token:i.token,type:"error",error:e.createErrorMessage(l)},[]);return}var s={token:i.token,type:"decompressionResult",data:c,encoding:i.outputEncoding};s.data instanceof Uint8Array&&navigator.appVersion.indexOf("MSIE 10")===-1?self.postMessage(s,[s.data.buffer]):self.postMessage(s,[])}}),self.addEventListener("error",function(a){e.log(e.createErrorMessage(a.error,"Unexpected LZUTF8 WebWorker exception"))}))},r.createGlobalWorkerIfNeeded=function(){if(r.globalWorker)return!0;if(!e.webWorkersAvailable())return!1;if(!r.scriptURI&&typeof document=="object"){var a=document.getElementById("lzutf8");a!=null&&(r.scriptURI=a.getAttribute("src")||void 0)}return r.scriptURI?(r.globalWorker=new Worker(r.scriptURI),!0):!1},r.terminate=function(){r.globalWorker&&(r.globalWorker.terminate(),r.globalWorker=void 0)}})(t=e.WebWorker||(e.WebWorker={})),t.installWebWorkerIfNeeded()})(_||(_={}));var _;(function(e){var t=function(){function r(a,i,o){this.container=a,this.startPosition=i,this.length=o}return r.prototype.get=function(a){return this.container[this.startPosition+a]},r.prototype.getInReversedOrder=function(a){return this.container[this.startPosition+this.length-1-a]},r.prototype.set=function(a,i){this.container[this.startPosition+a]=i},r}();e.ArraySegment=t})(_||(_={}));var _;(function(e){var t;(function(r){r.copyElements=function(a,i,o,s,c){for(;c--;)o[s++]=a[i++]},r.zeroElements=function(a,i,o){for(;o--;)a[i++]=0},r.countNonzeroValuesInArray=function(a){for(var i=0,o=0;o<a.length;o++)a[o]&&i++;return i},r.truncateStartingElements=function(a,i){if(a.length<=i)throw new RangeError("truncateStartingElements: Requested length should be smaller than array length");for(var o=a.length-i,s=0;s<i;s++)a[s]=a[o+s];a.length=i},r.doubleByteArrayCapacity=function(a){var i=new Uint8Array(a.length*2);return i.set(a),i},r.concatUint8Arrays=function(a){for(var i=0,o=0,s=a;o<s.length;o++){var c=s[o];i+=c.length}for(var p=new Uint8Array(i),l=0,d=0,u=a;d<u.length;d++){var c=u[d];p.set(c,l),l+=c.length}return p},r.splitByteArray=function(a,i){for(var o=[],s=0;s<a.length;){var c=Math.min(i,a.length-s);o.push(a.subarray(s,s+c)),s+=c}return o}})(t=e.ArrayTools||(e.ArrayTools={}))})(_||(_={}));var _;(function(e){var t;(function(r){r.convertToUint8ArrayIfNeeded=function(a){return typeof Buffer=="function"&&Buffer.isBuffer(a)?r.bufferToUint8Array(a):a},r.uint8ArrayToBuffer=function(a){if(Buffer.prototype instanceof Uint8Array){var i=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);return Object.setPrototypeOf(i,Buffer.prototype),i}else{for(var o=a.length,s=new Buffer(o),c=0;c<o;c++)s[c]=a[c];return s}},r.bufferToUint8Array=function(a){if(Buffer.prototype instanceof Uint8Array)return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);for(var i=a.length,o=new Uint8Array(i),s=0;s<i;s++)o[s]=a[s];return o}})(t=e.BufferTools||(e.BufferTools={}))})(_||(_={}));var _;(function(e){var t;(function(r){r.getCroppedBuffer=function(a,i,o,s){s===void 0&&(s=0);var c=new Uint8Array(o+s);return c.set(a.subarray(i,i+o)),c},r.getCroppedAndAppendedByteArray=function(a,i,o,s){return e.ArrayTools.concatUint8Arrays([a.subarray(i,i+o),s])},r.detectCompressionSourceEncoding=function(a){if(a==null)throw new TypeError("detectCompressionSourceEncoding: input is null or undefined");if(typeof a=="string")return"String";if(a instanceof Uint8Array||typeof Buffer=="function"&&Buffer.isBuffer(a))return"ByteArray";throw new TypeError("detectCompressionSourceEncoding: input must be of type 'string', 'Uint8Array' or 'Buffer'")},r.encodeCompressedBytes=function(a,i){switch(i){case"ByteArray":return a;case"Buffer":return e.BufferTools.uint8ArrayToBuffer(a);case"Base64":return e.encodeBase64(a);case"BinaryString":return e.encodeBinaryString(a);case"StorageBinaryString":return e.encodeStorageBinaryString(a);default:throw new TypeError("encodeCompressedBytes: invalid output encoding requested")}},r.decodeCompressedBytes=function(a,i){if(i==null)throw new TypeError("decodeCompressedData: Input is null or undefined");switch(i){case"ByteArray":case"Buffer":var o=e.BufferTools.convertToUint8ArrayIfNeeded(a);if(!(o instanceof Uint8Array))throw new TypeError("decodeCompressedData: 'ByteArray' or 'Buffer' input type was specified but input is not a Uint8Array or Buffer");return o;case"Base64":if(typeof a!="string")throw new TypeError("decodeCompressedData: 'Base64' input type was specified but input is not a string");return e.decodeBase64(a);case"BinaryString":if(typeof a!="string")throw new TypeError("decodeCompressedData: 'BinaryString' input type was specified but input is not a string");return e.decodeBinaryString(a);case"StorageBinaryString":if(typeof a!="string")throw new TypeError("decodeCompressedData: 'StorageBinaryString' input type was specified but input is not a string");return e.decodeStorageBinaryString(a);default:throw new TypeError("decodeCompressedData: invalid input encoding requested: '"+i+"'")}},r.encodeDecompressedBytes=function(a,i){switch(i){case"String":return e.decodeUTF8(a);case"ByteArray":return a;case"Buffer":if(typeof Buffer!="function")throw new TypeError("encodeDecompressedBytes: a 'Buffer' type was specified but is not supported at the current envirnment");return e.BufferTools.uint8ArrayToBuffer(a);default:throw new TypeError("encodeDecompressedBytes: invalid output encoding requested")}}})(t=e.CompressionCommon||(e.CompressionCommon={}))})(_||(_={}));var _;(function(e){var t;(function(r){var a=[],i;r.enqueueImmediate=function(o){a.push(o),a.length===1&&i()},r.initializeScheduler=function(){var o=function(){for(var l=0,d=a;l<d.length;l++){var u=d[l];try{u.call(void 0)}catch(f){e.printExceptionAndStackTraceToConsole(f,"enqueueImmediate exception")}}a.length=0};if(e.runningInNodeJS()&&(i=function(){return setImmediate(function(){return o()})}),typeof window=="object"&&typeof window.addEventListener=="function"&&typeof window.postMessage=="function"){var s="enqueueImmediate-"+Math.random().toString();window.addEventListener("message",function(l){l.data===s&&o()});var c;e.runningInNullOrigin()?c="*":c=window.location.href,i=function(){return window.postMessage(s,c)}}else if(typeof MessageChannel=="function"&&typeof MessagePort=="function"){var p=new MessageChannel;p.port1.onmessage=function(){return o()},i=function(){return p.port2.postMessage(0)}}else i=function(){return setTimeout(function(){return o()},0)}},r.initializeScheduler()})(t=e.EventLoop||(e.EventLoop={})),e.enqueueImmediate=function(r){return t.enqueueImmediate(r)}})(_||(_={}));var _;(function(e){var t;(function(r){r.override=function(a,i){return r.extend(a,i)},r.extend=function(a,i){if(a==null)throw new TypeError("obj is null or undefined");if(typeof a!="object")throw new TypeError("obj is not an object");if(i==null&&(i={}),typeof i!="object")throw new TypeError("newProperties is not an object");if(i!=null)for(var o in i)a[o]=i[o];return a}})(t=e.ObjectTools||(e.ObjectTools={}))})(_||(_={}));var _;(function(e){e.getRandomIntegerInRange=function(t,r){return t+Math.floor(Math.random()*(r-t))},e.getRandomUTF16StringOfLength=function(t){for(var r="",a=0;a<t;a++){var i=void 0;do i=e.getRandomIntegerInRange(0,1114111+1);while(i>=55296&&i<=57343);r+=e.Encoding.CodePoint.decodeToString(i)}return r}})(_||(_={}));var _;(function(e){var t=function(){function r(a){a===void 0&&(a=1024),this.outputBufferCapacity=a,this.outputPosition=0,this.outputString="",this.outputBuffer=new Uint16Array(this.outputBufferCapacity)}return r.prototype.appendCharCode=function(a){this.outputBuffer[this.outputPosition++]=a,this.outputPosition===this.outputBufferCapacity&&this.flushBufferToOutputString()},r.prototype.appendCharCodes=function(a){for(var i=0,o=a.length;i<o;i++)this.appendCharCode(a[i])},r.prototype.appendString=function(a){for(var i=0,o=a.length;i<o;i++)this.appendCharCode(a.charCodeAt(i))},r.prototype.appendCodePoint=function(a){if(a<=65535)this.appendCharCode(a);else if(a<=1114111)this.appendCharCode(55296+(a-65536>>>10)),this.appendCharCode(56320+(a-65536&1023));else throw new Error("appendCodePoint: A code point of "+a+" cannot be encoded in UTF-16")},r.prototype.getOutputString=function(){return this.flushBufferToOutputString(),this.outputString},r.prototype.flushBufferToOutputString=function(){this.outputPosition===this.outputBufferCapacity?this.outputString+=String.fromCharCode.apply(null,this.outputBuffer):this.outputString+=String.fromCharCode.apply(null,this.outputBuffer.subarray(0,this.outputPosition)),this.outputPosition=0},r}();e.StringBuilder=t})(_||(_={}));var _;(function(e){var t=function(){function r(){this.restart()}return r.prototype.restart=function(){this.startTime=r.getTimestamp()},r.prototype.getElapsedTime=function(){return r.getTimestamp()-this.startTime},r.prototype.getElapsedTimeAndRestart=function(){var a=this.getElapsedTime();return this.restart(),a},r.prototype.logAndRestart=function(a,i){i===void 0&&(i=!0);var o=this.getElapsedTime(),s=a+": "+o.toFixed(3)+"ms";return e.log(s,i),this.restart(),o},r.getTimestamp=function(){return this.timestampFunc||this.createGlobalTimestampFunction(),this.timestampFunc()},r.getMicrosecondTimestamp=function(){return Math.floor(r.getTimestamp()*1e3)},r.createGlobalTimestampFunction=function(){if(typeof process=="object"&&typeof process.hrtime=="function"){var a=0;this.timestampFunc=function(){var c=process.hrtime(),p=c[0]*1e3+c[1]/1e6;return a+p},a=Date.now()-this.timestampFunc()}else if(typeof chrome=="object"&&chrome.Interval){var i=Date.now(),o=new chrome.Interval;o.start(),this.timestampFunc=function(){return i+o.microseconds()/1e3}}else if(typeof performance=="object"&&performance.now){var s=Date.now()-performance.now();this.timestampFunc=function(){return s+performance.now()}}else Date.now?this.timestampFunc=function(){return Date.now()}:this.timestampFunc=function(){return new Date().getTime()}},r}();e.Timer=t})(_||(_={}));var _;(function(e){var t=function(){function r(a){a===void 0&&(a=!0),this.MinimumSequenceLength=4,this.MaximumSequenceLength=31,this.MaximumMatchDistance=32767,this.PrefixHashTableSize=65537,this.inputBufferStreamOffset=1,a&&typeof Uint32Array=="function"?this.prefixHashTable=new e.CompressorCustomHashTable(this.PrefixHashTableSize):this.prefixHashTable=new e.CompressorSimpleHashTable(this.PrefixHashTableSize)}return r.prototype.compressBlock=function(a){if(a==null)throw new TypeError("compressBlock: undefined or null input received");return typeof a=="string"&&(a=e.encodeUTF8(a)),a=e.BufferTools.convertToUint8ArrayIfNeeded(a),this.compressUtf8Block(a)},r.prototype.compressUtf8Block=function(a){if(!a||a.length==0)return new Uint8Array(0);var i=this.cropAndAddNewBytesToInputBuffer(a),o=this.inputBuffer,s=this.inputBuffer.length;this.outputBuffer=new Uint8Array(a.length),this.outputBufferPosition=0;for(var c=0,p=i;p<s;p++){var l=o[p],d=p<c;if(p>s-this.MinimumSequenceLength){d||this.outputRawByte(l);continue}var u=this.getBucketIndexForPrefix(p);if(!d){var f=this.findLongestMatch(p,u);f!=null&&(this.outputPointerBytes(f.length,f.distance),c=p+f.length,d=!0)}d||this.outputRawByte(l);var v=this.inputBufferStreamOffset+p;this.prefixHashTable.addValueToBucket(u,v)}return this.outputBuffer.subarray(0,this.outputBufferPosition)},r.prototype.findLongestMatch=function(a,i){var o=this.prefixHashTable.getArraySegmentForBucketIndex(i,this.reusableArraySegmentObject);if(o==null)return null;for(var s=this.inputBuffer,c,p=0,l=0;l<o.length;l++){var d=o.getInReversedOrder(l)-this.inputBufferStreamOffset,u=a-d,f=void 0;if(c===void 0?f=this.MinimumSequenceLength-1:c<128&&u>=128?f=p+(p>>>1):f=p,u>this.MaximumMatchDistance||f>=this.MaximumSequenceLength||a+f>=s.length)break;if(s[d+f]!==s[a+f])continue;for(var v=0;;v++)if(a+v===s.length||s[d+v]!==s[a+v]){v>f&&(c=u,p=v);break}else if(v===this.MaximumSequenceLength)return{distance:u,length:this.MaximumSequenceLength}}return c!==void 0?{distance:c,length:p}:null},r.prototype.getBucketIndexForPrefix=function(a){return(this.inputBuffer[a]*7880599+this.inputBuffer[a+1]*39601+this.inputBuffer[a+2]*199+this.inputBuffer[a+3])%this.PrefixHashTableSize},r.prototype.outputPointerBytes=function(a,i){i<128?(this.outputRawByte(192|a),this.outputRawByte(i)):(this.outputRawByte(224|a),this.outputRawByte(i>>>8),this.outputRawByte(i&255))},r.prototype.outputRawByte=function(a){this.outputBuffer[this.outputBufferPosition++]=a},r.prototype.cropAndAddNewBytesToInputBuffer=function(a){if(this.inputBuffer===void 0)return this.inputBuffer=a,0;var i=Math.min(this.inputBuffer.length,this.MaximumMatchDistance),o=this.inputBuffer.length-i;return this.inputBuffer=e.CompressionCommon.getCroppedAndAppendedByteArray(this.inputBuffer,o,i,a),this.inputBufferStreamOffset+=o,i},r}();e.Compressor=t})(_||(_={}));var _;(function(e){var t=function(){function r(a){this.minimumBucketCapacity=4,this.maximumBucketCapacity=64,this.bucketLocators=new Uint32Array(a*2),this.storage=new Uint32Array(a*2),this.storageIndex=1}return r.prototype.addValueToBucket=function(a,i){a<<=1,this.storageIndex>=this.storage.length>>>1&&this.compact();var o=this.bucketLocators[a],s;if(o===0)o=this.storageIndex,s=1,this.storage[this.storageIndex]=i,this.storageIndex+=this.minimumBucketCapacity;else{s=this.bucketLocators[a+1],s===this.maximumBucketCapacity-1&&(s=this.truncateBucketToNewerElements(o,s,this.maximumBucketCapacity/2));var c=o+s;this.storage[c]===0?(this.storage[c]=i,c===this.storageIndex&&(this.storageIndex+=s)):(e.ArrayTools.copyElements(this.storage,o,this.storage,this.storageIndex,s),o=this.storageIndex,this.storageIndex+=s,this.storage[this.storageIndex++]=i,this.storageIndex+=s),s++}this.bucketLocators[a]=o,this.bucketLocators[a+1]=s},r.prototype.truncateBucketToNewerElements=function(a,i,o){var s=a+i-o;return e.ArrayTools.copyElements(this.storage,s,this.storage,a,o),e.ArrayTools.zeroElements(this.storage,a+o,i-o),o},r.prototype.compact=function(){var a=this.bucketLocators,i=this.storage;this.bucketLocators=new Uint32Array(this.bucketLocators.length),this.storageIndex=1;for(var o=0;o<a.length;o+=2){var s=a[o+1];if(s===0)continue;this.bucketLocators[o]=this.storageIndex,this.bucketLocators[o+1]=s,this.storageIndex+=Math.max(Math.min(s*2,this.maximumBucketCapacity),this.minimumBucketCapacity)}this.storage=new Uint32Array(this.storageIndex*8);for(var o=0;o<a.length;o+=2){var c=a[o];if(c===0)continue;var p=this.bucketLocators[o],l=this.bucketLocators[o+1];e.ArrayTools.copyElements(i,c,this.storage,p,l)}},r.prototype.getArraySegmentForBucketIndex=function(a,i){a<<=1;var o=this.bucketLocators[a];return o===0?null:(i===void 0&&(i=new e.ArraySegment(this.storage,o,this.bucketLocators[a+1])),i)},r.prototype.getUsedBucketCount=function(){return Math.floor(e.ArrayTools.countNonzeroValuesInArray(this.bucketLocators)/2)},r.prototype.getTotalElementCount=function(){for(var a=0,i=0;i<this.bucketLocators.length;i+=2)a+=this.bucketLocators[i+1];return a},r}();e.CompressorCustomHashTable=t})(_||(_={}));var _;(function(e){var t=function(){function r(a){this.maximumBucketCapacity=64,this.buckets=new Array(a)}return r.prototype.addValueToBucket=function(a,i){var o=this.buckets[a];o===void 0?this.buckets[a]=[i]:(o.length===this.maximumBucketCapacity-1&&e.ArrayTools.truncateStartingElements(o,this.maximumBucketCapacity/2),o.push(i))},r.prototype.getArraySegmentForBucketIndex=function(a,i){var o=this.buckets[a];return o===void 0?null:(i===void 0&&(i=new e.ArraySegment(o,0,o.length)),i)},r.prototype.getUsedBucketCount=function(){return e.ArrayTools.countNonzeroValuesInArray(this.buckets)},r.prototype.getTotalElementCount=function(){for(var a=0,i=0;i<this.buckets.length;i++)this.buckets[i]!==void 0&&(a+=this.buckets[i].length);return a},r}();e.CompressorSimpleHashTable=t})(_||(_={}));var _;(function(e){var t=function(){function r(){this.MaximumMatchDistance=32767,this.outputPosition=0}return r.prototype.decompressBlockToString=function(a){return a=e.BufferTools.convertToUint8ArrayIfNeeded(a),e.decodeUTF8(this.decompressBlock(a))},r.prototype.decompressBlock=function(a){this.inputBufferRemainder&&(a=e.ArrayTools.concatUint8Arrays([this.inputBufferRemainder,a]),this.inputBufferRemainder=void 0);for(var i=this.cropOutputBufferToWindowAndInitialize(Math.max(a.length*4,1024)),o=0,s=a.length;o<s;o++){var c=a[o];if(c>>>6!=3){this.outputByte(c);continue}var p=c>>>5;if(o==s-1||o==s-2&&p==7){this.inputBufferRemainder=a.subarray(o);break}if(a[o+1]>>>7===1)this.outputByte(c);else{var l=c&31,d=void 0;p==6?(d=a[o+1],o+=1):(d=a[o+1]<<8|a[o+2],o+=2);for(var u=this.outputPosition-d,f=0;f<l;f++)this.outputByte(this.outputBuffer[u+f])}}return this.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence(),e.CompressionCommon.getCroppedBuffer(this.outputBuffer,i,this.outputPosition-i)},r.prototype.outputByte=function(a){this.outputPosition===this.outputBuffer.length&&(this.outputBuffer=e.ArrayTools.doubleByteArrayCapacity(this.outputBuffer)),this.outputBuffer[this.outputPosition++]=a},r.prototype.cropOutputBufferToWindowAndInitialize=function(a){if(!this.outputBuffer)return this.outputBuffer=new Uint8Array(a),0;var i=Math.min(this.outputPosition,this.MaximumMatchDistance);if(this.outputBuffer=e.CompressionCommon.getCroppedBuffer(this.outputBuffer,this.outputPosition-i,i,a),this.outputPosition=i,this.outputBufferRemainder){for(var o=0;o<this.outputBufferRemainder.length;o++)this.outputByte(this.outputBufferRemainder[o]);this.outputBufferRemainder=void 0}return i},r.prototype.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence=function(){for(var a=1;a<=4&&this.outputPosition-a>=0;a++){var i=this.outputBuffer[this.outputPosition-a];if(a<4&&i>>>3===30||a<3&&i>>>4===14||a<2&&i>>>5===6){this.outputBufferRemainder=this.outputBuffer.subarray(this.outputPosition-a,this.outputPosition),this.outputPosition-=a;return}}},r}();e.Decompressor=t})(_||(_={}));var _;(function(e){var t;(function(r){var a;(function(i){var o=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47]),s=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,255,255,255,255]),c="=",p=61;i.encode=function(l){return!l||l.length==0?"":e.runningInNodeJS()?e.BufferTools.uint8ArrayToBuffer(l).toString("base64"):i.encodeWithJS(l)},i.decode=function(l){return l?e.runningInNodeJS()?e.BufferTools.bufferToUint8Array(new Buffer(l,"base64")):i.decodeWithJS(l):new Uint8Array(0)},i.encodeWithJS=function(l,d){if(d===void 0&&(d=!0),!l||l.length==0)return"";for(var u=o,f=new e.StringBuilder,v,m=0,h=l.length;m<h;m+=3)m<=h-3?(v=l[m]<<16|l[m+1]<<8|l[m+2],f.appendCharCode(u[v>>>18&63]),f.appendCharCode(u[v>>>12&63]),f.appendCharCode(u[v>>>6&63]),f.appendCharCode(u[v&63]),v=0):m===h-2?(v=l[m]<<16|l[m+1]<<8,f.appendCharCode(u[v>>>18&63]),f.appendCharCode(u[v>>>12&63]),f.appendCharCode(u[v>>>6&63]),d&&f.appendCharCode(p)):m===h-1&&(v=l[m]<<16,f.appendCharCode(u[v>>>18&63]),f.appendCharCode(u[v>>>12&63]),d&&(f.appendCharCode(p),f.appendCharCode(p)));return f.getOutputString()},i.decodeWithJS=function(l,d){if(!l||l.length==0)return new Uint8Array(0);var u=l.length%4;if(u===1)throw new Error("Invalid Base64 string: length % 4 == 1");u===2?l+=c+c:u===3&&(l+=c),d||(d=new Uint8Array(l.length));for(var f=0,v=l.length,m=0;m<v;m+=4){var h=s[l.charCodeAt(m)]<<18|s[l.charCodeAt(m+1)]<<12|s[l.charCodeAt(m+2)]<<6|s[l.charCodeAt(m+3)];d[f++]=h>>>16&255,d[f++]=h>>>8&255,d[f++]=h&255}return l.charCodeAt(v-1)==p&&f--,l.charCodeAt(v-2)==p&&f--,d.subarray(0,f)}})(a=r.Base64||(r.Base64={}))})(t=e.Encoding||(e.Encoding={}))})(_||(_={}));var _;(function(e){var t;(function(r){var a;(function(i){i.encode=function(o){if(o==null)throw new TypeError("BinaryString.encode: undefined or null input received");if(o.length===0)return"";for(var s=o.length,c=new e.StringBuilder,p=0,l=1,d=0;d<s;d+=2){var u=void 0;d==s-1?u=o[d]<<8:u=o[d]<<8|o[d+1],c.appendCharCode(p<<16-l|u>>>l),p=u&(1<<l)-1,l===15?(c.appendCharCode(p),p=0,l=1):l+=1,d>=s-2&&c.appendCharCode(p<<16-l)}return c.appendCharCode(32768|s%2),c.getOutputString()},i.decode=function(o){if(typeof o!="string")throw new TypeError("BinaryString.decode: invalid input type");if(o=="")return new Uint8Array(0);for(var s=new Uint8Array(o.length*3),c=0,p=function(v){s[c++]=v>>>8,s[c++]=v&255},l=0,d=0,u=0;u<o.length;u++){var f=o.charCodeAt(u);if(f>=32768){f==(32768|1)&&c--,d=0;continue}d==0?l=f:(p(l<<d|f>>>15-d),l=f&(1<<15-d)-1),d==15?d=0:d+=1}return s.subarray(0,c)}})(a=r.BinaryString||(r.BinaryString={}))})(t=e.Encoding||(e.Encoding={}))})(_||(_={}));var _;(function(e){var t;(function(r){var a;(function(i){i.encodeFromString=function(o,s){var c=o.charCodeAt(s);if(c<55296||c>56319)return c;var p=o.charCodeAt(s+1);if(p>=56320&&p<=57343)return 65536+((c-55296<<10)+(p-56320));throw new Error("getUnicodeCodePoint: Received a lead surrogate character, char code "+c+", followed by "+p+", which is not a trailing surrogate character code.")},i.decodeToString=function(o){if(o<=65535)return String.fromCharCode(o);if(o<=1114111)return String.fromCharCode(55296+(o-65536>>>10),56320+(o-65536&1023));throw new Error("getStringFromUnicodeCodePoint: A code point of "+o+" cannot be encoded in UTF-16")}})(a=r.CodePoint||(r.CodePoint={}))})(t=e.Encoding||(e.Encoding={}))})(_||(_={}));var _;(function(e){var t;(function(r){var a;(function(i){var o=["000","001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","017","018","019","020","021","022","023","024","025","026","027","028","029","030","031","032","033","034","035","036","037","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","053","054","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","093","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255"];i.encode=function(s){for(var c=[],p=0;p<s.length;p++)c.push(o[s[p]]);return c.join(" ")}})(a=r.DecimalString||(r.DecimalString={}))})(t=e.Encoding||(e.Encoding={}))})(_||(_={}));var _;(function(e){var t;(function(r){var a;(function(i){i.encode=function(o){return r.BinaryString.encode(o).replace(/\0/g,"耂")},i.decode=function(o){return r.BinaryString.decode(o.replace(/\u8002/g,"\0"))}})(a=r.StorageBinaryString||(r.StorageBinaryString={}))})(t=e.Encoding||(e.Encoding={}))})(_||(_={}));var _;(function(e){var t;(function(r){var a;(function(i){var o,s;i.encode=function(c){return!c||c.length==0?new Uint8Array(0):e.runningInNodeJS()?e.BufferTools.bufferToUint8Array(new Buffer(c,"utf8")):i.createNativeTextEncoderAndDecoderIfAvailable()?o.encode(c):i.encodeWithJS(c)},i.decode=function(c){return!c||c.length==0?"":e.runningInNodeJS()?e.BufferTools.uint8ArrayToBuffer(c).toString("utf8"):i.createNativeTextEncoderAndDecoderIfAvailable()?s.decode(c):i.decodeWithJS(c)},i.encodeWithJS=function(c,p){if(!c||c.length==0)return new Uint8Array(0);p||(p=new Uint8Array(c.length*4));for(var l=0,d=0;d<c.length;d++){var u=r.CodePoint.encodeFromString(c,d);if(u<=127)p[l++]=u;else if(u<=2047)p[l++]=192|u>>>6,p[l++]=128|u&63;else if(u<=65535)p[l++]=224|u>>>12,p[l++]=128|u>>>6&63,p[l++]=128|u&63;else if(u<=1114111)p[l++]=240|u>>>18,p[l++]=128|u>>>12&63,p[l++]=128|u>>>6&63,p[l++]=128|u&63,d++;else throw new Error("Invalid UTF-16 string: Encountered a character unsupported by UTF-8/16 (RFC 3629)")}return p.subarray(0,l)},i.decodeWithJS=function(c,p,l){if(p===void 0&&(p=0),!c||c.length==0)return"";l===void 0&&(l=c.length);for(var d=new e.StringBuilder,u,f,v=p,m=l;v<m;){if(f=c[v],f>>>7===0)u=f,v+=1;else if(f>>>5===6){if(v+1>=l)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+v);u=(f&31)<<6|c[v+1]&63,v+=2}else if(f>>>4===14){if(v+2>=l)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+v);u=(f&15)<<12|(c[v+1]&63)<<6|c[v+2]&63,v+=3}else if(f>>>3===30){if(v+3>=l)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+v);u=(f&7)<<18|(c[v+1]&63)<<12|(c[v+2]&63)<<6|c[v+3]&63,v+=4}else throw new Error("Invalid UTF-8 stream: An invalid lead byte value encountered at position "+v);d.appendCodePoint(u)}return d.getOutputString()},i.createNativeTextEncoderAndDecoderIfAvailable=function(){return o?!0:typeof TextEncoder=="function"?(o=new TextEncoder("utf-8"),s=new TextDecoder("utf-8"),!0):!1}})(a=r.UTF8||(r.UTF8={}))})(t=e.Encoding||(e.Encoding={}))})(_||(_={}));var _;(function(e){function t(h,y){if(y===void 0&&(y={}),h==null)throw new TypeError("compress: undefined or null input received");var E=e.CompressionCommon.detectCompressionSourceEncoding(h);y=e.ObjectTools.override({inputEncoding:E,outputEncoding:"ByteArray"},y);var x=new e.Compressor,b=x.compressBlock(h);return e.CompressionCommon.encodeCompressedBytes(b,y.outputEncoding)}e.compress=t;function r(h,y){if(y===void 0&&(y={}),h==null)throw new TypeError("decompress: undefined or null input received");y=e.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String"},y);var E=e.CompressionCommon.decodeCompressedBytes(h,y.inputEncoding),x=new e.Decompressor,b=x.decompressBlock(E);return e.CompressionCommon.encodeDecompressedBytes(b,y.outputEncoding)}e.decompress=r;function a(h,y,E){E==null&&(E=function(){});var x;try{x=e.CompressionCommon.detectCompressionSourceEncoding(h)}catch(b){E(void 0,b);return}y=e.ObjectTools.override({inputEncoding:x,outputEncoding:"ByteArray",useWebWorker:!0,blockSize:65536},y),e.enqueueImmediate(function(){y.useWebWorker&&e.WebWorker.createGlobalWorkerIfNeeded()?e.WebWorker.compressAsync(h,y,E):e.AsyncCompressor.compressAsync(h,y,E)})}e.compressAsync=a;function i(h,y,E){if(E==null&&(E=function(){}),h==null){E(void 0,new TypeError("decompressAsync: undefined or null input received"));return}y=e.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String",useWebWorker:!0,blockSize:65536},y);var x=e.BufferTools.convertToUint8ArrayIfNeeded(h);e.EventLoop.enqueueImmediate(function(){y.useWebWorker&&e.WebWorker.createGlobalWorkerIfNeeded()?e.WebWorker.decompressAsync(x,y,E):e.AsyncDecompressor.decompressAsync(h,y,E)})}e.decompressAsync=i;function o(){return e.AsyncCompressor.createCompressionStream()}e.createCompressionStream=o;function s(){return e.AsyncDecompressor.createDecompressionStream()}e.createDecompressionStream=s;function c(h){return e.Encoding.UTF8.encode(h)}e.encodeUTF8=c;function p(h){return e.Encoding.UTF8.decode(h)}e.decodeUTF8=p;function l(h){return e.Encoding.Base64.encode(h)}e.encodeBase64=l;function d(h){return e.Encoding.Base64.decode(h)}e.decodeBase64=d;function u(h){return e.Encoding.BinaryString.encode(h)}e.encodeBinaryString=u;function f(h){return e.Encoding.BinaryString.decode(h)}e.decodeBinaryString=f;function v(h){return e.Encoding.StorageBinaryString.encode(h)}e.encodeStorageBinaryString=v;function m(h){return e.Encoding.StorageBinaryString.decode(h)}e.decodeStorageBinaryString=m})(_||(_={}))});var nr=Ue((KA,tr)=>{"use strict";var Fe={};Fe.enc=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u"];Fe.dec=Object.fromEntries(Fe.enc.map((e,t)=>[e.charCodeAt(0),t]));Fe.enc=Object.fromEntries(Fe.enc.map((e,t)=>[t,e]));tr.exports=Fe});var cr=Ue((FA,rr)=>{"use strict";var ar=nr(),ya=Math.pow(2,32)-1,ba=85*85*85*85,wa=85*85*85,xa=85*85,Ea=85,_a=[9,10,11,12,13,32],on="<~",ir="~>";const Nt={bytes:"ByteArray",string:"String"};function sn(e){const t=new TextEncoder;return t.encode(e)}function ka(e){const t=new TextDecoder;return t.decode(e)}function or(e){for(var t=ar.enc,r=e.length%4===0?0:4-e.length%4,a="",i=0;i<e.length;i+=4){for(var o=(e[i]<<24>>>0)+((i+1>e.length?0:e[i+1])<<16>>>0)+((i+2>e.length?0:e[i+2])<<8>>>0)+((i+3>e.length?0:e[i+3])<<0>>>0),s=[],c=0;c<5;++c)s.unshift(t[o%85]),o=Math.floor(o/85);s=s.join(""),s==="!!!!!"&&(s="z"),a+=s}return on+a.substring(0,a.length-r)+ir}function sr(e){var t=ar.dec,r=e.length;r-=on.length+ir.length;for(var a=r%5===0?0:5-r%5,i=on.length,o=i+r,s=new Uint8Array(4*Math.ceil((o-i)/5)),c=function(u){if(u<o)for(;_a.indexOf(e[u])!==-1;)a=(a+1)%5,u++;return u},p=0,l=i;l<o;){var d=0;if(l=c(l),d=t[e[l]]*ba,l=c(l+1),d+=(l>=o?84:t[e[l]])*wa,l=c(l+1),d+=(l>=o?84:t[e[l]])*xa,l=c(l+1),d+=(l>=o?84:t[e[l]])*Ea,l=c(l+1),d+=l>=o?84:t[e[l]],l=c(l+1),d>ya||d<0)return!1;s[p]=d>>>24,s[p+1]=d>>>16,s[p+2]=d>>>8,s[p+3]=d&255,p+=4}return s.slice(0,p-a)}rr.exports={encode:function(e,t=Nt.string){return typeof e=="string"&&(e=sn(e)),t===Nt.bytes?sn(or(e)):or(e)},decode:function(e,t=Nt.bytes){return typeof e=="string"&&(e=sn(e.replace("z","!!!!!"))),t===Nt.string?ka(sr(e)):sr(e)}}});var mr=Ue(Ia=>{ma(Ia,{BaseAdapter:()=>ie,BaseOverlay:()=>Pt,FILE_SYSTEM_CHANGES:()=>ge,FileSystemOverlay:()=>hr,IndexedDBAdapter:()=>Ve,LocalStorageAdapter:()=>cn,MemoryAdapter:()=>ot,SessionStorageAdapter:()=>ln,StorageRegistry:()=>fr,WebStorageAdapter:()=>Ae,basename:()=>pr,can_watch:()=>pn,compress:()=>He,create_url_object:()=>Se,decode_safe:()=>Bt,decode_utf8:()=>Dt,decompress:()=>Ie,delimiter:()=>lr,dirname:()=>it,encode_safe:()=>jt,encode_utf8:()=>Mt,extname:()=>Ct,filter_query:()=>Ge,get_mime_type:()=>ke,hook_watcher:()=>Te,join:()=>ue,make_glob:()=>de,normalize:()=>$,relative:()=>ur,resolve:()=>dr,sep:()=>Be})});const ye="application/octet-stream";var Z;(function(e){e.bytes="MODE_BYTES",e.text="MODE_TEXT"})(Z||(Z={}));var q;(function(e){e.attached="CHANGE_ATTACHED",e.created="CHANGE_CREATED",e.updated="CHANGE_UPDATED",e.removed="CHANGE_REMOVED"})(q||(q={}));var P;(function(e){e.directory="NODE_DIRECTORY",e.file="NODE_FILE",e.undefined="NODE_UNDEFINED"})(P||(P={}));function J(e){const t=[];let r;const a=o=>{if(t.length>0)for(let s=0;s<t.length;s++){const[c]=t[s];c(o)}},i=o=>{const s=[o];return t.push(s),e&&t.length===1&&(r=e(a)),()=>{const c=t.indexOf(s);c>0&&(t.splice(c,1),r&&t.length==0&&(r(),r=null))}};return{dispatch:a,subscribe:i}}const vr=Ot(Yn());function de(e){return vr.default(e,{extended:!0,globstar:!0})}const X=Ot(Ln()),Aa=/[\/]*$/,lr=X.delimiter,Be=X.sep,pr=X.basename,Ct=X.extname,ue=X.join,ur=X.relative,dr=X.resolve;function it(e){return e=X.dirname(e),e==="."?Be:e}function $(e){return e=X.normalize(e),e==="."||e===Be?Be:(e.slice(0,1)!==Be&&(e=Be+e),e.replace(Aa,""))}function Sa(e={}){const{namespace:t="default"}=e;return{...e,namespace:t}}function Se(e,t){e instanceof Uint8Array&&(t||(t=ye),e=new Blob([e],{type:t}));const r=URL.createObjectURL(e);return{url:r,destroy:async()=>URL.revokeObjectURL(r)}}function pn(e,t={}){const{change:r,glob:a,inclusive:i=!1,path:o="/",recursive:s=!1,regex:c,type:p}=t;if(p){if(typeof p=="string"){if(e.type!==p)return!1}else if(!p.includes(e.type))return!1}if(r){if(typeof r=="string"){if(r!==e.change)return!1}else if(!r.includes(e.change))return!1}if(a){const l=de($(a));return l.test(e.path)}else{if(c)return c.test(e.path);if(i){const l=s?ue(o,"**"):ue(o,"*"),d=de($(l));return d.test(e.path)}return e.path===$(o)}}function Ge(e,t={}){const{path:r={},type:a}=t;if(a&&(typeof a=="string"?e=e.filter(i=>i.type===a):e=e.filter(i=>a.includes(i.type))),r.glob){const i=de($(r.glob));e=e.filter(o=>i.test(o.path))}else if(r.regex){const{regex:i}=r;e=e.filter(o=>i.test(o.path))}else{let{path:i="/"}=r;i=r.recursive?ue(i,"**"):ue(i,"*");const o=de($(i));e=e.filter(s=>o.test(s.path))}return e}function Te(e,t={}){return J(r=>{const a=e.subscribe(i=>{pn(i,t)&&r(i)});return()=>a()})}class ie{constructor(e={}){this.EVENT_MOUNTED=J();this.EVENT_UNMOUNTED=J();this.options=Sa(e)}normalize(e){return $(e)}async create_url_object(e){throw new Error("bad dispatch to 'create_url_object' (not implemented)")}async get(e){throw new Error("bad dispatch to 'get' (not implemented)")}async put(e,t=P.undefined,r){throw new Error("bad dispatch to 'put' (not implemented)")}async query(e={}){throw new Error("bad dispatch to 'query' (not implemented)")}async read(e){throw new Error("bad dispatch to 'get_stats' (not implemented)")}async reload(){throw new Error("bad dispatch to 'reload' (not implemented)")}async remove(e){throw new Error("bad dispatch to 'remove' (not implemented)")}async watch(e={}){throw new Error("bad dispatch to 'watch' (not implemented)")}async write(e,t){throw new Error("bad dispatch to 'put_payload' (not implemented)")}is_mounted(){throw new Error("bad dispatch to 'is_mounted' (not implemented)")}async mount(){throw new Error("bad dispatch to 'mount' (not implemented)")}async unmount(){throw new Error("bad dispatch to 'unmount' (not implemented)")}}ie.can_hotlink=!1,ie.can_watch=!1,ie.can_watch_reload=!1,ie.is_available=!1,ie.is_readonly=!1,ie.requires_mount=!1;const st=Ot(er());function He(e,t={}){const{mode:r=Z.bytes}=t;switch(r){case Z.bytes:return st.compress(e,{outputEncoding:"ByteArray"});default:throw new Error(`bad option 'options.mode' to 'compress' (encoding mode '${r}' not available)`)}}function Ie(e,t={}){const{mode:r=Z.bytes}=t;switch(r){case Z.bytes:return st.decompress(e,{outputEncoding:"ByteArray"});case Z.text:return st.decompress(e,{outputEncoding:"String"});default:throw new Error(`bad option 'options.mode' to 'decompress' (encoding mode '${r}' not available)`)}}function be(){return Date.now()}class zt extends Map{constructor(){super(...arguments);this.clone=e=>{throw new Error("bad dispatch to 'clone' (not implemented)")}}entries(){const{clone:e}=this;let t=Array.from(super.entries());return t=t.map(([r,a],i)=>[r,e(a)]),t[Symbol.iterator]()}forEach(e,t){for(const r of this){const[a,i]=r;e.call(t,this.clone(i),a,this)}}get(e){const t=super.get(e);if(t!==void 0)return this.clone(t)}set(e,t){return t=this.clone(t),super.set(e,t),this}values(){let e=Array.from(super.values());return e=e.map((t,r)=>this.clone(t)),e[Symbol.iterator]()}}var Ta="application/vnd.lotus-1-2-3",Ra="application/andrew-inset",Oa="application/applixware",Na="application/atom+xml",Ca="application/atomcat+xml",Ba="application/atomdeleted+xml",Da="application/atomsvc+xml",ja="application/atsc-dwd+xml",Ma="application/atsc-held+xml",Pa="application/atsc-rsat+xml",za="application/bdoc",Wa="application/calendar+xml",qa="application/ccxml+xml",Ua="application/cdfx+xml",Ka="application/cdmi-capability",Fa="application/cdmi-container",Ha="application/cdmi-domain",Va="application/cdmi-object",Ga="application/cdmi-queue",Ja="application/cu-seeme",Qa="application/dash+xml",Ya="application/davmount+xml",$a="application/docbook+xml",Xa="application/dssc+der",La="application/dssc+xml",Za="application/ecmascript",ei="application/ecmascript",ti="application/emma+xml",ni="application/emotionml+xml",ri="application/epub+zip",ai="application/exi",ii="application/fdt+xml",oi="application/font-tdpfr",si="application/geo+json",ci="application/gml+xml",li="application/gpx+xml",pi="application/gxf",ui="application/gzip",di="application/hjson",fi="application/hyperstudio",hi="application/inkml+xml",mi="application/inkml+xml",vi="application/ipfix",gi="application/its+xml",yi="application/java-archive",bi="application/java-archive",wi="application/java-archive",xi="application/java-serialized-object",Ei="application/java-vm",_i="application/javascript",ki="application/javascript",Ii="application/json",Ai="application/json",Si="application/json5",Ti="application/jsonml+json",Ri="application/ld+json",Oi="application/lgr+xml",Ni="application/lost+xml",Ci="application/mac-binhex40",Bi="application/mac-compactpro",Di="application/mads+xml",ji="application/manifest+json",Mi="application/marc",Pi="application/marcxml+xml",zi="application/mathematica",Wi="application/mathematica",qi="application/mathematica",Ui="application/mathml+xml",Ki="application/mbox",Fi="application/mediaservercontrol+xml",Hi="application/metalink+xml",Vi="application/metalink4+xml",Gi="application/mets+xml",Ji="application/mmt-aei+xml",Qi="application/mmt-usd+xml",Yi="application/mods+xml",$i="application/mp21",Xi="application/mp21",Li="application/mp4",Zi="application/mp4",eo="application/mrb-consumer+xml",to="application/msword",no="application/msword",ro="application/mxf",ao="application/n-quads",io="application/n-triples",oo="application/node",so="application/octet-stream",co="application/octet-stream",lo="application/octet-stream",po="application/octet-stream",uo="application/octet-stream",fo="application/octet-stream",ho="application/octet-stream",mo="application/octet-stream",vo="application/octet-stream",go="application/octet-stream",yo="application/octet-stream",bo="application/octet-stream",wo="application/x-msdos-program",xo="application/x-msdownload",Eo="application/x-debian-package",_o="application/x-apple-diskimage",ko="application/x-iso9660-image",Io="application/octet-stream",Ao="application/x-msdownload",So="application/octet-stream",To="application/octet-stream",Ro="application/octet-stream",Oo="application/oda",No="application/oebps-package+xml",Co="application/ogg",Bo="application/omdoc+xml",Do="application/onenote",jo="application/onenote",Mo="application/onenote",Po="application/onenote",zo="application/oxps",Wo="application/p2p-overlay+xml",qo="application/patch-ops-error+xml",Uo="application/pdf",Ko="application/pgp-encrypted",Fo="application/pgp-signature",Ho="application/pgp-signature",Vo="application/pics-rules",Go="application/pkcs10",Jo="application/pkcs7-mime",Qo="application/pkcs7-mime",Yo="application/pkcs7-signature",$o="application/pkcs8",Xo="application/pkix-attr-cert",Lo="application/pkix-cert",Zo="application/pkix-crl",es="application/pkix-pkipath",ts="application/pkixcmp",ns="application/pls+xml",rs="application/postscript",as="application/postscript",is="application/postscript",os="application/provenance+xml",ss="application/prs.cww",cs="application/pskc+xml",ls="application/raml+yaml",ps="application/rdf+xml",us="application/rdf+xml",ds="application/reginfo+xml",fs="application/relax-ng-compact-syntax",hs="application/resource-lists+xml",ms="application/resource-lists-diff+xml",vs="application/rls-services+xml",gs="application/route-apd+xml",ys="application/route-s-tsid+xml",bs="application/route-usd+xml",ws="application/rpki-ghostbusters",xs="application/rpki-manifest",Es="application/rpki-roa",_s="application/rsd+xml",ks="application/rss+xml",Is="application/rtf",As="application/sbml+xml",Ss="application/scvp-cv-request",Ts="application/scvp-cv-response",Rs="application/scvp-vp-request",Os="application/scvp-vp-response",Ns="application/sdp",Cs="application/senml+xml",Bs="application/sensml+xml",Ds="application/set-payment-initiation",js="application/set-registration-initiation",Ms="application/shf+xml",Ps="application/sieve",zs="application/sieve",Ws="application/smil+xml",qs="application/smil+xml",Us="application/sparql-query",Ks="application/sparql-results+xml",Fs="application/srgs",Hs="application/srgs+xml",Vs="application/sru+xml",Gs="application/ssdl+xml",Js="application/ssml+xml",Qs="application/swid+xml",Ys="application/tei+xml",$s="application/tei+xml",Xs="application/thraud+xml",Ls="application/timestamped-data",Zs="application/toml",ec="application/ttml+xml",tc="application/urc-ressheet+xml",nc="application/vnd.1000minds.decision-model+xml",rc="application/vnd.3gpp.pic-bw-large",ac="application/vnd.3gpp.pic-bw-small",ic="application/vnd.3gpp.pic-bw-var",oc="application/vnd.3gpp2.tcap",sc="application/vnd.3m.post-it-notes",cc="application/vnd.accpac.simply.aso",lc="application/vnd.accpac.simply.imp",pc="application/vnd.acucobol",uc="application/vnd.acucorp",dc="application/vnd.acucorp",fc="application/vnd.adobe.air-application-installer-package+zip",hc="application/vnd.adobe.formscentral.fcdt",mc="application/vnd.adobe.fxp",vc="application/vnd.adobe.fxp",gc="application/vnd.adobe.xdp+xml",yc="application/vnd.adobe.xfdf",bc="application/vnd.ahead.space",wc="application/vnd.airzip.filesecure.azf",xc="application/vnd.airzip.filesecure.azs",Ec="application/vnd.amazon.ebook",_c="application/vnd.americandynamics.acc",kc="application/vnd.amiga.ami",Ic="application/vnd.android.package-archive",Ac="application/vnd.anser-web-certificate-issue-initiation",Sc="application/vnd.anser-web-funds-transfer-initiation",Tc="application/vnd.antix.game-component",Rc="application/vnd.apple.installer+xml",Oc="application/vnd.apple.keynote",Nc="application/vnd.apple.mpegurl",Cc="application/vnd.apple.numbers",Bc="application/vnd.apple.pages",Dc="application/vnd.apple.pkpass",jc="application/vnd.aristanetworks.swi",Mc="application/vnd.astraea-software.iota",Pc="application/vnd.audiograph",zc="application/vnd.balsamiq.bmml+xml",Wc="application/vnd.blueice.multipass",qc="application/vnd.bmi",Uc="application/vnd.businessobjects",Kc="application/vnd.chemdraw+xml",Fc="application/vnd.chipnuts.karaoke-mmd",Hc="application/vnd.cinderella",Vc="application/vnd.citationstyles.style+xml",Gc="application/vnd.claymore",Jc="application/vnd.cloanto.rp9",Qc="application/vnd.clonk.c4group",Yc="application/vnd.clonk.c4group",$c="application/vnd.clonk.c4group",Xc="application/vnd.clonk.c4group",Lc="application/vnd.clonk.c4group",Zc="application/vnd.cluetrust.cartomobile-config",el="application/vnd.cluetrust.cartomobile-config-pkg",tl="application/vnd.commonspace",nl="application/vnd.contact.cmsg",rl="application/vnd.cosmocaller",al="application/vnd.crick.clicker",il="application/vnd.crick.clicker.keyboard",ol="application/vnd.crick.clicker.palette",sl="application/vnd.crick.clicker.template",cl="application/vnd.crick.clicker.wordbank",ll="application/vnd.criticaltools.wbs+xml",pl="application/vnd.ctc-posml",ul="application/vnd.cups-ppd",dl="application/vnd.curl.car",fl="application/vnd.curl.pcurl",hl="application/vnd.dart",ml="application/vnd.data-vision.rdz",vl="application/vnd.dece.data",gl="application/vnd.dece.data",yl="application/vnd.dece.data",bl="application/vnd.dece.data",wl="application/vnd.dece.ttml+xml",xl="application/vnd.dece.ttml+xml",El="application/vnd.dece.unspecified",_l="application/vnd.dece.unspecified",kl="application/vnd.dece.zip",Il="application/vnd.dece.zip",Al="application/vnd.denovo.fcselayout-link",Sl="application/vnd.dna",Tl="application/vnd.dolby.mlp",Rl="application/vnd.dpgraph",Ol="application/vnd.dreamfactory",Nl="application/vnd.ds-keypoint",Cl="application/vnd.dvb.ait",Bl="application/vnd.dvb.service",Dl="application/vnd.dynageo",jl="application/vnd.ecowin.chart",Ml="application/vnd.enliven",Pl="application/vnd.epson.esf",zl="application/vnd.epson.msf",Wl="application/vnd.epson.quickanime",ql="application/vnd.epson.salt",Ul="application/vnd.epson.ssf",Kl="application/vnd.eszigno3+xml",Fl="application/vnd.eszigno3+xml",Hl="application/vnd.ezpix-album",Vl="application/vnd.ezpix-package",Gl="application/vnd.fdf",Jl="application/vnd.fdsn.mseed",Ql="application/vnd.fdsn.seed",Yl="application/vnd.fdsn.seed",$l="application/vnd.flographit",Xl="application/vnd.fluxtime.clip",Ll="application/vnd.framemaker",Zl="application/vnd.framemaker",ep="application/vnd.framemaker",tp="application/vnd.framemaker",np="application/vnd.frogans.fnc",rp="application/vnd.frogans.ltf",ap="application/vnd.fsc.weblaunch",ip="application/vnd.fujitsu.oasys",op="application/vnd.fujitsu.oasys2",sp="application/vnd.fujitsu.oasys3",cp="application/vnd.fujitsu.oasysgp",lp="application/vnd.fujitsu.oasysprs",pp="application/vnd.fujixerox.ddd",up="application/vnd.fujixerox.docuworks",dp="application/vnd.fujixerox.docuworks.binder",fp="application/vnd.fuzzysheet",hp="application/vnd.genomatix.tuxedo",mp="application/vnd.geogebra.file",vp="application/vnd.geogebra.tool",gp="application/vnd.geometry-explorer",yp="application/vnd.geometry-explorer",bp="application/vnd.geonext",wp="application/vnd.geoplan",xp="application/vnd.geospace",Ep="application/vnd.gmx",_p="application/vnd.google-apps.document",kp="application/vnd.google-apps.presentation",Ip="application/vnd.google-apps.spreadsheet",Ap="application/vnd.google-earth.kml+xml",Sp="application/vnd.google-earth.kmz",Tp="application/vnd.grafeq",Rp="application/vnd.grafeq",Op="application/vnd.groove-account",Np="application/vnd.groove-help",Cp="application/vnd.groove-identity-message",Bp="application/vnd.groove-injector",Dp="application/vnd.groove-tool-message",jp="application/vnd.groove-tool-template",Mp="application/vnd.groove-vcard",Pp="application/vnd.hal+xml",zp="application/vnd.handheld-entertainment+xml",Wp="application/vnd.hbci",qp="application/vnd.hhe.lesson-player",Up="application/vnd.hp-hpgl",Kp="application/vnd.hp-hpid",Fp="application/vnd.hp-hps",Hp="application/vnd.hp-jlyt",Vp="application/vnd.hp-pcl",Gp="application/vnd.hp-pclxl",Jp="application/vnd.hydrostatix.sof-data",Qp="application/vnd.ibm.minipay",Yp="application/vnd.ibm.modcap",$p="application/vnd.ibm.modcap",Xp="application/vnd.ibm.modcap",Lp="application/vnd.ibm.rights-management",Zp="application/vnd.ibm.secure-container",eu="application/vnd.iccprofile",tu="application/vnd.iccprofile",nu="application/vnd.igloader",ru="application/vnd.immervision-ivp",au="application/vnd.immervision-ivu",iu="application/vnd.insors.igm",ou="application/vnd.intercon.formnet",su="application/vnd.intercon.formnet",cu="application/vnd.intergeo",lu="application/vnd.intu.qbo",pu="application/vnd.intu.qfx",uu="application/vnd.ipunplugged.rcprofile",du="application/vnd.irepository.package+xml",fu="application/vnd.is-xpr",hu="application/vnd.isac.fcs",mu="application/vnd.jam",vu="application/vnd.jcp.javame.midlet-rms",gu="application/vnd.jisp",yu="application/vnd.joost.joda-archive",bu="application/vnd.kahootz",wu="application/vnd.kahootz",xu="application/vnd.kde.karbon",Eu="application/vnd.kde.kchart",_u="application/vnd.kde.kformula",ku="application/vnd.kde.kivio",Iu="application/vnd.kde.kontour",Au="application/vnd.kde.kpresenter",Su="application/vnd.kde.kpresenter",Tu="application/vnd.kde.kspread",Ru="application/vnd.kde.kword",Ou="application/vnd.kde.kword",Nu="application/vnd.kenameaapp",Cu="application/vnd.kidspiration",Bu="application/vnd.kinar",Du="application/vnd.kinar",ju="application/vnd.koan",Mu="application/vnd.koan",Pu="application/vnd.koan",zu="application/vnd.koan",Wu="application/vnd.kodak-descriptor",qu="application/vnd.las.las+xml",Uu="application/vnd.llamagraphics.life-balance.desktop",Ku="application/vnd.llamagraphics.life-balance.exchange+xml",Fu="application/vnd.lotus-approach",Hu="application/vnd.lotus-freelance",Vu="application/vnd.lotus-notes",Gu="application/vnd.lotus-organizer",Ju="application/vnd.lotus-screencam",Qu="application/vnd.lotus-wordpro",Yu="application/vnd.macports.portpkg",$u="application/vnd.mcd",Xu="application/vnd.medcalcdata",Lu="application/vnd.mediastation.cdkey",Zu="application/vnd.mfer",ed="application/vnd.mfmp",td="application/vnd.micrografx.flo",nd="application/vnd.micrografx.igx",rd="application/vnd.mif",ad="application/vnd.mobius.daf",id="application/vnd.mobius.dis",od="application/vnd.mobius.mbk",sd="application/vnd.mobius.mqy",cd="application/vnd.mobius.msl",ld="application/vnd.mobius.plc",pd="application/vnd.mobius.txf",ud="application/vnd.mophun.application",dd="application/vnd.mophun.certificate",fd="application/vnd.mozilla.xul+xml",hd="application/vnd.ms-artgalry",md="application/vnd.ms-cab-compressed",vd="application/vnd.ms-excel",gd="application/vnd.ms-excel",yd="application/vnd.ms-excel",bd="application/vnd.ms-excel",wd="application/vnd.ms-excel",xd="application/vnd.ms-excel",Ed="application/vnd.ms-excel.addin.macroenabled.12",_d="application/vnd.ms-excel.sheet.binary.macroenabled.12",kd="application/vnd.ms-excel.sheet.macroenabled.12",Id="application/vnd.ms-excel.template.macroenabled.12",Ad="application/vnd.ms-fontobject",Sd="application/vnd.ms-htmlhelp",Td="application/vnd.ms-ims",Rd="application/vnd.ms-lrm",Od="application/vnd.ms-officetheme",Nd="application/vnd.ms-outlook",Cd="application/vnd.ms-pki.seccat",Bd="model/stl",Dd="application/vnd.ms-powerpoint",jd="application/vnd.ms-powerpoint",Md="application/vnd.ms-powerpoint",Pd="application/vnd.ms-powerpoint.addin.macroenabled.12",zd="application/vnd.ms-powerpoint.presentation.macroenabled.12",Wd="application/vnd.ms-powerpoint.slide.macroenabled.12",qd="application/vnd.ms-powerpoint.slideshow.macroenabled.12",Ud="application/vnd.ms-powerpoint.template.macroenabled.12",Kd="application/vnd.ms-project",Fd="application/vnd.ms-project",Hd="application/vnd.ms-word.document.macroenabled.12",Vd="application/vnd.ms-word.template.macroenabled.12",Gd="application/vnd.ms-works",Jd="application/vnd.ms-works",Qd="application/vnd.ms-works",Yd="application/vnd.ms-works",$d="application/vnd.ms-wpl",Xd="application/vnd.ms-xpsdocument",Ld="application/vnd.mseq",Zd="application/vnd.musician",ef="application/vnd.muvee.style",tf="application/vnd.mynfc",nf="application/vnd.neurolanguage.nlu",rf="application/vnd.nitf",af="application/vnd.nitf",of="application/vnd.noblenet-directory",sf="application/vnd.noblenet-sealer",cf="application/vnd.noblenet-web",lf="application/vnd.nokia.n-gage.data",pf="application/vnd.nokia.n-gage.symbian.install",uf="application/vnd.nokia.radio-preset",df="application/vnd.nokia.radio-presets",ff="application/vnd.novadigm.edm",hf="application/vnd.novadigm.edx",mf="application/vnd.novadigm.ext",vf="application/vnd.oasis.opendocument.chart",gf="application/vnd.oasis.opendocument.chart-template",yf="application/vnd.oasis.opendocument.database",bf="application/vnd.oasis.opendocument.formula",wf="application/vnd.oasis.opendocument.formula-template",xf="application/vnd.oasis.opendocument.graphics",Ef="application/vnd.oasis.opendocument.graphics-template",_f="application/vnd.oasis.opendocument.image",kf="application/vnd.oasis.opendocument.image-template",If="application/vnd.oasis.opendocument.presentation",Af="application/vnd.oasis.opendocument.presentation-template",Sf="application/vnd.oasis.opendocument.spreadsheet",Tf="application/vnd.oasis.opendocument.spreadsheet-template",Rf="application/vnd.oasis.opendocument.text",Of="application/vnd.oasis.opendocument.text-master",Nf="application/vnd.oasis.opendocument.text-template",Cf="application/vnd.oasis.opendocument.text-web",Bf="application/vnd.olpc-sugar",Df="application/vnd.oma.dd2+xml",jf="application/vnd.openblox.game+xml",Mf="application/vnd.openofficeorg.extension",Pf="application/vnd.openstreetmap.data+xml",zf="application/vnd.openxmlformats-officedocument.presentationml.presentation",Wf="application/vnd.openxmlformats-officedocument.presentationml.slide",qf="application/vnd.openxmlformats-officedocument.presentationml.slideshow",Uf="application/vnd.openxmlformats-officedocument.presentationml.template",Kf="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",Ff="application/vnd.openxmlformats-officedocument.spreadsheetml.template",Hf="application/vnd.openxmlformats-officedocument.wordprocessingml.document",Vf="application/vnd.openxmlformats-officedocument.wordprocessingml.template",Gf="application/vnd.osgeo.mapguide.package",Jf="application/vnd.osgi.dp",Qf="application/vnd.osgi.subsystem",Yf="application/vnd.palm",$f="application/vnd.palm",Xf="application/vnd.palm",Lf="application/vnd.pawaafile",Zf="application/vnd.pg.format",eh="application/vnd.pg.osasli",th="application/vnd.picsel",nh="application/vnd.pmi.widget",rh="application/vnd.pocketlearn",ah="application/vnd.powerbuilder6",ih="application/vnd.previewsystems.box",oh="application/vnd.proteus.magazine",sh="application/vnd.publishare-delta-tree",ch="application/vnd.pvi.ptid1",lh="application/vnd.quark.quarkxpress",ph="application/vnd.quark.quarkxpress",uh="application/vnd.quark.quarkxpress",dh="application/vnd.quark.quarkxpress",fh="application/vnd.quark.quarkxpress",hh="application/vnd.quark.quarkxpress",mh="application/vnd.realvnc.bed",vh="application/vnd.recordare.musicxml",gh="application/vnd.recordare.musicxml+xml",yh="application/vnd.rig.cryptonote",bh="application/vnd.rim.cod",wh="application/vnd.rn-realmedia",xh="application/vnd.rn-realmedia-vbr",Eh="application/vnd.route66.link66+xml",_h="application/vnd.sailingtracker.track",kh="application/vnd.seemail",Ih="application/vnd.sema",Ah="application/vnd.semd",Sh="application/vnd.semf",Th="application/vnd.shana.informed.formdata",Rh="application/vnd.shana.informed.formtemplate",Oh="application/vnd.shana.informed.interchange",Nh="application/vnd.shana.informed.package",Ch="application/vnd.simtech-mindmapper",Bh="application/vnd.simtech-mindmapper",Dh="application/vnd.smaf",jh="application/vnd.smart.teacher",Mh="application/vnd.software602.filler.form+xml",Ph="application/vnd.solent.sdkm+xml",zh="application/vnd.solent.sdkm+xml",Wh="application/vnd.spotfire.dxp",qh="application/vnd.spotfire.sfs",Uh="application/vnd.stardivision.calc",Kh="application/vnd.stardivision.draw",Fh="application/vnd.stardivision.impress",Hh="application/vnd.stardivision.math",Vh="application/vnd.stardivision.writer",Gh="application/vnd.stardivision.writer",Jh="application/vnd.stardivision.writer-global",Qh="application/vnd.stepmania.package",Yh="application/vnd.stepmania.stepchart",$h="application/vnd.sun.wadl+xml",Xh="application/vnd.sun.xml.calc",Lh="application/vnd.sun.xml.calc.template",Zh="application/vnd.sun.xml.draw",em="application/vnd.sun.xml.draw.template",tm="application/vnd.sun.xml.impress",nm="application/vnd.sun.xml.impress.template",rm="application/vnd.sun.xml.math",am="application/vnd.sun.xml.writer",im="application/vnd.sun.xml.writer.global",om="application/vnd.sun.xml.writer.template",sm="application/vnd.sus-calendar",cm="application/vnd.sus-calendar",lm="application/vnd.svd",pm="application/vnd.symbian.install",um="application/vnd.symbian.install",dm="application/vnd.syncml+xml",fm="application/vnd.syncml.dm+wbxml",hm="application/vnd.syncml.dm+xml",mm="application/vnd.syncml.dmddf+xml",vm="application/vnd.tao.intent-module-archive",gm="application/vnd.tcpdump.pcap",ym="application/vnd.tcpdump.pcap",bm="application/vnd.tcpdump.pcap",wm="application/vnd.tmobile-livetv",xm="application/vnd.trid.tpt",Em="application/vnd.triscape.mxs",_m="application/vnd.trueapp",km="application/vnd.ufdl",Im="application/vnd.ufdl",Am="application/vnd.uiq.theme",Sm="application/vnd.umajin",Tm="application/vnd.unity",Rm="application/vnd.uoml+xml",Om="application/vnd.vcx",Nm="application/vnd.visio",Cm="application/vnd.visio",Bm="application/vnd.visio",Dm="application/vnd.visio",jm="application/vnd.visionary",Mm="application/vnd.vsf",Pm="application/vnd.wap.wbxml",zm="application/vnd.wap.wmlc",Wm="application/vnd.wap.wmlscriptc",qm="application/vnd.webturbo",Um="application/vnd.wolfram.player",Km="application/vnd.wordperfect",Fm="application/vnd.wqd",Hm="application/vnd.wt.stf",Vm="application/vnd.xara",Gm="application/vnd.xfdl",Jm="application/vnd.yamaha.hv-dic",Qm="application/vnd.yamaha.hv-script",Ym="application/vnd.yamaha.hv-voice",$m="application/vnd.yamaha.openscoreformat",Xm="application/vnd.yamaha.openscoreformat.osfpvg+xml",Lm="application/vnd.yamaha.smaf-audio",Zm="application/vnd.yamaha.smaf-phrase",ev="application/vnd.yellowriver-custom-menu",tv="application/vnd.zul",nv="application/vnd.zul",rv="application/vnd.zzazz.deck+xml",av="application/voicexml+xml",iv="application/wasm",ov="application/widget",sv="application/winhlp",cv="application/wsdl+xml",lv="application/wspolicy+xml",pv="application/x-7z-compressed",uv="application/x-abiword",dv="application/x-ace-compressed",fv="application/x-arj",hv="application/x-authorware-bin",mv="application/x-authorware-bin",vv="application/x-authorware-bin",gv="application/x-authorware-bin",yv="application/x-authorware-map",bv="application/x-authorware-seg",wv="application/x-bcpio",xv="application/x-bittorrent",Ev="application/x-blorb",_v="application/x-blorb",kv="application/x-bzip",Iv="application/x-bzip2",Av="application/x-bzip2",Sv="application/x-cbr",Tv="application/x-cbr",Rv="application/x-cbr",Ov="application/x-cbr",Nv="application/x-cbr",Cv="application/x-cdlink",Bv="application/x-cfs-compressed",Dv="application/x-chat",jv="application/x-chess-pgn",Mv="application/x-chrome-extension",Pv="application/x-cocoa",zv="application/x-conference",Wv="application/x-cpio",qv="application/x-csh",Uv="application/x-debian-package",Kv="application/x-dgc-compressed",Fv="application/x-director",Hv="application/x-director",Vv="application/x-director",Gv="application/x-director",Jv="application/x-director",Qv="application/x-director",Yv="application/x-director",$v="application/x-director",Xv="application/x-director",Lv="application/x-doom",Zv="application/x-dtbncx+xml",eg="application/x-dtbook+xml",tg="application/x-dtbresource+xml",ng="application/x-dvi",rg="application/x-envoy",ag="application/x-eva",ig="application/x-font-bdf",og="application/x-font-ghostscript",sg="application/x-font-linux-psf",cg="application/x-font-pcf",lg="application/x-font-snf",pg="application/x-font-type1",ug="application/x-font-type1",dg="application/x-font-type1",fg="application/x-font-type1",hg="application/x-freearc",mg="application/x-futuresplash",vg="application/x-gca-compressed",gg="application/x-glulx",yg="application/x-gnumeric",bg="application/x-gramps-xml",wg="application/x-gtar",xg="application/x-hdf",Eg="application/x-httpd-php",_g="application/x-install-instructions",kg="application/x-java-archive-diff",Ig="application/x-java-jnlp-file",Ag="application/x-keepass2",Sg="application/x-latex",Tg="application/x-lua-bytecode",Rg="application/x-lzh-compressed",Og="application/x-lzh-compressed",Ng="application/x-makeself",Cg="application/x-mie",Bg="application/x-mobipocket-ebook",Dg="application/x-mobipocket-ebook",jg="application/x-ms-application",Mg="application/x-ms-shortcut",Pg="application/x-ms-wmd",zg="application/x-ms-wmz",Wg="application/x-ms-xbap",qg="application/x-msaccess",Ug="application/x-msbinder",Kg="application/x-mscardfile",Fg="application/x-msclip",Hg="application/x-msdownload",Vg="application/x-msdownload",Gg="application/x-msmediaview",Jg="application/x-msmediaview",Qg="application/x-msmediaview",Yg="image/wmf",$g="image/emf",Xg="application/x-msmetafile",Lg="application/x-msmoney",Zg="application/x-mspublisher",ey="application/x-msschedule",ty="application/x-msterminal",ny="application/x-mswrite",ry="application/x-netcdf",ay="application/x-netcdf",iy="application/x-ns-proxy-autoconfig",oy="application/x-nzb",sy="application/x-perl",cy="application/x-perl",ly="application/x-pkcs12",py="application/x-pkcs12",uy="application/x-pkcs7-certificates",dy="application/x-pkcs7-certificates",fy="application/x-pkcs7-certreqresp",hy="application/x-rar-compressed",my="application/x-redhat-package-manager",vy="application/x-research-info-systems",gy="application/x-sea",yy="application/x-sh",by="application/x-shar",wy="application/x-shockwave-flash",xy="application/x-silverlight-app",Ey="application/x-sql",_y="application/x-stuffit",ky="application/x-stuffitx",Iy="application/x-subrip",Ay="application/x-sv4cpio",Sy="application/x-sv4crc",Ty="application/x-t3vm-image",Ry="application/x-tads",Oy="application/x-tar",Ny="application/x-tcl",Cy="application/x-tcl",By="application/x-tex",Dy="application/x-tex-tfm",jy="application/x-texinfo",My="application/x-texinfo",Py="model/obj",zy="application/x-ustar",Wy="application/x-virtualbox-hdd",qy="application/x-virtualbox-ova",Uy="application/x-virtualbox-ovf",Ky="application/x-virtualbox-vbox",Fy="application/x-virtualbox-vbox-extpack",Hy="application/x-virtualbox-vdi",Vy="application/x-virtualbox-vhd",Gy="application/x-virtualbox-vmdk",Jy="application/x-wais-source",Qy="application/x-web-app-manifest+json",Yy="application/x-x509-ca-cert",$y="application/x-x509-ca-cert",Xy="application/x-x509-ca-cert",Ly="application/x-xfig",Zy="application/xliff+xml",eb="application/x-xpinstall",tb="application/x-xz",nb="application/x-zmachine",rb="application/x-zmachine",ab="application/x-zmachine",ib="application/x-zmachine",ob="application/x-zmachine",sb="application/x-zmachine",cb="application/x-zmachine",lb="application/x-zmachine",pb="application/xaml+xml",ub="application/xcap-att+xml",db="application/xcap-caps+xml",fb="application/xcap-el+xml",hb="application/xcap-ns+xml",mb="application/xenc+xml",vb="application/xhtml+xml",gb="application/xhtml+xml",yb="application/xml",bb="application/xml",wb="application/xml",xb="application/xml",Eb="application/xml-dtd",_b="application/xop+xml",kb="application/xproc+xml",Ib="application/xslt+xml",Ab="application/xspf+xml",Sb="application/xv+xml",Tb="application/xv+xml",Rb="application/xv+xml",Ob="application/xv+xml",Nb="application/yang",Cb="application/yin+xml",Bb="application/zip",Db="video/3gpp",jb="audio/adpcm",Mb="audio/basic",Pb="audio/basic",zb="audio/midi",Wb="audio/midi",qb="audio/midi",Ub="audio/midi",Kb="audio/mobile-xmf",Fb="audio/mpeg",Hb="audio/mp4",Vb="audio/mp4",Gb="audio/mpeg",Jb="audio/mpeg",Qb="audio/mpeg",Yb="audio/mpeg",$b="audio/mpeg",Xb="audio/ogg",Lb="audio/ogg",Zb="audio/ogg",ew="audio/s3m",tw="audio/silk",nw="audio/vnd.dece.audio",rw="audio/vnd.dece.audio",aw="audio/vnd.digital-winds",iw="audio/vnd.dra",ow="audio/vnd.dts",sw="audio/vnd.dts.hd",cw="audio/vnd.lucent.voice",lw="audio/vnd.ms-playready.media.pya",pw="audio/vnd.nuera.ecelp4800",uw="audio/vnd.nuera.ecelp7470",dw="audio/vnd.nuera.ecelp9600",fw="audio/vnd.rip",hw="audio/wave",mw="audio/webm",vw="audio/x-aac",gw="audio/x-aiff",yw="audio/x-aiff",bw="audio/x-aiff",ww="audio/x-caf",xw="audio/x-flac",Ew="audio/x-matroska",_w="audio/x-mpegurl",kw="audio/x-ms-wax",Iw="audio/x-ms-wma",Aw="audio/x-pn-realaudio",Sw="audio/x-pn-realaudio",Tw="audio/x-pn-realaudio-plugin",Rw="audio/xm",Ow="chemical/x-cdx",Nw="chemical/x-cif",Cw="chemical/x-cmdf",Bw="chemical/x-cml",Dw="chemical/x-csml",jw="chemical/x-xyz",Mw="font/collection",Pw="font/otf",zw="font/ttf",Ww="font/woff",qw="font/woff2",Uw="image/aces",Kw="image/apng",Fw="image/bmp",Hw="image/cgm",Vw="image/dicom-rle",Gw="image/fits",Jw="image/g3fax",Qw="image/gif",Yw="image/heic",$w="image/heic-sequence",Xw="image/heif",Lw="image/heif-sequence",Zw="image/hej2k",ex="image/hsj2",tx="image/ief",nx="image/jls",rx="image/jp2",ax="image/jp2",ix="image/jpeg",ox="image/jpeg",sx="image/jpeg",cx="image/jph",lx="image/jphc",px="image/jpm",ux="image/jpx",dx="image/jpx",fx="image/jxr",hx="image/jxra",mx="image/jxrs",vx="image/jxs",gx="image/jxsc",yx="image/jxsi",bx="image/jxss",wx="image/ktx",xx="image/png",Ex="image/prs.btif",_x="image/prs.pti",kx="image/sgi",Ix="image/svg+xml",Ax="image/svg+xml",Sx="image/t38",Tx="image/tiff",Rx="image/tiff",Ox="image/tiff-fx",Nx="image/vnd.adobe.photoshop",Cx="image/vnd.airzip.accelerator.azv",Bx="image/vnd.dece.graphic",Dx="image/vnd.dece.graphic",jx="image/vnd.dece.graphic",Mx="image/vnd.dece.graphic",Px="image/vnd.djvu",zx="image/vnd.djvu",Wx="text/vnd.dvb.subtitle",qx="image/vnd.dwg",Ux="image/vnd.dxf",Kx="image/vnd.fastbidsheet",Fx="image/vnd.fpx",Hx="image/vnd.fst",Vx="image/vnd.fujixerox.edmics-mmr",Gx="image/vnd.fujixerox.edmics-rlc",Jx="image/vnd.microsoft.icon",Qx="image/vnd.ms-dds",Yx="image/vnd.ms-modi",$x="image/vnd.ms-photo",Xx="image/vnd.net-fpx",Lx="image/vnd.tencent.tap",Zx="image/vnd.valve.source.texture",e0="image/vnd.wap.wbmp",t0="image/vnd.xiff",n0="image/vnd.zbrush.pcx",r0="image/webp",a0="image/x-3ds",i0="image/x-cmu-raster",o0="image/x-cmx",s0="image/x-freehand",c0="image/x-freehand",l0="image/x-freehand",p0="image/x-freehand",u0="image/x-freehand",d0="image/x-jng",f0="image/x-mrsid-image",h0="image/x-pict",m0="image/x-pict",v0="image/x-portable-anymap",g0="image/x-portable-bitmap",y0="image/x-portable-graymap",b0="image/x-portable-pixmap",w0="image/x-rgb",x0="image/x-tga",E0="image/x-xbitmap",_0="image/x-xpixmap",k0="image/x-xwindowdump",I0="message/disposition-notification",A0="message/global",S0="message/global-delivery-status",T0="message/global-disposition-notification",R0="message/global-headers",O0="message/rfc822",N0="message/rfc822",C0="message/vnd.wfa.wsc",B0="model/3mf",D0="model/gltf+json",j0="model/gltf-binary",M0="model/iges",P0="model/iges",z0="model/mesh",W0="model/mesh",q0="model/mesh",U0="model/mtl",K0="model/vnd.collada+xml",F0="model/vnd.dwf",H0="model/vnd.gdl",V0="model/vnd.gtw",G0="model/vnd.mts",J0="model/vnd.opengex",Q0="model/vnd.parasolid.transmit.binary",Y0="model/vnd.parasolid.transmit.text",$0="model/vnd.usdz+zip",X0="model/vnd.valve.source.compiled-map",L0="model/vnd.vtu",Z0="model/vrml",eE="model/vrml",tE="model/x3d+fastinfoset",nE="model/x3d+binary",rE="model/x3d-vrml",aE="model/x3d+vrml",iE="model/x3d+xml",oE="model/x3d+xml",sE="text/cache-manifest",cE="text/cache-manifest",lE="text/calendar",pE="text/calendar",uE="text/coffeescript",dE="text/coffeescript",fE="text/css",hE="text/csv",mE="text/html",vE="text/html",gE="text/html",yE="text/jade",bE="text/jsx",wE="text/less",xE="text/markdown",EE="text/markdown",_E="text/mathml",kE="text/mdx",IE="text/n3",AE="text/plain",SE="text/plain",TE="text/plain",RE="text/plain",OE="text/plain",NE="text/plain",CE="text/plain",BE="text/plain",DE="text/prs.lines.tag",jE="text/richtext",ME="text/sgml",PE="text/sgml",zE="text/shex",WE="text/slim",qE="text/slim",UE="text/stylus",KE="text/stylus",FE="text/tab-separated-values",HE="text/troff",VE="text/troff",GE="text/troff",JE="text/troff",QE="text/troff",YE="text/troff",$E="text/turtle",XE="text/uri-list",LE="text/uri-list",ZE="text/uri-list",e_="text/vcard",t_="text/vnd.curl",n_="text/vnd.curl.dcurl",r_="text/vnd.curl.mcurl",a_="text/vnd.curl.scurl",i_="text/vnd.fly",o_="text/vnd.fmi.flexstor",s_="text/vnd.graphviz",c_="text/vnd.in3d.3dml",l_="text/vnd.in3d.spot",p_="text/vnd.sun.j2me.app-descriptor",u_="text/vnd.wap.wml",d_="text/vnd.wap.wmlscript",f_="text/vtt",h_="text/x-asm",m_="text/x-asm",v_="text/x-c",g_="text/x-c",y_="text/x-c",b_="text/x-c",w_="text/x-c",x_="text/x-c",E_="text/x-c",__="text/x-component",k_="text/x-fortran",I_="text/x-fortran",A_="text/x-fortran",S_="text/x-fortran",T_="text/x-handlebars-template",R_="text/x-java-source",O_="text/x-lua",N_="text/x-markdown",C_="text/x-nfo",B_="text/x-opml",D_="text/x-pascal",j_="text/x-pascal",M_="text/x-processing",P_="text/x-sass",z_="text/x-scss",W_="text/x-setext",q_="text/x-sfv",U_="text/x-suse-ymp",K_="text/x-uuencode",F_="text/x-vcalendar",H_="text/x-vcard",V_="text/yaml",G_="text/yaml",J_="video/3gpp",Q_="video/3gpp2",Y_="video/h261",$_="video/h263",X_="video/h264",L_="video/jpeg",Z_="video/jpm",ek="video/mj2",tk="video/mj2",nk="video/mp2t",rk="video/mp4",ak="video/mp4",ik="video/mp4",ok="video/mpeg",sk="video/mpeg",ck="video/mpeg",lk="video/mpeg",pk="video/mpeg",uk="video/ogg",dk="video/quicktime",fk="video/quicktime",hk="video/vnd.dece.hd",mk="video/vnd.dece.hd",vk="video/vnd.dece.mobile",gk="video/vnd.dece.mobile",yk="video/vnd.dece.pd",bk="video/vnd.dece.pd",wk="video/vnd.dece.sd",xk="video/vnd.dece.sd",Ek="video/vnd.dece.video",_k="video/vnd.dece.video",kk="video/vnd.dvb.file",Ik="video/vnd.fvt",Ak="video/vnd.mpegurl",Sk="video/vnd.mpegurl",Tk="video/vnd.ms-playready.media.pyv",Rk="video/vnd.uvvu.mp4",Ok="video/vnd.uvvu.mp4",Nk="video/vnd.vivo",Ck="video/webm",Bk="video/x-f4v",Dk="video/x-fli",jk="video/x-flv",Mk="video/x-m4v",Pk="video/x-matroska",zk="video/x-matroska",Wk="video/x-matroska",qk="video/x-mng",Uk="video/x-ms-asf",Kk="video/x-ms-asf",Fk="video/x-ms-vob",Hk="video/x-ms-wm",Vk="video/x-ms-wmv",Gk="video/x-ms-wmx",Jk="video/x-ms-wvx",Qk="video/x-msvideo",Yk="video/x-sgi-movie",$k="video/x-smv",Xk="x-conference/x-cooltalk",gr={"123":Ta,ez:Ra,aw:Oa,atom:Na,atomcat:Ca,atomdeleted:Ba,atomsvc:Da,dwd:ja,held:Ma,rsat:Pa,bdoc:za,xcs:Wa,ccxml:qa,cdfx:Ua,cdmia:Ka,cdmic:Fa,cdmid:Ha,cdmio:Va,cdmiq:Ga,cu:Ja,mpd:Qa,davmount:Ya,dbk:$a,dssc:Xa,xdssc:La,ecma:Za,es:ei,emma:ti,emotionml:ni,epub:ri,exi:ai,fdt:ii,pfr:oi,geojson:si,gml:ci,gpx:li,gxf:pi,gz:ui,hjson:di,stk:fi,ink:hi,inkml:mi,ipfix:vi,its:gi,jar:yi,war:bi,ear:wi,ser:xi,class:Ei,js:_i,mjs:ki,json:Ii,map:Ai,json5:Si,jsonml:Ti,jsonld:Ri,lgr:Oi,lostxml:Ni,hqx:Ci,cpt:Bi,mads:Di,webmanifest:ji,mrc:Mi,mrcx:Pi,ma:zi,nb:Wi,mb:qi,mathml:Ui,mbox:Ki,mscml:Fi,metalink:Hi,meta4:Vi,mets:Gi,maei:Ji,musd:Qi,mods:Yi,m21:$i,mp21:Xi,mp4s:Li,m4p:Zi,xdf:eo,doc:to,dot:no,mxf:ro,nq:ao,nt:io,cjs:oo,bin:so,dms:co,lrf:lo,mar:po,so:uo,dist:fo,distz:ho,pkg:mo,bpk:vo,dump:go,elc:yo,deploy:bo,exe:wo,dll:xo,deb:Eo,dmg:_o,iso:ko,img:Io,msi:Ao,msp:So,msm:To,buffer:Ro,oda:Oo,opf:No,ogx:Co,omdoc:Bo,onetoc:Do,onetoc2:jo,onetmp:Mo,onepkg:Po,oxps:zo,relo:Wo,xer:qo,pdf:Uo,pgp:Ko,asc:Fo,sig:Ho,prf:Vo,p10:Go,p7m:Jo,p7c:Qo,p7s:Yo,p8:$o,ac:Xo,cer:Lo,crl:Zo,pkipath:es,pki:ts,pls:ns,ai:rs,eps:as,ps:is,provx:os,cww:ss,pskcxml:cs,raml:ls,rdf:ps,owl:us,rif:ds,rnc:fs,rl:hs,rld:ms,rs:vs,rapd:gs,sls:ys,rusd:bs,gbr:ws,mft:xs,roa:Es,rsd:_s,rss:ks,rtf:Is,sbml:As,scq:Ss,scs:Ts,spq:Rs,spp:Os,sdp:Ns,senmlx:Cs,sensmlx:Bs,setpay:Ds,setreg:js,shf:Ms,siv:Ps,sieve:zs,smi:Ws,smil:qs,rq:Us,srx:Ks,gram:Fs,grxml:Hs,sru:Vs,ssdl:Gs,ssml:Js,swidtag:Qs,tei:Ys,teicorpus:$s,tfi:Xs,tsd:Ls,toml:Zs,ttml:ec,rsheet:tc,"1km":nc,plb:rc,psb:ac,pvb:ic,tcap:oc,pwn:sc,aso:cc,imp:lc,acu:pc,atc:uc,acutc:dc,air:fc,fcdt:hc,fxp:mc,fxpl:vc,xdp:gc,xfdf:yc,ahead:bc,azf:wc,azs:xc,azw:Ec,acc:_c,ami:kc,apk:Ic,cii:Ac,fti:Sc,atx:Tc,mpkg:Rc,keynote:Oc,m3u8:Nc,numbers:Cc,pages:Bc,pkpass:Dc,swi:jc,iota:Mc,aep:Pc,bmml:zc,mpm:Wc,bmi:qc,rep:Uc,cdxml:Kc,mmd:Fc,cdy:Hc,csl:Vc,cla:Gc,rp9:Jc,c4g:Qc,c4d:Yc,c4f:$c,c4p:Xc,c4u:Lc,c11amc:Zc,c11amz:el,csp:tl,cdbcmsg:nl,cmc:rl,clkx:al,clkk:il,clkp:ol,clkt:sl,clkw:cl,wbs:ll,pml:pl,ppd:ul,car:dl,pcurl:fl,dart:hl,rdz:ml,uvf:vl,uvvf:gl,uvd:yl,uvvd:bl,uvt:wl,uvvt:xl,uvx:El,uvvx:_l,uvz:kl,uvvz:Il,fe_launch:Al,dna:Sl,mlp:Tl,dpg:Rl,dfac:Ol,kpxx:Nl,ait:Cl,svc:Bl,geo:Dl,mag:jl,nml:Ml,esf:Pl,msf:zl,qam:Wl,slt:ql,ssf:Ul,es3:Kl,et3:Fl,ez2:Hl,ez3:Vl,fdf:Gl,mseed:Jl,seed:Ql,dataless:Yl,gph:$l,ftc:Xl,fm:Ll,frame:Zl,maker:ep,book:tp,fnc:np,ltf:rp,fsc:ap,oas:ip,oa2:op,oa3:sp,fg5:cp,bh2:lp,ddd:pp,xdw:up,xbd:dp,fzs:fp,txd:hp,ggb:mp,ggt:vp,gex:gp,gre:yp,gxt:bp,g2w:wp,g3w:xp,gmx:Ep,gdoc:_p,gslides:kp,gsheet:Ip,kml:Ap,kmz:Sp,gqf:Tp,gqs:Rp,gac:Op,ghf:Np,gim:Cp,grv:Bp,gtm:Dp,tpl:jp,vcg:Mp,hal:Pp,zmm:zp,hbci:Wp,les:qp,hpgl:Up,hpid:Kp,hps:Fp,jlt:Hp,pcl:Vp,pclxl:Gp,"sfd-hdstx":Jp,mpy:Qp,afp:Yp,listafp:$p,list3820:Xp,irm:Lp,sc:Zp,icc:eu,icm:tu,igl:nu,ivp:ru,ivu:au,igm:iu,xpw:ou,xpx:su,i2g:cu,qbo:lu,qfx:pu,rcprofile:uu,irp:du,xpr:fu,fcs:hu,jam:mu,rms:vu,jisp:gu,joda:yu,ktz:bu,ktr:wu,karbon:xu,chrt:Eu,kfo:_u,flw:ku,kon:Iu,kpr:Au,kpt:Su,ksp:Tu,kwd:Ru,kwt:Ou,htke:Nu,kia:Cu,kne:Bu,knp:Du,skp:ju,skd:Mu,skt:Pu,skm:zu,sse:Wu,lasxml:qu,lbd:Uu,lbe:Ku,apr:Fu,pre:Hu,nsf:Vu,org:Gu,scm:Ju,lwp:Qu,portpkg:Yu,mcd:$u,mc1:Xu,cdkey:Lu,mwf:Zu,mfm:ed,flo:td,igx:nd,mif:rd,daf:ad,dis:id,mbk:od,mqy:sd,msl:cd,plc:ld,txf:pd,mpn:ud,mpc:dd,xul:fd,cil:hd,cab:md,xls:vd,xlm:gd,xla:yd,xlc:bd,xlt:wd,xlw:xd,xlam:Ed,xlsb:_d,xlsm:kd,xltm:Id,eot:Ad,chm:Sd,ims:Td,lrm:Rd,thmx:Od,msg:Nd,cat:Cd,stl:Bd,ppt:Dd,pps:jd,pot:Md,ppam:Pd,pptm:zd,sldm:Wd,ppsm:qd,potm:Ud,mpp:Kd,mpt:Fd,docm:Hd,dotm:Vd,wps:Gd,wks:Jd,wcm:Qd,wdb:Yd,wpl:$d,xps:Xd,mseq:Ld,mus:Zd,msty:ef,taglet:tf,nlu:nf,ntf:rf,nitf:af,nnd:of,nns:sf,nnw:cf,ngdat:lf,"n-gage":pf,rpst:uf,rpss:df,edm:ff,edx:hf,ext:mf,odc:vf,otc:gf,odb:yf,odf:bf,odft:wf,odg:xf,otg:Ef,odi:_f,oti:kf,odp:If,otp:Af,ods:Sf,ots:Tf,odt:Rf,odm:Of,ott:Nf,oth:Cf,xo:Bf,dd2:Df,obgx:jf,oxt:Mf,osm:Pf,pptx:zf,sldx:Wf,ppsx:qf,potx:Uf,xlsx:Kf,xltx:Ff,docx:Hf,dotx:Vf,mgp:Gf,dp:Jf,esa:Qf,pdb:Yf,pqa:$f,oprc:Xf,paw:Lf,str:Zf,ei6:eh,efif:th,wg:nh,plf:rh,pbd:ah,box:ih,mgz:oh,qps:sh,ptid:ch,qxd:lh,qxt:ph,qwd:uh,qwt:dh,qxl:fh,qxb:hh,bed:mh,mxl:vh,musicxml:gh,cryptonote:yh,cod:bh,rm:wh,rmvb:xh,link66:Eh,st:_h,see:kh,sema:Ih,semd:Ah,semf:Sh,ifm:Th,itp:Rh,iif:Oh,ipk:Nh,twd:Ch,twds:Bh,mmf:Dh,teacher:jh,fo:Mh,sdkm:Ph,sdkd:zh,dxp:Wh,sfs:qh,sdc:Uh,sda:Kh,sdd:Fh,smf:Hh,sdw:Vh,vor:Gh,sgl:Jh,smzip:Qh,sm:Yh,wadl:$h,sxc:Xh,stc:Lh,sxd:Zh,std:em,sxi:tm,sti:nm,sxm:rm,sxw:am,sxg:im,stw:om,sus:sm,susp:cm,svd:lm,sis:pm,sisx:um,xsm:dm,bdm:fm,xdm:hm,ddf:mm,tao:vm,pcap:gm,cap:ym,dmp:bm,tmo:wm,tpt:xm,mxs:Em,tra:_m,ufd:km,ufdl:Im,utz:Am,umj:Sm,unityweb:Tm,uoml:Rm,vcx:Om,vsd:Nm,vst:Cm,vss:Bm,vsw:Dm,vis:jm,vsf:Mm,wbxml:Pm,wmlc:zm,wmlsc:Wm,wtb:qm,nbp:Um,wpd:Km,wqd:Fm,stf:Hm,xar:Vm,xfdl:Gm,hvd:Jm,hvs:Qm,hvp:Ym,osf:$m,osfpvg:Xm,saf:Lm,spf:Zm,cmp:ev,zir:tv,zirz:nv,zaz:rv,vxml:av,wasm:iv,wgt:ov,hlp:sv,wsdl:cv,wspolicy:lv,"7z":pv,abw:uv,ace:dv,arj:fv,aab:hv,x32:mv,u32:vv,vox:gv,aam:yv,aas:bv,bcpio:wv,torrent:xv,blb:Ev,blorb:_v,bz:kv,bz2:Iv,boz:Av,cbr:Sv,cba:Tv,cbt:Rv,cbz:Ov,cb7:Nv,vcd:Cv,cfs:Bv,chat:Dv,pgn:jv,crx:Mv,cco:Pv,nsc:zv,cpio:Wv,csh:qv,udeb:Uv,dgc:Kv,dir:Fv,dcr:Hv,dxr:Vv,cst:Gv,cct:Jv,cxt:Qv,w3d:Yv,fgd:$v,swa:Xv,wad:Lv,ncx:Zv,dtb:eg,res:tg,dvi:ng,evy:rg,eva:ag,bdf:ig,gsf:og,psf:sg,pcf:cg,snf:lg,pfa:pg,pfb:ug,pfm:dg,afm:fg,arc:hg,spl:mg,gca:vg,ulx:gg,gnumeric:yg,gramps:bg,gtar:wg,hdf:xg,php:Eg,install:_g,jardiff:kg,jnlp:Ig,kdbx:Ag,latex:Sg,luac:Tg,lzh:Rg,lha:Og,run:Ng,mie:Cg,prc:Bg,mobi:Dg,application:jg,lnk:Mg,wmd:Pg,wmz:zg,xbap:Wg,mdb:qg,obd:Ug,crd:Kg,clp:Fg,com:Hg,bat:Vg,mvb:Gg,m13:Jg,m14:Qg,wmf:Yg,emf:$g,emz:Xg,mny:Lg,pub:Zg,scd:ey,trm:ty,wri:ny,nc:ry,cdf:ay,pac:iy,nzb:oy,pl:sy,pm:cy,p12:ly,pfx:py,p7b:uy,spc:dy,p7r:fy,rar:hy,rpm:my,ris:vy,sea:gy,sh:yy,shar:by,swf:wy,xap:xy,sql:Ey,sit:_y,sitx:ky,srt:Iy,sv4cpio:Ay,sv4crc:Sy,t3:Ty,gam:Ry,tar:Oy,tcl:Ny,tk:Cy,tex:By,tfm:Dy,texinfo:jy,texi:My,obj:Py,ustar:zy,hdd:Wy,ova:qy,ovf:Uy,vbox:Ky,"vbox-extpack":Fy,vdi:Hy,vhd:Vy,vmdk:Gy,src:Jy,webapp:Qy,der:Yy,crt:$y,pem:Xy,fig:Ly,xlf:Zy,xpi:eb,xz:tb,z1:nb,z2:rb,z3:ab,z4:ib,z5:ob,z6:sb,z7:cb,z8:lb,xaml:pb,xav:ub,xca:db,xel:fb,xns:hb,xenc:mb,xhtml:vb,xht:gb,xml:yb,xsl:bb,xsd:wb,rng:xb,dtd:Eb,xop:_b,xpl:kb,xslt:Ib,xspf:Ab,mxml:Sb,xhvml:Tb,xvml:Rb,xvm:Ob,yang:Nb,yin:Cb,zip:Bb,"3gpp":Db,adp:jb,au:Mb,snd:Pb,mid:zb,midi:Wb,kar:qb,rmi:Ub,mxmf:Kb,mp3:Fb,m4a:Hb,mp4a:Vb,mpga:Gb,mp2:Jb,mp2a:Qb,m2a:Yb,m3a:$b,oga:Xb,ogg:Lb,spx:Zb,s3m:ew,sil:tw,uva:nw,uvva:rw,eol:aw,dra:iw,dts:ow,dtshd:sw,lvp:cw,pya:lw,ecelp4800:pw,ecelp7470:uw,ecelp9600:dw,rip:fw,wav:hw,weba:mw,aac:vw,aif:gw,aiff:yw,aifc:bw,caf:ww,flac:xw,mka:Ew,m3u:_w,wax:kw,wma:Iw,ram:Aw,ra:Sw,rmp:Tw,xm:Rw,cdx:Ow,cif:Nw,cmdf:Cw,cml:Bw,csml:Dw,xyz:jw,ttc:Mw,otf:Pw,ttf:zw,woff:Ww,woff2:qw,exr:Uw,apng:Kw,bmp:Fw,cgm:Hw,drle:Vw,fits:Gw,g3:Jw,gif:Qw,heic:Yw,heics:$w,heif:Xw,heifs:Lw,hej2:Zw,hsj2:ex,ief:tx,jls:nx,jp2:rx,jpg2:ax,jpeg:ix,jpg:ox,jpe:sx,jph:cx,jhc:lx,jpm:px,jpx:ux,jpf:dx,jxr:fx,jxra:hx,jxrs:mx,jxs:vx,jxsc:gx,jxsi:yx,jxss:bx,ktx:wx,png:xx,btif:Ex,pti:_x,sgi:kx,svg:Ix,svgz:Ax,t38:Sx,tif:Tx,tiff:Rx,tfx:Ox,psd:Nx,azv:Cx,uvi:Bx,uvvi:Dx,uvg:jx,uvvg:Mx,djvu:Px,djv:zx,sub:Wx,dwg:qx,dxf:Ux,fbs:Kx,fpx:Fx,fst:Hx,mmr:Vx,rlc:Gx,ico:Jx,dds:Qx,mdi:Yx,wdp:$x,npx:Xx,tap:Lx,vtf:Zx,wbmp:e0,xif:t0,pcx:n0,webp:r0,"3ds":a0,ras:i0,cmx:o0,fh:s0,fhc:c0,fh4:l0,fh5:p0,fh7:u0,jng:d0,sid:f0,pic:h0,pct:m0,pnm:v0,pbm:g0,pgm:y0,ppm:b0,rgb:w0,tga:x0,xbm:E0,xpm:_0,xwd:k0,"disposition-notification":I0,u8msg:A0,u8dsn:S0,u8mdn:T0,u8hdr:R0,eml:O0,mime:N0,wsc:C0,"3mf":B0,gltf:D0,glb:j0,igs:M0,iges:P0,msh:z0,mesh:W0,silo:q0,mtl:U0,dae:K0,dwf:F0,gdl:H0,gtw:V0,mts:G0,ogex:J0,x_b:Q0,x_t:Y0,usdz:$0,bsp:X0,vtu:L0,wrl:Z0,vrml:eE,x3db:tE,x3dbz:nE,x3dv:rE,x3dvz:aE,x3d:iE,x3dz:oE,appcache:sE,manifest:cE,ics:lE,ifb:pE,coffee:uE,litcoffee:dE,css:fE,csv:hE,html:mE,htm:vE,shtml:gE,jade:yE,jsx:bE,less:wE,markdown:xE,md:EE,mml:_E,mdx:kE,n3:IE,txt:AE,text:SE,conf:TE,def:RE,list:OE,log:NE,in:CE,ini:BE,dsc:DE,rtx:jE,sgml:ME,sgm:PE,shex:zE,slim:WE,slm:qE,stylus:UE,styl:KE,tsv:FE,t:HE,tr:VE,roff:GE,man:JE,me:QE,ms:YE,ttl:$E,uri:XE,uris:LE,urls:ZE,vcard:e_,curl:t_,dcurl:n_,mcurl:r_,scurl:a_,fly:i_,flx:o_,gv:s_,"3dml":c_,spot:l_,jad:p_,wml:u_,wmls:d_,vtt:f_,s:h_,asm:m_,c:v_,cc:g_,cxx:y_,cpp:b_,h:w_,hh:x_,dic:E_,htc:__,f:k_,for:I_,f77:A_,f90:S_,hbs:T_,java:R_,lua:O_,mkd:N_,nfo:C_,opml:B_,p:D_,pas:j_,pde:M_,sass:P_,scss:z_,etx:W_,sfv:q_,ymp:U_,uu:K_,vcs:F_,vcf:H_,yaml:V_,yml:G_,"3gp":J_,"3g2":Q_,h261:Y_,h263:$_,h264:X_,jpgv:L_,jpgm:Z_,mj2:ek,mjp2:tk,ts:nk,mp4:rk,mp4v:ak,mpg4:ik,mpeg:ok,mpg:sk,mpe:ck,m1v:lk,m2v:pk,ogv:uk,qt:dk,mov:fk,uvh:hk,uvvh:mk,uvm:vk,uvvm:gk,uvp:yk,uvvp:bk,uvs:wk,uvvs:xk,uvv:Ek,uvvv:_k,dvb:kk,fvt:Ik,mxu:Ak,m4u:Sk,pyv:Tk,uvu:Rk,uvvu:Ok,viv:Nk,webm:Ck,f4v:Bk,fli:Dk,flv:jk,m4v:Mk,mkv:Pk,mk3d:zk,mks:Wk,mng:qk,asf:Uk,asx:Kk,vob:Fk,wm:Hk,wmv:Vk,wmx:Gk,wvx:Jk,avi:Qk,movie:Yk,smv:$k,ice:Xk};function ke(e){const t=Ct("x."+e).toLowerCase().substr(1);if(!t)return null;const r=gr[t];return r||null}class Lk extends zt{constructor(){super(...arguments);this.EVENT_WATCH=J();this.clone=e=>{const{ctime:t,mime_type:r,mtime:a,path:i,type:o}=e;let{payload:s}=e;return s&&(s=s.slice()),{ctime:t,mime_type:r,mtime:a,payload:s,path:i,type:o}}}delete(e){if(this.has(e)){const t=this.get(e);return super.delete(e),this.EVENT_WATCH.dispatch({change:q.removed,path:t.path,type:t.type}),!0}return!1}put(e,t){const r={...t,path:e};return super.set(e,r),this.EVENT_WATCH.dispatch({change:q.created,path:r.path,type:r.type}),this}update(e,t){const r={...this.get(e),...t,path:e};return super.set(e,r),t.payload?this.EVENT_WATCH.dispatch({change:q.attached,path:r.path,type:r.type}):this.EVENT_WATCH.dispatch({change:q.updated,path:r.path,type:r.type}),this}}function Zk(e={}){const{compressed:t=!1}=e;return{...e,compressed:t}}class ot extends ie{constructor(e={}){super(Zk(e));this.storage=new Lk}async create_url_object(e){const{storage:t}=this,{compressed:r}=this.options,a=this.normalize(e);if(!t.has(a))throw new Error("bad argument #0 to 'create_url_object' (Node must be created before using 'create_url_object')");const i=t.get(a);if(!i.payload)throw new Error("bad argument #0 to 'create_url_object' (Node payload must be created before using 'create_url_object')");const o=r?Ie(i.payload):i.payload,s=Se(o,i.mime_type);return{destroy:s.destroy,path:i.path,url:s.url}}async get(e){const{storage:t}=this,r=this.normalize(e);if(!t.has(r))return null;const a=t.get(r);return{ctime:a.ctime,mime_type:a.mime_type,mtime:a.mtime,path:a.path,type:a.type}}async put(e,t=P.undefined,r){const{storage:a}=this,i=this.normalize(e),o=be();r||(r=ke(i)||ye),a.has(i)?a.update(i,{mime_type:r,mtime:o,type:t}):a.put(i,{ctime:o,mime_type:r,mtime:o,type:t})}async query(e={}){const t=Array.from(this.storage.entries()),r=t.map((a,i)=>{const o=a[0],{type:s=P.undefined}=a[1];return{path:o,type:s}});return Ge(r,e)}async read(e){const{storage:t}=this,{compressed:r}=this.options,a=this.normalize(e);if(!t.has(a))return null;const i=t.get(a);return i.payload?r?Ie(i.payload):i.payload:null}async remove(e){const{storage:t}=this,r=this.normalize(e);return t.delete(r)}async watch(e={}){return Te(this.storage.EVENT_WATCH,e)}async write(e,t){const{storage:r}=this,{compressed:a}=this.options,i=this.normalize(e);if(!r.has(i))throw new Error("bad argument #0 to 'attach' (Node must be created before using 'attach')");r.update(i,{mtime:be(),payload:a?He(t):t})}is_mounted(){return!0}async mount(){}async unmount(){}}ot.can_hotlink=!0,ot.can_watch=!0,ot.is_available=!0;var K=function(){return K=Object.assign||function(t){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},K.apply(this,arguments)};function un(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var a=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,c=o.length;s<c;s++,i++)a[i]=o[s];return a}var ee=Object.keys,re=Array.isArray,H=typeof self!="undefined"?self:typeof window!="undefined"?window:global;typeof Promise!="undefined"&&!H.Promise&&(H.Promise=Promise);function oe(e,t){return typeof t!="object"||ee(t).forEach(function(r){e[r]=t[r]}),e}var yr=Object.getPrototypeOf,eI={}.hasOwnProperty;function ce(e,t){return eI.call(e,t)}function ct(e,t){typeof t=="function"&&(t=t(yr(e))),ee(t).forEach(function(r){we(e,r,t[r])})}var br=Object.defineProperty;function we(e,t,r,a){br(e,t,oe(r&&ce(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},a))}function Je(e){return{from:function(t){return e.prototype=Object.create(t.prototype),we(e.prototype,"constructor",e),{extend:ct.bind(null,e.prototype)}}}}var tI=Object.getOwnPropertyDescriptor;function wr(e,t){var r=tI(e,t),a;return r||(a=yr(e))&&wr(a,t)}var nI=[].slice;function Wt(e,t,r){return nI.call(e,t,r)}function xr(e,t){return t(e)}function lt(e){if(!e)throw new Error("Assertion Failed")}function Er(e){H.setImmediate?setImmediate(e):setTimeout(e,0)}function _r(e,t){return e.reduce(function(r,a,i){var o=t(a,i);return o&&(r[o[0]]=o[1]),r},{})}function rI(e,t,r){try{e.apply(null,r)}catch(a){t&&t(a)}}function xe(e,t){if(ce(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var r=[],a=0,i=t.length;a<i;++a){var o=xe(e,t[a]);r.push(o)}return r}var s=t.indexOf(".");if(s!==-1){var c=e[t.substr(0,s)];return c===void 0?void 0:xe(c,t.substr(s+1))}return}function le(e,t,r){if(!e||t===void 0)return;if("isFrozen"in Object&&Object.isFrozen(e))return;if(typeof t!="string"&&"length"in t){lt(typeof r!="string"&&"length"in r);for(var a=0,i=t.length;a<i;++a)le(e,t[a],r[a])}else{var o=t.indexOf(".");if(o!==-1){var s=t.substr(0,o),c=t.substr(o+1);if(c==="")r===void 0?re(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=r;else{var p=e[s];p||(p=e[s]={}),le(p,c,r)}}else r===void 0?re(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function aI(e,t){typeof t=="string"?le(e,t,void 0):"length"in t&&[].map.call(t,function(r){le(e,r,void 0)})}function kr(e){var t={};for(var r in e)ce(e,r)&&(t[r]=e[r]);return t}var iI=[].concat;function Ir(e){return iI.apply([],e)}var Ar="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(Ir([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return H[e]}),oI=Ar.map(function(e){return H[e]}),sI=_r(Ar,function(e){return[e,!0]});function qt(e){if(!e||typeof e!="object")return e;var t;if(re(e)){t=[];for(var r=0,a=e.length;r<a;++r)t.push(qt(e[r]))}else if(oI.indexOf(e.constructor)>=0)t=e;else{t=e.constructor?Object.create(e.constructor.prototype):{};for(var i in e)ce(e,i)&&(t[i]=qt(e[i]))}return t}var cI={}.toString;function dn(e){return cI.call(e).slice(8,-1)}var fn=function(e,t){return t==="Array"?""+e.map(function(r){return fn(r,dn(r))}):t==="ArrayBuffer"?""+new Uint8Array(e):t==="Date"?e.getTime():ArrayBuffer.isView(e)?""+new Uint8Array(e.buffer):e};function hn(e,t,r,a){return r=r||{},a=a||"",ee(e).forEach(function(i){if(!ce(t,i))r[a+i]=void 0;else{var o=e[i],s=t[i];if(typeof o=="object"&&typeof s=="object"&&o&&s){var c=dn(o),p=dn(s);c===p?sI[c]?fn(o,c)!==fn(s,p)&&(r[a+i]=t[i]):hn(o,s,r,a+i+"."):r[a+i]=t[i]}else o!==s&&(r[a+i]=t[i])}}),ee(t).forEach(function(i){ce(e,i)||(r[a+i]=t[i])}),r}var Sr=typeof Symbol!="undefined"&&Symbol.iterator,lI=Sr?function(e){var t;return e!=null&&(t=e[Sr])&&t.apply(e)}:function(){return null},Qe={};function Ee(e){var t,r,a,i;if(arguments.length===1){if(re(e))return e.slice();if(this===Qe&&typeof e=="string")return[e];if(i=lI(e)){for(r=[];a=i.next(),!a.done;)r.push(a.value);return r}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}var Tr=typeof Symbol!="undefined"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},fe=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Or(e,t){fe=e,Rr=t}var Rr=function(){return!0},pI=!new Error("").stack;function Ye(){if(pI)try{throw new Error}catch(e){return e}return new Error}function mn(e,t){var r=e.stack;return r?(t=t||0,r.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),r.split(`
`).slice(t).filter(Rr).map(function(a){return`
`+a}).join("")):""}var uI=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Nr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],vn=uI.concat(Nr),dI={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function $e(e,t){this._e=Ye(),this.name=e,this.message=t}Je($e).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+mn(this._e,2))}},toString:function(){return this.name+": "+this.message}});function Cr(e,t){return e+". Errors: "+Object.keys(t).map(function(r){return t[r].toString()}).filter(function(r,a,i){return i.indexOf(r)===a}).join(`
`)}function Ut(e,t,r,a){this._e=Ye(),this.failures=t,this.failedKeys=a,this.successCount=r,this.message=Cr(e,t)}Je(Ut).from($e);function pt(e,t){this._e=Ye(),this.name="BulkError",this.failures=t,this.message=Cr(e,t)}Je(pt).from($e);var fI=vn.reduce(function(e,t){return e[t]=t+"Error",e},{}),hI=$e,C=vn.reduce(function(e,t){var r=t+"Error";function a(i,o){this._e=Ye(),this.name=r,i?typeof i=="string"?(this.message=""+i+(o?`
 `+o:""),this.inner=o||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=dI[t]||r,this.inner=null)}return Je(a).from(hI),e[t]=a,e},{});C.Syntax=SyntaxError;C.Type=TypeError;C.Range=RangeError;var Br=Nr.reduce(function(e,t){return e[t+"Error"]=C[t],e},{});function mI(e,t){if(!e||e instanceof $e||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Br[e.name])return e;var r=new Br[e.name](t||e.message,e);return"stack"in e&&we(r,"stack",{get:function(){return this.inner.stack}}),r}var Kt=vn.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=C[t]),e},{});Kt.ModifyError=Ut;Kt.DexieError=$e;Kt.BulkError=pt;function F(){}function ut(e){return e}function vI(e,t){return e==null||e===ut?t:function(r){return t(e(r))}}function De(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function gI(e,t){return e===F?t:function(){var r=e.apply(this,arguments);r!==void 0&&(arguments[0]=r);var a=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?De(a,this.onsuccess):a),i&&(this.onerror=this.onerror?De(i,this.onerror):i),o!==void 0?o:r}}function yI(e,t){return e===F?t:function(){e.apply(this,arguments);var r=this.onsuccess,a=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?De(r,this.onsuccess):r),a&&(this.onerror=this.onerror?De(a,this.onerror):a)}}function bI(e,t){return e===F?t:function(r){var a=e.apply(this,arguments);oe(r,a);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?De(i,this.onsuccess):i),o&&(this.onerror=this.onerror?De(o,this.onerror):o),a===void 0?s===void 0?void 0:s:oe(a,s)}}function wI(e,t){return e===F?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function Dr(e,t){return e===F?t:function(){var r=e.apply(this,arguments);if(r&&typeof r.then=="function"){for(var a=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return r.then(function(){return t.apply(a,o)})}return t.apply(this,arguments)}}var dt={},xI=100,EI=20,jr=100,gn=typeof Promise=="undefined"?[]:function(){var e=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[e,e.__proto__,e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,t.__proto__,e]}(),yn=gn[0],Ft=gn[1],bn=gn[2],Mr=Ft&&Ft.then,Ht=yn&&yn.constructor,wn=!!bn,xn=!1,_I=bn?function(){bn.then(Vt)}:H.setImmediate?setImmediate.bind(null,Vt):H.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){Vt(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Vt,0)},ht=function(e,t){ft.push([e,t]),Gt&&(_I(),Gt=!1)},En=!0,Gt=!0,je=[],Jt=[],_n=null,kn=ut,Xe={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Pr,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{Pr(e[0],e[1])}catch(t){}})}},N=Xe,ft=[],Me=0,Qt=[];function I(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=F,this._lib=!1;var t=this._PSD=N;if(fe&&(this._stackHolder=Ye(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==dt)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&In(this,this._value);return}this._state=null,this._value=null,++t.ref,zr(this,e)}var An={get:function(){var e=N,t=Tn;function r(a,i){var o=this,s=!e.global&&(e!==N||t!==Tn);s&&Le();var c=new I(function(p,l){Sn(o,new Wr(Yt(a,e,s),Yt(i,e,s),p,l,e))});return fe&&qr(c,this),c}return r.prototype=dt,r},set:function(e){we(this,"then",e&&e.prototype===dt?An:{get:function(){return e},set:An.set})}};ct(I.prototype,{then:An,_then:function(e,t){Sn(this,new Wr(null,null,e,t,N))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],r=arguments[1];return typeof t=="function"?this.then(null,function(a){return a instanceof t?r(a):$t(a)}):this.then(null,function(a){return a&&a.name===t?r(a):$t(a)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),$t(t)})},stack:{get:function(){if(this._stack)return this._stack;try{xn=!0;var e=Ur(this,[],EI),t=e.join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{xn=!1}}},timeout:function(e,t){var r=this;return e<Infinity?new I(function(a,i){var o=setTimeout(function(){return i(new C.Timeout(t))},e);r.then(a,i).finally(clearTimeout.bind(null,o))}):this}});typeof Symbol!="undefined"&&Symbol.toStringTag&&we(I.prototype,Symbol.toStringTag,"Dexie.Promise");Xe.env=Kr();function Wr(e,t,r,a,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=r,this.reject=a,this.psd=i}ct(I,{all:function(){var e=Ee.apply(null,arguments).map(Xt);return new I(function(t,r){e.length===0&&t([]);var a=e.length;e.forEach(function(i,o){return I.resolve(i).then(function(s){e[o]=s,--a||t(e)},r)})})},resolve:function(e){if(e instanceof I)return e;if(e&&typeof e.then=="function")return new I(function(r,a){e.then(r,a)});var t=new I(dt,!0,e);return qr(t,_n),t},reject:$t,race:function(){var e=Ee.apply(null,arguments).map(Xt);return new I(function(t,r){e.map(function(a){return I.resolve(a).then(t,r)})})},PSD:{get:function(){return N},set:function(e){return N=e}},newPSD:Pe,usePSD:mt,scheduler:{get:function(){return ht},set:function(e){ht=e}},rejectionMapper:{get:function(){return kn},set:function(e){kn=e}},follow:function(e,t){return new I(function(r,a){return Pe(function(i,o){var s=N;s.unhandleds=[],s.onunhandled=o,s.finalize=De(function(){var c=this;kI(function(){c.unhandleds.length===0?i():o(c.unhandleds[0])})},s.finalize),e()},t,r,a)})}});Ht&&(Ht.allSettled&&we(I,"allSettled",function(){var e=Ee.apply(null,arguments).map(Xt);return new I(function(t){e.length===0&&t([]);var r=e.length,a=new Array(r);e.forEach(function(i,o){return I.resolve(i).then(function(s){return a[o]={status:"fulfilled",value:s}},function(s){return a[o]={status:"rejected",reason:s}}).then(function(){return--r||t(a)})})})}),Ht.any&&typeof AggregateError!="undefined"&&we(I,"any",function(){var e=Ee.apply(null,arguments).map(Xt);return new I(function(t,r){e.length===0&&r(new AggregateError([]));var a=e.length,i=new Array(a);e.forEach(function(o,s){return I.resolve(o).then(function(c){return t(c)},function(c){i[s]=c,--a||r(new AggregateError(i))})})})}));function zr(e,t){try{t(function(r){if(e._state!==null)return;if(r===e)throw new TypeError("A promise cannot be resolved with itself.");var a=e._lib&&vt();r&&typeof r.then=="function"?zr(e,function(i,o){r instanceof I?r._then(i,o):r.then(i,o)}):(e._state=!0,e._value=r,Fr(e)),a&&gt()},In.bind(null,e))}catch(r){In(e,r)}}function In(e,t){if(Jt.push(t),e._state!==null)return;var r=e._lib&&vt();t=kn(t),e._state=!1,e._value=t,fe&&t!==null&&typeof t=="object"&&!t._promise&&rI(function(){var a=wr(t,"stack");t._promise=e,we(t,"stack",{get:function(){return xn?a&&(a.get?a.get.apply(t):a.value):e.stack}})}),II(e),Fr(e),r&&gt()}function Fr(e){var t=e._listeners;e._listeners=[];for(var r=0,a=t.length;r<a;++r)Sn(e,t[r]);var i=e._PSD;--i.ref||i.finalize(),Me===0&&(++Me,ht(function(){--Me===0&&Rn()},[]))}function Sn(e,t){if(e._state===null){e._listeners.push(t);return}var r=e._state?t.onFulfilled:t.onRejected;if(r===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Me,ht(AI,[r,e,t])}function AI(e,t,r){try{_n=t;var a,i=t._value;t._state?a=e(i):(Jt.length&&(Jt=[]),a=e(i),Jt.indexOf(i)===-1&&SI(t)),r.resolve(a)}catch(o){r.reject(o)}finally{_n=null,--Me===0&&Rn(),--r.psd.ref||r.psd.finalize()}}function Ur(e,t,r){if(t.length===r)return t;var a="";if(e._state===!1){var i=e._value,o,s;i!=null?(o=i.name||"Error",s=i.message||i,a=mn(i,0)):(o=i,s=""),t.push(o+(s?": "+s:"")+a)}return fe&&(a=mn(e._stackHolder,2),a&&t.indexOf(a)===-1&&t.push(a),e._prev&&Ur(e._prev,t,r)),t}function qr(e,t){var r=t?t._numPrev+1:0;r<xI&&(e._prev=t,e._numPrev=r)}function Vt(){vt()&&gt()}function vt(){var e=En;return En=!1,Gt=!1,e}function gt(){var e,t,r;do for(;ft.length>0;)for(e=ft,ft=[],r=e.length,t=0;t<r;++t){var a=e[t];a[0].apply(null,a[1])}while(ft.length>0);En=!0,Gt=!0}function Rn(){var e=je;je=[],e.forEach(function(a){a._PSD.onunhandled.call(null,a._value,a)});for(var t=Qt.slice(0),r=t.length;r;)t[--r]()}function kI(e){function t(){e(),Qt.splice(Qt.indexOf(t),1)}Qt.push(t),++Me,ht(function(){--Me===0&&Rn()},[])}function II(e){je.some(function(t){return t._value===e._value})||je.push(e)}function SI(e){for(var t=je.length;t;)if(je[--t]._value===e._value){je.splice(t,1);return}}function $t(e){return new I(dt,!1,e)}function G(e,t){var r=N;return function(){var a=vt(),i=N;try{return Re(r,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{Re(i,!1),a&&gt()}}}var te={awaits:0,echoes:0,id:0},TI=0,Lt=[],On=0,Tn=0,RI=0;function Pe(e,t,r,a){var i=N,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++RI;var s=Xe.env;o.env=wn?{Promise:I,PromiseProp:{value:I,configurable:!0,writable:!0},all:I.all,race:I.race,allSettled:I.allSettled,any:I.any,resolve:I.resolve,reject:I.reject,nthen:Hr(s.nthen,o),gthen:Hr(s.gthen,o)}:{},t&&oe(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var c=mt(o,e,r,a);return o.ref===0&&o.finalize(),c}function yt(){return te.id||(te.id=++TI),++te.awaits,te.echoes+=jr,te.id}function Le(e){if(!te.awaits||e&&e!==te.id)return;--te.awaits===0&&(te.id=0),te.echoes=te.awaits*jr}(""+Mr).indexOf("[native code]")===-1&&(yt=Le=F);function Xt(e){return te.echoes&&e&&e.constructor===Ht?(yt(),e.then(function(t){return Le(),t},function(t){return Le(),ne(t)})):e}function OI(e){++Tn,(!te.echoes||--te.echoes===0)&&(te.echoes=te.id=0),Lt.push(N),Re(e,!0)}function NI(){var e=Lt[Lt.length-1];Lt.pop(),Re(e,!1)}function Re(e,t){var r=N;if((t?te.echoes&&(!On++||e!==N):On&&(!--On||e!==N))&&CI(t?OI.bind(null,e):NI),e===N)return;if(N=e,r===Xe&&(Xe.env=Kr()),wn){var a=Xe.env.Promise,i=e.env;Ft.then=i.nthen,a.prototype.then=i.gthen,(r.global||e.global)&&(Object.defineProperty(H,"Promise",i.PromiseProp),a.all=i.all,a.race=i.race,a.resolve=i.resolve,a.reject=i.reject,i.allSettled&&(a.allSettled=i.allSettled),i.any&&(a.any=i.any))}}function Kr(){var e=H.Promise;return wn?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(H,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Ft.then,gthen:e.prototype.then}:{}}function mt(e,t,r,a,i){var o=N;try{return Re(e,!0),t(r,a,i)}finally{Re(o,!1)}}function CI(e){Mr.call(yn,e)}function Yt(e,t,r){return typeof e!="function"?e:function(){var a=N;r&&yt(),Re(t,!0);try{return e.apply(this,arguments)}finally{Re(a,!1)}}}function Hr(e,t){return function(r,a){return e.call(this,Yt(r,t,!1),Yt(a,t,!1))}}var Vr="unhandledrejection";function Pr(e,t){var r;try{r=t.onuncatched(e)}catch(o){}if(r!==!1)try{var a,i={promise:t,reason:e};if(H.document&&document.createEvent?(a=document.createEvent("Event"),a.initEvent(Vr,!0,!0),oe(a,i)):H.CustomEvent&&(a=new CustomEvent(Vr,{detail:i}),oe(a,i)),a&&H.dispatchEvent&&(dispatchEvent(a),!H.PromiseRejectionEvent&&H.onunhandledrejection))try{H.onunhandledrejection(a)}catch(o){}fe&&a&&!a.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch(o){}}var ne=I.reject;function Gr(e,t,r,a){if(!e._state.openComplete&&!N.letThrough){if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ne(new C.DatabaseClosed);e.open().catch(F)}return e._state.dbReadyPromise.then(function(){return Gr(e,t,r,a)})}else{var i=e._createTransaction(t,r,e._dbSchema);try{i.create()}catch(o){return ne(o)}return i._promise(t,function(o,s){return Pe(function(){return N.trans=i,a(o,s,i)})}).then(function(o){return i._completion.then(function(){return o})})}}var Jr="3.0.2",Ze=String.fromCharCode(65535),Nn=-Infinity,Oe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Qr="String expected.",bt=[],Cn=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),BI=Cn,DI=Cn,Yr=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},Zt="__dbnames",Bn="readonly",Dn="readwrite";function ze(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var $r={type:3,lower:-Infinity,lowerOpen:!1,upper:[[]],upperOpen:!1},jI=function(){function e(){}return e.prototype._trans=function(t,r,a){var i=this._tx||N.trans,o=this.name;function s(p,l,d){if(!d.schema[o])throw new C.NotFound("Table "+o+" not part of transaction");return r(d.idbtrans,d)}var c=vt();try{return i&&i.db===this.db?i===N.trans?i._promise(t,s,a):Pe(function(){return i._promise(t,s,a)},{trans:i,transless:N.transless||N}):Gr(this.db,t,[this.name],s)}finally{c&&gt()}},e.prototype.get=function(t,r){var a=this;return t&&t.constructor===Object?this.where(t).first(r):this._trans("readonly",function(i){return a.core.get({trans:i,key:t}).then(function(o){return a.hook.reading.fire(o)})}).then(r)},e.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(re(t))return new this.db.WhereClause(this,"["+t.join("+")+"]");var r=ee(t);if(r.length===1)return this.where(r[0]).equals(t[r[0]]);var a=this.schema.indexes.concat(this.schema.primKey).filter(function(d){return d.compound&&r.every(function(u){return d.keyPath.indexOf(u)>=0})&&d.keyPath.every(function(u){return r.indexOf(u)>=0})})[0];if(a&&this.db._maxKey!==Ze)return this.where(a.name).equals(a.keyPath.map(function(d){return t[d]}));!a&&fe&&console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a "+("compound index ["+r.join("+")+"]"));var i=this.schema.idxByName,o=this.db._deps.indexedDB;function s(d,u){try{return o.cmp(d,u)===0}catch(f){return!1}}var c=r.reduce(function(d,u){var f=d[0],v=d[1],m=i[u],h=t[u];return[f||m,f||!m?ze(v,m&&m.multi?function(y){var E=xe(y,u);return re(E)&&E.some(function(x){return s(h,x)})}:function(y){return s(h,xe(y,u))}):v]},[null,null]),p=c[0],l=c[1];return p?this.where(p.name).equals(t[p.keyPath]).filter(l):a?this.filter(l):this.where(r).equals("")},e.prototype.filter=function(t){return this.toCollection().and(t)},e.prototype.count=function(t){return this.toCollection().count(t)},e.prototype.offset=function(t){return this.toCollection().offset(t)},e.prototype.limit=function(t){return this.toCollection().limit(t)},e.prototype.each=function(t){return this.toCollection().each(t)},e.prototype.toArray=function(t){return this.toCollection().toArray(t)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,re(t)?"["+t.join("+")+"]":t))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(t){this.schema.mappedClass=t;var r=function(a){if(!a)return a;var i=Object.create(t.prototype);for(var o in a)if(ce(a,o))try{i[o]=a[o]}catch(s){}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),t},e.prototype.defineClass=function(){function t(r){oe(this,r)}return this.mapToClass(t)},e.prototype.add=function(t,r){var a=this;return this._trans("readwrite",function(i){return a.core.mutate({trans:i,type:"add",keys:r!=null?[r]:null,values:[t]})}).then(function(i){return i.numFailures?I.reject(i.failures[0]):i.lastResult}).then(function(i){if(!a.core.schema.primaryKey.outbound)try{le(t,a.core.schema.primaryKey.keyPath,i)}catch(o){}return i})},e.prototype.update=function(t,r){if(typeof r!="object"||re(r))throw new C.InvalidArgument("Modifications must be an object.");if(typeof t=="object"&&!re(t)){ee(r).forEach(function(i){le(t,i,r[i])});var a=xe(t,this.schema.primKey.keyPath);return a===void 0?ne(new C.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(a).modify(r)}else return this.where(":id").equals(t).modify(r)},e.prototype.put=function(t,r){var a=this;return this._trans("readwrite",function(i){return a.core.mutate({trans:i,type:"put",values:[t],keys:r!=null?[r]:null})}).then(function(i){return i.numFailures?I.reject(i.failures[0]):i.lastResult}).then(function(i){if(!a.core.schema.primaryKey.outbound)try{le(t,a.core.schema.primaryKey.keyPath,i)}catch(o){}return i})},e.prototype.delete=function(t){var r=this;return this._trans("readwrite",function(a){return r.core.mutate({trans:a,type:"delete",keys:[t]})}).then(function(a){return a.numFailures?I.reject(a.failures[0]):void 0})},e.prototype.clear=function(){var t=this;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"deleteRange",range:$r})}).then(function(r){return r.numFailures?I.reject(r.failures[0]):void 0})},e.prototype.bulkGet=function(t){var r=this;return this._trans("readonly",function(a){return r.core.getMany({keys:t,trans:a}).then(function(i){return i.map(function(o){return r.hook.reading.fire(o)})})})},e.prototype.bulkAdd=function(t,r,a){var i=this,o=Array.isArray(r)?r:void 0;a=a||(o?void 0:r);var s=a?a.allKeys:void 0;return this._trans("readwrite",function(c){var p=i.core.schema.primaryKey.outbound;if(!p&&o)throw new C.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new C.InvalidArgument("Arguments objects and keys must have the same length");var l=t.length;return i.core.mutate({trans:c,type:"add",keys:o,values:t,wantResults:s}).then(function(d){var u=d.numFailures,f=d.results,v=d.lastResult,m=d.failures,h=s?f:v;if(u===0)return h;throw new pt(i.name+".bulkAdd(): "+u+" of "+l+" operations failed",Object.keys(m).map(function(y){return m[y]}))})})},e.prototype.bulkPut=function(t,r,a){var i=this,o=Array.isArray(r)?r:void 0;a=a||(o?void 0:r);var s=a?a.allKeys:void 0;return this._trans("readwrite",function(c){var p=i.core.schema.primaryKey.outbound;if(!p&&o)throw new C.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new C.InvalidArgument("Arguments objects and keys must have the same length");var l=t.length;return i.core.mutate({trans:c,type:"put",keys:o,values:t,wantResults:s}).then(function(d){var u=d.numFailures,f=d.results,v=d.lastResult,m=d.failures,h=s?f:v;if(u===0)return h;throw new pt(i.name+".bulkPut(): "+u+" of "+l+" operations failed",Object.keys(m).map(function(y){return m[y]}))})})},e.prototype.bulkDelete=function(t){var r=this,a=t.length;return this._trans("readwrite",function(i){return r.core.mutate({trans:i,type:"delete",keys:t})}).then(function(i){var o=i.numFailures,s=i.lastResult,c=i.failures;if(o===0)return s;throw new pt(r.name+".bulkDelete(): "+o+" of "+a+" operations failed",c)})},e}();function en(e){var t={},r=function(c,p){if(p){for(var l=arguments.length,d=new Array(l-1);--l;)d[l-1]=arguments[l];return t[c].subscribe.apply(null,d),e}else if(typeof c=="string")return t[c]};r.addEventType=o;for(var a=1,i=arguments.length;a<i;++a)o(arguments[a]);return r;function o(c,p,l){if(typeof c=="object")return s(c);p||(p=wI),l||(l=F);var d={subscribers:[],fire:l,subscribe:function(u){d.subscribers.indexOf(u)===-1&&(d.subscribers.push(u),d.fire=p(d.fire,u))},unsubscribe:function(u){d.subscribers=d.subscribers.filter(function(f){return f!==u}),d.fire=d.subscribers.reduce(p,l)}};return t[c]=r[c]=d,d}function s(c){ee(c).forEach(function(p){var l=c[p];if(re(l))o(p,c[p][0],c[p][1]);else if(l==="asap")var d=o(p,ut,function(){for(var f=arguments.length,v=new Array(f);f--;)v[f]=arguments[f];d.subscribers.forEach(function(m){Er(function(){m.apply(null,v)})})});else throw new C.InvalidArgument("Invalid event config")})}}function wt(e,t){return Je(t).from({prototype:e}),t}function MI(e){return wt(jI.prototype,function(r,a,i){this.db=e,this._tx=i,this.name=r,this.schema=a,this.hook=e._allTables[r]?e._allTables[r].hook:en(null,{creating:[gI,F],reading:[vI,ut],updating:[bI,F],deleting:[yI,F]})})}function xt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function jn(e,t){e.filter=ze(e.filter,t)}function Mn(e,t,r){var a=e.replayFilter;e.replayFilter=a?function(){return ze(a(),t())}:t,e.justLimit=r&&!a}function PI(e,t){e.isMatch=ze(e.isMatch,t)}function tn(e,t){if(e.isPrimKey)return t.primaryKey;var r=t.getIndexByKeyPath(e.index);if(!r)throw new C.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function Xr(e,t,r){var a=tn(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:a,range:e.range}})}function nn(e,t,r,a){var i=e.replayFilter?ze(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},s=function(c,p,l){if(!i||i(p,l,function(f){return p.stop(f)},function(f){return p.fail(f)})){var d=p.primaryKey,u=""+d;u==="[object ArrayBuffer]"&&(u=""+new Uint8Array(d)),ce(o,u)||(o[u]=!0,t(c,p,l))}};return Promise.all([e.or._iterate(s,r),Lr(Xr(e,a,r),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}else return Lr(Xr(e,a,r),ze(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Lr(e,t,r,a){var i=a?function(s,c,p){return r(a(s),c,p)}:r,o=G(i);return e.then(function(s){if(s)return s.start(function(){var c=function(){return s.continue()};(!t||t(s,function(p){return c=p},function(p){s.stop(p),c=F},function(p){s.fail(p),c=F}))&&o(s.value,s,function(p){return c=p}),c()})})}var zI=function(){function e(){}return e.prototype._read=function(t,r){var a=this._ctx;return a.error?a.table._trans(null,ne.bind(null,a.error)):a.table._trans("readonly",t).then(r)},e.prototype._write=function(t){var r=this._ctx;return r.error?r.table._trans(null,ne.bind(null,r.error)):r.table._trans("readwrite",t,"locked")},e.prototype._addAlgorithm=function(t){var r=this._ctx;r.algorithm=ze(r.algorithm,t)},e.prototype._iterate=function(t,r){return nn(this._ctx,t,r,this._ctx.table.core)},e.prototype.clone=function(t){var r=Object.create(this.constructor.prototype),a=Object.create(this._ctx);return t&&oe(a,t),r._ctx=a,r},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(t){var r=this._ctx;return this._read(function(a){return nn(r,t,a,r.table.core)})},e.prototype.count=function(t){var r=this;return this._read(function(a){var i=r._ctx,o=i.table.core;if(xt(i,!0))return o.count({trans:a,query:{index:tn(i,o.schema),range:i.range}}).then(function(c){return Math.min(c,i.limit)});var s=0;return nn(i,function(){return++s,!1},a,o).then(function(){return s})}).then(t)},e.prototype.sortBy=function(t,r){var a=t.split(".").reverse(),i=a[0],o=a.length-1;function s(l,d){return d?s(l[a[d]],d-1):l[i]}var c=this._ctx.dir==="next"?1:-1;function p(l,d){var u=s(l,o),f=s(d,o);return u<f?-c:u>f?c:0}return this.toArray(function(l){return l.sort(p)}).then(r)},e.prototype.toArray=function(t){var r=this;return this._read(function(a){var i=r._ctx;if(i.dir==="next"&&xt(i,!0)&&i.limit>0){var o=i.valueMapper,s=tn(i,i.table.core.schema);return i.table.core.query({trans:a,limit:i.limit,values:!0,query:{index:s,range:i.range}}).then(function(p){var l=p.result;return o?l.map(o):l})}else{var c=[];return nn(i,function(p){return c.push(p)},a,i.table.core).then(function(){return c})}},t)},e.prototype.offset=function(t){var r=this._ctx;return t<=0?this:(r.offset+=t,xt(r)?Mn(r,function(){var a=t;return function(i,o){return a===0?!0:a===1?(--a,!1):(o(function(){i.advance(a),a=0}),!1)}}):Mn(r,function(){var a=t;return function(){return--a<0}}),this)},e.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Mn(this._ctx,function(){var r=t;return function(a,i,o){return--r<=0&&i(o),r>=0}},!0),this},e.prototype.until=function(t,r){return jn(this._ctx,function(a,i,o){return t(a.value)?(i(o),r):!0}),this},e.prototype.first=function(t){return this.limit(1).toArray(function(r){return r[0]}).then(t)},e.prototype.last=function(t){return this.reverse().first(t)},e.prototype.filter=function(t){return jn(this._ctx,function(r){return t(r.value)}),PI(this._ctx,t),this},e.prototype.and=function(t){return this.filter(t)},e.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(a,i){t(i.key,i)})},e.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},e.prototype.eachPrimaryKey=function(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(a,i){t(i.primaryKey,i)})},e.prototype.keys=function(t){var r=this._ctx;r.keysOnly=!r.isMatch;var a=[];return this.each(function(i,o){a.push(o.key)}).then(function(){return a}).then(t)},e.prototype.primaryKeys=function(t){var r=this._ctx;if(r.dir==="next"&&xt(r,!0)&&r.limit>0)return this._read(function(i){var o=tn(r,r.table.core.schema);return r.table.core.query({trans:i,values:!1,limit:r.limit,query:{index:o,range:r.range}})}).then(function(i){var o=i.result;return o}).then(t);r.keysOnly=!r.isMatch;var a=[];return this.each(function(i,o){a.push(o.primaryKey)}).then(function(){return a}).then(t)},e.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},e.prototype.firstKey=function(t){return this.limit(1).keys(function(r){return r[0]}).then(t)},e.prototype.lastKey=function(t){return this.reverse().firstKey(t)},e.prototype.distinct=function(){var t=this._ctx,r=t.index&&t.table.schema.idxByName[t.index];if(!r||!r.multi)return this;var a={};return jn(this._ctx,function(i){var o=i.primaryKey.toString(),s=ce(a,o);return a[o]=!0,!s}),this},e.prototype.modify=function(t){var r=this,a=this._ctx;return this._write(function(i){var o;if(typeof t=="function")o=t;else{var s=ee(t),c=s.length;o=function(x){for(var b=!1,w=0;w<c;++w){var g=s[w],A=t[g];xe(x,g)!==A&&(le(x,g,A),b=!0)}return b}}var p=a.table.core,l=p.schema.primaryKey,d=l.outbound,u=l.extractKey,f="testmode"in Et?1:2e3,v=r.db.core.cmp,m=[],h=0,y=[],E=function(x,b){var w=b.failures,g=b.numFailures;h+=x-g;for(var A=0,T=ee(w);A<T.length;A++){var S=T[A];m.push(w[S])}};return r.clone().primaryKeys().then(function(x){var b=function(w){var g=Math.min(f,x.length-w);return p.getMany({trans:i,keys:x.slice(w,w+g)}).then(function(A){for(var T=[],S=[],k=d?[]:null,R=[],O=0;O<g;++O){var U=A[O],B={value:qt(U),primKey:x[w+O]};o.call(B,B.value,B)!==!1&&(B.value==null?R.push(x[w+O]):!d&&v(u(U),u(B.value))!==0?(R.push(x[w+O]),T.push(B.value)):(S.push(B.value),d&&k.push(x[w+O])))}return Promise.resolve(T.length>0&&p.mutate({trans:i,type:"add",values:T}).then(function(V){for(var z in V.failures)R.splice(parseInt(z),1);E(T.length,V)})).then(function(V){return S.length>0&&p.mutate({trans:i,type:"put",keys:k,values:S}).then(function(z){return E(S.length,z)})}).then(function(){return R.length>0&&p.mutate({trans:i,type:"delete",keys:R}).then(function(V){return E(R.length,V)})}).then(function(){return x.length>w+g&&b(w+f)})})};return b(0).then(function(){if(m.length>0)throw new Ut("Error modifying one or more objects",m,h,y);return x.length})})})},e.prototype.delete=function(){var t=this._ctx,r=t.range;return xt(t)&&(t.isPrimKey&&!DI||r.type===3)?this._write(function(a){var i=t.table.core.schema.primaryKey,o=r;return t.table.core.count({trans:a,query:{index:i,range:o}}).then(function(s){return t.table.core.mutate({trans:a,type:"deleteRange",range:o}).then(function(c){var p=c.failures,l=c.lastResult,d=c.results,u=c.numFailures;if(u)throw new Ut("Could not delete some values",Object.keys(p).map(function(f){return p[f]}),s-u);return s-u})})}):this.modify(function(a,i){return i.value=null})},e}();function WI(e){return wt(zI.prototype,function(r,a){this.db=e;var i=$r,o=null;if(a)try{i=a()}catch(l){o=l}var s=r._ctx,c=s.table,p=c.hook.reading.fire;this._ctx={table:c,index:s.index,isPrimKey:!s.index||c.schema.primKey.keyPath&&s.index===c.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:Infinity,error:o,or:s.or,valueMapper:p!==ut?p:null}})}function qI(e,t){return e<t?-1:e===t?0:1}function UI(e,t){return e>t?-1:e===t?0:1}function se(e,t,r){var a=e instanceof Zr?new e.Collection(e):e;return a._ctx.error=r?new r(t):new TypeError(t),a}function et(e){return new e.Collection(e,function(){return ea("")}).limit(0)}function KI(e){return e==="next"?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function FI(e){return e==="next"?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function HI(e,t,r,a,i,o){for(var s=Math.min(e.length,a.length),c=-1,p=0;p<s;++p){var l=t[p];if(l!==a[p])return i(e[p],r[p])<0?e.substr(0,p)+r[p]+r.substr(p+1):i(e[p],a[p])<0?e.substr(0,p)+a[p]+r.substr(p+1):c>=0?e.substr(0,c)+t[c]+r.substr(c+1):null;i(e[p],l)<0&&(c=p)}return s<a.length&&o==="next"?e+r.substr(e.length):s<e.length&&o==="prev"?e.substr(0,r.length):c<0?null:e.substr(0,c)+a[c]+r.substr(c+1)}function rn(e,t,r,a){var i,o,s,c,p,l,d,u=r.length;if(!r.every(function(h){return typeof h=="string"}))return se(e,Qr);function f(h){i=KI(h),o=FI(h),s=h==="next"?qI:UI;var y=r.map(function(E){return{lower:o(E),upper:i(E)}}).sort(function(E,x){return s(E.lower,x.lower)});c=y.map(function(E){return E.upper}),p=y.map(function(E){return E.lower}),l=h,d=h==="next"?"":a}f("next");var v=new e.Collection(e,function(){return Ne(c[0],p[u-1]+a)});v._ondirectionchange=function(h){f(h)};var m=0;return v._addAlgorithm(function(h,y,E){var x=h.key;if(typeof x!="string")return!1;var b=o(x);if(t(b,p,m))return!0;for(var w=null,g=m;g<u;++g){var A=HI(x,b,c[g],p[g],s,l);A===null&&w===null?m=g+1:(w===null||s(w,A)>0)&&(w=A)}return w!==null?y(function(){h.continue(w+d)}):y(E),!1}),v}function Ne(e,t,r,a){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:a}}function ea(e){return{type:1,lower:e,upper:e}}var Zr=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!0,configurable:!0}),e.prototype.between=function(t,r,a,i){a=a!==!1,i=i===!0;try{return this._cmp(t,r)>0||this._cmp(t,r)===0&&(a||i)&&!(a&&i)?et(this):new this.Collection(this,function(){return Ne(t,r,!a,!i)})}catch(o){return se(this,Oe)}},e.prototype.equals=function(t){return new this.Collection(this,function(){return ea(t)})},e.prototype.above=function(t){return t==null?se(this,Oe):new this.Collection(this,function(){return Ne(t,void 0,!0)})},e.prototype.aboveOrEqual=function(t){return t==null?se(this,Oe):new this.Collection(this,function(){return Ne(t,void 0,!1)})},e.prototype.below=function(t){return t==null?se(this,Oe):new this.Collection(this,function(){return Ne(void 0,t,!1,!0)})},e.prototype.belowOrEqual=function(t){return t==null?se(this,Oe):new this.Collection(this,function(){return Ne(void 0,t)})},e.prototype.startsWith=function(t){return typeof t!="string"?se(this,Qr):this.between(t,t+Ze,!0,!0)},e.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):rn(this,function(r,a){return r.indexOf(a[0])===0},[t],Ze)},e.prototype.equalsIgnoreCase=function(t){return rn(this,function(r,a){return r===a[0]},[t],"")},e.prototype.anyOfIgnoreCase=function(){var t=Ee.apply(Qe,arguments);return t.length===0?et(this):rn(this,function(r,a){return a.indexOf(r)!==-1},t,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var t=Ee.apply(Qe,arguments);return t.length===0?et(this):rn(this,function(r,a){return a.some(function(i){return r.indexOf(i)===0})},t,Ze)},e.prototype.anyOf=function(){var t=this,r=Ee.apply(Qe,arguments),a=this._cmp;try{r.sort(a)}catch(s){return se(this,Oe)}if(r.length===0)return et(this);var i=new this.Collection(this,function(){return Ne(r[0],r[r.length-1])});i._ondirectionchange=function(s){a=s==="next"?t._ascending:t._descending,r.sort(a)};var o=0;return i._addAlgorithm(function(s,c,p){for(var l=s.key;a(l,r[o])>0;)if(++o,o===r.length)return c(p),!1;return a(l,r[o])===0?!0:(c(function(){s.continue(r[o])}),!1)}),i},e.prototype.notEqual=function(t){return this.inAnyRange([[Nn,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var t=Ee.apply(Qe,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch(a){return se(this,Oe)}var r=t.reduce(function(a,i){return a?a.concat([[a[a.length-1][1],i]]):[[Nn,i]]},null);return r.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(t,r){var a=this,i=this._cmp,o=this._ascending,s=this._descending,c=this._min,p=this._max;if(t.length===0)return et(this);if(!t.every(function(g){return g[0]!==void 0&&g[1]!==void 0&&o(g[0],g[1])<=0}))return se(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",C.InvalidArgument);var l=!r||r.includeLowers!==!1,d=r&&r.includeUppers===!0;function u(g,A){for(var T=0,S=g.length;T<S;++T){var k=g[T];if(i(A[0],k[1])<0&&i(A[1],k[0])>0){k[0]=c(k[0],A[0]),k[1]=p(k[1],A[1]);break}}return T===S&&g.push(A),g}var f=o;function v(g,A){return f(g[0],A[0])}var m;try{m=t.reduce(u,[]),m.sort(v)}catch(g){return se(this,Oe)}var h=0,y=d?function(g){return o(g,m[h][1])>0}:function(g){return o(g,m[h][1])>=0},E=l?function(g){return s(g,m[h][0])>0}:function(g){return s(g,m[h][0])>=0};function x(g){return!y(g)&&!E(g)}var b=y,w=new this.Collection(this,function(){return Ne(m[0][0],m[m.length-1][1],!l,!d)});return w._ondirectionchange=function(g){g==="next"?(b=y,f=o):(b=E,f=s),m.sort(v)},w._addAlgorithm(function(g,A,T){for(var S=g.key;b(S);)if(++h,h===m.length)return A(T),!1;return x(S)?!0:(a._cmp(S,m[h][1])===0||a._cmp(S,m[h][0])===0||A(function(){f===o?g.continue(m[h][0]):g.continue(m[h][1])}),!1)}),w},e.prototype.startsWithAnyOf=function(){var t=Ee.apply(Qe,arguments);return t.every(function(r){return typeof r=="string"})?t.length===0?et(this):this.inAnyRange(t.map(function(r){return[r,r+Ze]})):se(this,"startsWithAnyOf() only works with strings")},e}();function VI(e){return wt(Zr.prototype,function(r,a,i){this.db=e,this._ctx={table:r,index:a===":id"?null:a,or:i};var o=e._deps.indexedDB;if(!o)throw new C.MissingAPI("indexedDB API missing");this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(s,c){return o.cmp(c,s)},this._max=function(s,c){return o.cmp(s,c)>0?s:c},this._min=function(s,c){return o.cmp(s,c)<0?s:c},this._IDBKeyRange=e._deps.IDBKeyRange})}function ta(e){return e.length===1?e[0]:e}function Pn(e){try{return e.only([[]]),[[]]}catch(t){return Ze}}function he(e){return G(function(t){return _t(t),e(t.target.error),!1})}function _t(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var GI=function(){function e(){}return e.prototype._lock=function(){return lt(!N.global),++this._reculock,this._reculock===1&&!N.global&&(N.lockOwnerFor=this),this},e.prototype._unlock=function(){if(lt(!N.global),--this._reculock===0)for(N.global||(N.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{mt(t[1],t[0])}catch(r){}}return this},e.prototype._locked=function(){return this._reculock&&N.lockOwnerFor!==this},e.prototype.create=function(t){var r=this;if(!this.mode)return this;var a=this.db.idbdb,i=this.db._state.dbOpenError;if(lt(!this.idbtrans),!t&&!a)switch(i&&i.name){case"DatabaseClosedError":throw new C.DatabaseClosed(i);case"MissingAPIError":throw new C.MissingAPI(i.message,i);default:throw new C.OpenFailed(i)}if(!this.active)throw new C.TransactionInactive;return lt(this._completion._state===null),t=this.idbtrans=t||a.transaction(ta(this.storeNames),this.mode),t.onerror=G(function(o){_t(o),r._reject(t.error)}),t.onabort=G(function(o){_t(o),r.active&&r._reject(new C.Abort(t.error)),r.active=!1,r.on("abort").fire(o)}),t.oncomplete=G(function(){r.active=!1,r._resolve()}),this},e.prototype._promise=function(t,r,a){var i=this;if(t==="readwrite"&&this.mode!=="readwrite")return ne(new C.ReadOnly("Transaction is readonly"));if(!this.active)return ne(new C.TransactionInactive);if(this._locked())return new I(function(s,c){i._blockedFuncs.push([function(){i._promise(t,r,a).then(s,c)},N])});if(a)return Pe(function(){var s=new I(function(c,p){i._lock();var l=r(c,p,i);l&&l.then&&l.then(c,p)});return s.finally(function(){return i._unlock()}),s._lib=!0,s});var o=new I(function(s,c){var p=r(s,c,i);p&&p.then&&p.then(s,c)});return o._lib=!0,o},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(t){var r=this._root(),a=I.resolve(t);if(r._waitingFor)r._waitingFor=r._waitingFor.then(function(){return a});else{r._waitingFor=a,r._waitingQueue=[];var i=r.idbtrans.objectStore(r.storeNames[0]);(function s(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(i.get(-Infinity).onsuccess=s)})()}var o=r._waitingFor;return new I(function(s,c){a.then(function(p){return r._waitingQueue.push(G(s.bind(null,p)))},function(p){return r._waitingQueue.push(G(c.bind(null,p)))}).finally(function(){r._waitingFor===o&&(r._waitingFor=null)})})},e.prototype.abort=function(){this.active&&this._reject(new C.Abort),this.active=!1},e.prototype.table=function(t){var r=this._memoizedTables||(this._memoizedTables={});if(ce(r,t))return r[t];var a=this.schema[t];if(!a)throw new C.NotFound("Table "+t+" not part of transaction");var i=new this.db.Table(t,a,this);return i.core=this.db.core.table(t),r[t]=i,i},e}();function JI(e){return wt(GI.prototype,function(r,a,i,o){var s=this;this.db=e,this.mode=r,this.storeNames=a,this.schema=i,this.idbtrans=null,this.on=en(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new I(function(c,p){s._resolve=c,s._reject=p}),this._completion.then(function(){s.active=!1,s.on.complete.fire()},function(c){var p=s.active;return s.active=!1,s.on.error.fire(c),s.parent?s.parent._reject(c):p&&s.idbtrans&&s.idbtrans.abort(),ne(c)})})}function zn(e,t,r,a,i,o,s){return{name:e,keyPath:t,unique:r,multi:a,auto:i,compound:o,src:(r&&!s?"&":"")+(a?"*":"")+(i?"++":"")+na(t)}}function na(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function ra(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:_r(r,function(a){return[a.name,a]})}}function Wn(e){return e==null?function(){return}:typeof e=="string"?QI(e):function(t){return xe(t,e)}}function QI(e){var t=e.split(".");return t.length===1?function(r){return r[e]}:function(r){return xe(r,e)}}function aa(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}function YI(e,t,r){return t.type==="add"?Promise.resolve(new Array(t.values.length)):e.getMany({trans:t.trans,keys:r})}function ia(e){return[].slice.call(e)}var $I=0;function kt(e){return e==null?":id":typeof e=="string"?e:"["+e.join("+")+"]"}function XI(e,t,r,a){var i=t.cmp.bind(t);function o(v,m){var h=ia(v.objectStoreNames);return{schema:{name:v.name,tables:h.map(function(y){return m.objectStore(y)}).map(function(y){var E=y.keyPath,x=y.autoIncrement,b=re(E),w=E==null,g={},A={name:y.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:w,compound:b,keyPath:E,autoIncrement:x,unique:!0,extractKey:Wn(E)},indexes:ia(y.indexNames).map(function(T){return y.index(T)}).map(function(T){var S=T.name,k=T.unique,R=T.multiEntry,O=T.keyPath,U=re(O),B={name:S,compound:U,keyPath:O,unique:k,multiEntry:R,extractKey:Wn(O)};return g[kt(O)]=B,B}),getIndexByKeyPath:function(T){return g[kt(T)]}};return g[":id"]=A.primaryKey,E!=null&&(g[kt(E)]=A.primaryKey),A})},hasGetAll:h.length>0&&"getAll"in m.objectStore(h[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function s(v){if(v.type===3)return null;if(v.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var m=v.lower,h=v.upper,y=v.lowerOpen,E=v.upperOpen,x=m===void 0?h===void 0?null:r.upperBound(h,!!E):h===void 0?r.lowerBound(m,!!y):r.bound(m,h,!!y,!!E);return x}function c(v){var m=v.name;function h(x){var b=x.trans,w=x.type,g=x.keys,A=x.values,T=x.range,S=x.wantResults;return new Promise(function(k,R){k=G(k);var O=b.objectStore(m),U=O.keyPath==null,B=w==="put"||w==="add";if(!B&&w!=="delete"&&w!=="deleteRange")throw new Error("Invalid operation type: "+w);var V=(g||A||{length:1}).length;if(g&&A&&g.length!==A.length)throw new Error("Given keys array must have same length as given values array.");if(V===0)return k({numFailures:0,failures:{},results:[],lastResult:void 0});var z=S&&un(g||aa(v.primaryKey,{type:w,keys:g,values:A})),W,D=[],ae=0,Q=function(Y){++ae,_t(Y),z&&(z[Y.target._reqno]=void 0),D[Y.target._reqno]=Y.target.error},We=function(Y){var _e=Y.target;z[_e._reqno]=_e.result};if(w==="deleteRange"){if(T.type===4)return k({numFailures:ae,failures:D,results:z,lastResult:void 0});T.type===3?W=O.clear():W=O.delete(s(T))}else{var me=B?U?[A,g]:[A,null]:[g,null],rt=me[0],ve=me[1];if(B)for(var L=0;L<V;++L)W=ve&&ve[L]!==void 0?O[w](rt[L],ve[L]):O[w](rt[L]),W._reqno=L,z&&z[L]===void 0&&(W.onsuccess=We),W.onerror=Q;else for(var L=0;L<V;++L)W=O[w](rt[L]),W._reqno=L,W.onerror=Q}var qe=function(Y){var _e=Y.target.result;z&&(z[V-1]=_e),k({numFailures:ae,failures:D,results:z,lastResult:_e})};W.onerror=function(Y){Q(Y),qe(Y)},W.onsuccess=qe})}function y(x){var b=x.trans,w=x.values,g=x.query,A=x.reverse,T=x.unique;return new Promise(function(S,k){S=G(S);var R=g.index,O=g.range,U=b.objectStore(m),B=R.isPrimaryKey?U:U.index(R.name),V=A?T?"prevunique":"prev":T?"nextunique":"next",z=w||!("openKeyCursor"in B)?B.openCursor(s(O),V):B.openKeyCursor(s(O),V);z.onerror=he(k),z.onsuccess=G(function(W){var D=z.result;if(!D){S(null);return}D.___id=++$I,D.done=!1;var ae=D.continue.bind(D),Q=D.continuePrimaryKey;Q&&(Q=Q.bind(D));var We=D.advance.bind(D),me=function(){throw new Error("Cursor not started")},rt=function(){throw new Error("Cursor not stopped")};D.trans=b,D.stop=D.continue=D.continuePrimaryKey=D.advance=me,D.fail=G(k),D.next=function(){var ve=this,L=1;return this.start(function(){return L--?ve.continue():ve.stop()}).then(function(){return ve})},D.start=function(ve){var L=new Promise(function(Y,_e){Y=G(Y),z.onerror=he(_e),D.fail=_e,D.stop=function(fa){D.stop=D.continue=D.continuePrimaryKey=D.advance=rt,Y(fa)}}),qe=function(){if(z.result)try{ve()}catch(Y){D.fail(Y)}else D.done=!0,D.start=function(){throw new Error("Cursor behind last entry")},D.stop()};return z.onsuccess=G(function(Y){z.onsuccess=qe,qe()}),D.continue=ae,D.continuePrimaryKey=Q,D.advance=We,qe(),L},S(D)},k)})}function E(x){return function(b){return new Promise(function(w,g){w=G(w);var A=b.trans,T=b.values,S=b.limit,k=b.query,R=S===Infinity?void 0:S,O=k.index,U=k.range,B=A.objectStore(m),V=O.isPrimaryKey?B:B.index(O.name),z=s(U);if(S===0)return w({result:[]});if(x){var W=T?V.getAll(z,R):V.getAllKeys(z,R);W.onsuccess=function(We){return w({result:We.target.result})},W.onerror=he(g)}else{var D=0,ae=T||!("openKeyCursor"in V)?V.openCursor(z):V.openKeyCursor(z),Q=[];ae.onsuccess=function(We){var me=ae.result;if(!me)return w({result:Q});if(Q.push(T?me.value:me.primaryKey),++D===S)return w({result:Q});me.continue()},ae.onerror=he(g)}})}}return{name:m,schema:v,mutate:h,getMany:function(x){var b=x.trans,w=x.keys;return new Promise(function(g,A){g=G(g);for(var T=b.objectStore(m),S=w.length,k=new Array(S),R=0,O=0,U=0,B,V=function(ae){var Q=ae.target;(k[Q._pos]=Q.result)!=null&&++U,++O===R&&g(k)},z=he(A),W=0;W<S;++W){var D=w[W];D!=null&&(B=T.get(w[W]),B._pos=W,B.onsuccess=V,B.onerror=z,++R)}R===0&&g(k)})},get:function(x){var b=x.trans,w=x.key;return new Promise(function(g,A){g=G(g);var T=b.objectStore(m),S=T.get(w);S.onsuccess=function(k){return g(k.target.result)},S.onerror=he(A)})},query:E(d),openCursor:y,count:function(x){var b=x.query,w=x.trans,g=b.index,A=b.range;return new Promise(function(T,S){var k=w.objectStore(m),R=g.isPrimaryKey?k:k.index(g.name),O=s(A),U=O?R.count(O):R.count();U.onsuccess=G(function(B){return T(B.target.result)}),U.onerror=he(S)})}}}var p=o(e,a),l=p.schema,d=p.hasGetAll,u=l.tables.map(function(v){return c(v)}),f={};return u.forEach(function(v){return f[v.name]=v}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(v){var m=f[v];if(!m)throw new Error("Table '"+v+"' not found");return f[v]},cmp:i,MIN_KEY:-Infinity,MAX_KEY:Pn(r),schema:l}}function LI(e,t){return t.reduce(function(r,a){var i=a.create;return K(K({},r),i(r))},e)}function ZI(e,t,r,a){var i=r.IDBKeyRange,o=r.indexedDB,s=LI(XI(t,o,i,a),e.dbcore);return{dbcore:s}}function qn(e,t){var r=t.db,a=ZI(e._middlewares,r,e._deps,t);e.core=a.dbcore,e.tables.forEach(function(i){var o=i.name;e.core.schema.tables.some(function(s){return s.name===o})&&(i.core=e.core.table(o),e[o]instanceof e.Table&&(e[o].core=i.core))})}function an(e,t,r,a){r.forEach(function(i){var o=a[i];t.forEach(function(s){i in s||(s===e.Transaction.prototype||s instanceof e.Transaction?we(s,i,{get:function(){return this.table(i)},set:function(c){br(this,i,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):s[i]=new e.Table(i,o))})})}function Un(e,t){t.forEach(function(r){for(var a in r)r[a]instanceof e.Table&&delete r[a]})}function eA(e,t){return e._cfg.version-t._cfg.version}function nA(e,t,r,a){var i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(r),o._completion.catch(a);var s=o._reject.bind(o),c=N.transless||N;Pe(function(){N.trans=o,N.transless=c,t===0?(ee(i).forEach(function(p){Kn(r,p,i[p].primKey,i[p].indexes)}),qn(e,r),I.follow(function(){return e.on.populate.fire(o)}).catch(s)):tA(e,t,o,r).catch(s)})}function tA(e,t,r,a){var i=[],o=e._versions,s=e._dbSchema=oa(e,e.idbdb,a),c=!1,p=o.filter(function(d){return d._cfg.version>=t});p.forEach(function(d){i.push(function(){var u=s,f=d._cfg.dbschema;Hn(e,u,a),Hn(e,f,a),s=e._dbSchema=f;var v=rA(u,f);v.add.forEach(function(b){Kn(a,b[0],b[1].primKey,b[1].indexes)}),v.change.forEach(function(b){if(b.recreate)throw new C.Upgrade("Not yet support for changing primary key");var w=a.objectStore(b.name);b.add.forEach(function(g){return Fn(w,g)}),b.change.forEach(function(g){w.deleteIndex(g.name),Fn(w,g)}),b.del.forEach(function(g){return w.deleteIndex(g)})});var m=d._cfg.contentUpgrade;if(m&&d._cfg.version>t){qn(e,a),c=!0;var h=kr(f);v.del.forEach(function(b){h[b]=u[b]}),Un(e,[e.Transaction.prototype]),an(e,[e.Transaction.prototype],ee(h),h),r.schema=h;var y=Tr(m);y&&yt();var E,x=I.follow(function(){if(E=m(r),E&&y){var b=Le.bind(null,null);E.then(b,b)}});return E&&typeof E.then=="function"?I.resolve(E):x.then(function(){return E})}}),i.push(function(u){if(!c||!BI){var f=d._cfg.dbschema;iA(f,u)}Un(e,[e.Transaction.prototype]),an(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),r.schema=e._dbSchema})});function l(){return i.length?I.resolve(i.shift()(r.idbtrans)).then(l):I.resolve()}return l().then(function(){aA(s,a)})}function rA(e,t){var r={del:[],add:[],change:[]},a;for(a in e)t[a]||r.del.push(a);for(a in t){var i=e[a],o=t[a];if(!i)r.add.push([a,o]);else{var s={name:a,def:o,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==o.primKey.src&&!Cn)s.recreate=!0,r.change.push(s);else{var c=i.idxByName,p=o.idxByName,l=void 0;for(l in c)p[l]||s.del.push(l);for(l in p){var d=c[l],u=p[l];d?d.src!==u.src&&s.change.push(u):s.add.push(u)}(s.del.length>0||s.add.length>0||s.change.length>0)&&r.change.push(s)}}}return r}function Kn(e,t,r,a){var i=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return a.forEach(function(o){return Fn(i,o)}),i}function aA(e,t){ee(e).forEach(function(r){t.db.objectStoreNames.contains(r)||Kn(t,r,e[r].primKey,e[r].indexes)})}function iA(e,t){for(var r=0;r<t.db.objectStoreNames.length;++r){var a=t.db.objectStoreNames[r];e[a]==null&&t.db.deleteObjectStore(a)}}function Fn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function oa(e,t,r){var a={},i=Wt(t.objectStoreNames,0);return i.forEach(function(o){for(var s=r.objectStore(o),c=s.keyPath,p=zn(na(c),c||"",!1,!1,!!s.autoIncrement,c&&typeof c!="string",!0),l=[],d=0;d<s.indexNames.length;++d){var u=s.index(s.indexNames[d]);c=u.keyPath;var f=zn(u.name,c,!!u.unique,!!u.multiEntry,!1,c&&typeof c!="string",!1);l.push(f)}a[o]=ra(o,p,l)}),a}function oA(e,t,r){e.verno=t.version/10;var a=e._dbSchema=oa(e,t,r);e._storeNames=Wt(t.objectStoreNames,0),an(e,[e._allTables],ee(a),a)}function Hn(e,t,r){for(var a=r.db.objectStoreNames,i=0;i<a.length;++i){var o=a[i],s=r.objectStore(o);e._hasGetAll="getAll"in s;for(var c=0;c<s.indexNames.length;++c){var p=s.indexNames[c],l=s.index(p).keyPath,d=typeof l=="string"?l:"["+Wt(l).join("+")+"]";if(t[o]){var u=t[o].idxByName[d];u&&(u.name=p,delete t[o].idxByName[d],t[o].idxByName[p]=u)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&H.WorkerGlobalScope&&H instanceof H.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function sA(e){return e.split(",").map(function(t,r){t=t.trim();var a=t.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(a)?a.match(/^\[(.*)\]$/)[1].split("+"):a;return zn(a,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),re(i),r===0)})}var cA=function(){function e(){}return e.prototype._parseStoresSpec=function(t,r){ee(t).forEach(function(a){if(t[a]!==null){var i=sA(t[a]),o=i.shift();if(o.multi)throw new C.Schema("Primary key cannot be multi-valued");i.forEach(function(s){if(s.auto)throw new C.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new C.Schema("Index must have a name and cannot be an empty string")}),r[a]=ra(a,o,i)}})},e.prototype.stores=function(t){var r=this.db;this._cfg.storesSource=this._cfg.storesSource?oe(this._cfg.storesSource,t):t;var a=r._versions,i={},o={};return a.forEach(function(s){oe(i,s._cfg.storesSource),o=s._cfg.dbschema={},s._parseStoresSpec(i,o)}),r._dbSchema=o,Un(r,[r._allTables,r,r.Transaction.prototype]),an(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],ee(o),o),r._storeNames=ee(o),this},e.prototype.upgrade=function(t){return this._cfg.contentUpgrade=t,this},e}();function lA(e){return wt(cA.prototype,function(r){this.db=e,this._cfg={version:r,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}var It;function pA(e){var t=e&&typeof e.databases=="function",r;if(!t){var a=new Et(Zt,{addons:[]});a.version(1).stores({dbnames:"name"}),r=a.table("dbnames")}return{getDatabaseNames:function(){return t?I.resolve(e.databases()).then(function(i){return i.map(function(o){return o.name}).filter(function(o){return o!==Zt})}):r.toCollection().primaryKeys()},add:function(i){return!t&&i!==Zt&&r.put({name:i}).catch(F)},remove:function(i){return!t&&i!==Zt&&r.delete(i).catch(F)}}}function uA(e){try{It=pA(e)}catch(t){}}function Vn(e){return Pe(function(){return N.letThrough=!0,e()})}function dA(e){var t=e._state,r=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?ne(t.dbOpenError):e});fe&&(t.openCanceller._stackHolder=Ye()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var a=t.dbReadyResolve,i=null;return I.race([t.openCanceller,new I(function(o,s){if(!r)throw new C.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var c=e.name,p=t.autoSchema?r.open(c):r.open(c,Math.round(e.verno*10));if(!p)throw new C.MissingAPI("IndexedDB API not available");p.onerror=he(s),p.onblocked=G(e._fireOnBlocked),p.onupgradeneeded=G(function(l){if(i=p.transaction,t.autoSchema&&!e._options.allowEmptyDB){p.onerror=_t,i.abort(),p.result.close();var d=r.deleteDatabase(c);d.onsuccess=d.onerror=G(function(){s(new C.NoSuchDatabase("Database "+c+" doesnt exist"))})}else{i.onerror=he(s);var u=l.oldVersion>Math.pow(2,62)?0:l.oldVersion;e.idbdb=p.result,nA(e,u/10,i,s)}},s),p.onsuccess=G(function(){i=null;var l=e.idbdb=p.result,d=Wt(l.objectStoreNames);if(d.length>0)try{var u=l.transaction(ta(d),"readonly");t.autoSchema?oA(e,l,u):Hn(e,e._dbSchema,u),qn(e,u)}catch(f){}bt.push(e),l.onversionchange=G(function(f){t.vcFired=!0,e.on("versionchange").fire(f)}),It.add(c),o()},s)})]).then(function(){return t.onReadyBeingFired=[],I.resolve(Vn(e.on.ready.fire)).then(function o(){if(t.onReadyBeingFired.length>0){var s=t.onReadyBeingFired.reduce(Dr,F);return t.onReadyBeingFired=[],I.resolve(Vn(s)).then(o)}})}).finally(function(){t.onReadyBeingFired=null}).then(function(){return t.isBeingOpened=!1,e}).catch(function(o){try{i&&i.abort()}catch(s){}return t.isBeingOpened=!1,e.close(),t.dbOpenError=o,ne(t.dbOpenError)}).finally(function(){t.openComplete=!0,a()})}function Gn(e){var t=function(s){return e.next(s)},r=function(s){return e.throw(s)},a=o(t),i=o(r);function o(s){return function(c){var p=s(c),l=p.value;return p.done?l:!l||typeof l.then!="function"?re(l)?Promise.all(l).then(a,i):a(l):l.then(a,i)}}return o(t)()}function fA(e,t,r){var a=arguments.length;if(a<2)throw new C.InvalidArgument("Too few arguments");for(var i=new Array(a-1);--a;)i[a-1]=arguments[a];r=i.pop();var o=Ir(i);return[e,o,r]}function hA(e,t,r,a,i){return I.resolve().then(function(){var o=N.transless||N,s=e._createTransaction(t,r,e._dbSchema,a),c={trans:s,transless:o};a?s.idbtrans=a.idbtrans:s.create();var p=Tr(i);p&&yt();var l,d=I.follow(function(){if(l=i.call(s,s),l)if(p){var u=Le.bind(null,null);l.then(u,u)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=Gn(l))},c);return(l&&typeof l.then=="function"?I.resolve(l).then(function(u){return s.active?u:ne(new C.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):d.then(function(){return l})).then(function(u){return a&&s._resolve(),s._completion.then(function(){return u})}).catch(function(u){return s._reject(u),ne(u)})})}function At(e,t,r){for(var a=re(e)?e.slice():[e],i=0;i<r;++i)a.push(t);return a}function mA(e){return K(K({},e),{table:function(t){var r=e.table(t),a=r.schema,i={},o=[];function s(h,y,E){var x=kt(h),b=i[x]=i[x]||[],w=h==null?0:typeof h=="string"?1:h.length,g=y>0,A=K(K({},E),{isVirtual:g,isPrimaryKey:!g&&E.isPrimaryKey,keyTail:y,keyLength:w,extractKey:Wn(h),unique:!g&&E.unique});if(b.push(A),A.isPrimaryKey||o.push(A),w>1){var T=w===2?h[0]:h.slice(0,w-1);s(T,y+1,E)}return b.sort(function(S,k){return S.keyTail-k.keyTail}),A}var c=s(a.primaryKey.keyPath,0,a.primaryKey);i[":id"]=[c];for(var p=0,l=a.indexes;p<l.length;p++){var d=l[p];s(d.keyPath,0,d)}function u(h){var y=i[kt(h)];return y&&y[0]}function f(h,y){return{type:h.type===1?2:h.type,lower:At(h.lower,h.lowerOpen?e.MAX_KEY:e.MIN_KEY,y),lowerOpen:!0,upper:At(h.upper,h.upperOpen?e.MIN_KEY:e.MAX_KEY,y),upperOpen:!0}}function v(h){var y=h.query.index;return y.isVirtual?K(K({},h),{query:{index:y,range:f(h.query.range,y.keyTail)}}):h}var m=K(K({},r),{schema:K(K({},a),{primaryKey:c,indexes:o,getIndexByKeyPath:u}),count:function(h){return r.count(v(h))},query:function(h){return r.query(v(h))},openCursor:function(h){var y=h.query.index,E=y.keyTail,x=y.isVirtual,b=y.keyLength;if(!x)return r.openCursor(h);function w(g){function A(S){S!=null?g.continue(At(S,h.reverse?e.MAX_KEY:e.MIN_KEY,E)):h.unique?g.continue(At(g.key,h.reverse?e.MIN_KEY:e.MAX_KEY,E)):g.continue()}var T=Object.create(g,{continue:{value:A},continuePrimaryKey:{value:function(S,k){g.continuePrimaryKey(At(S,e.MAX_KEY,E),k)}},key:{get:function(){var S=g.key;return b===1?S[0]:S.slice(0,b)}},value:{get:function(){return g.value}}});return T}return r.openCursor(v(h)).then(function(g){return g&&w(g)})}});return m}})}var vA={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:mA},gA={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return K(K({},e),{table:function(t){var r=e.table(t),a=r.schema.primaryKey,i=K(K({},r),{mutate:function(o){var s=N.trans,c=s.table(t).hook,p=c.deleting,l=c.creating,d=c.updating;switch(o.type){case"add":if(l.fire===F)break;return s._promise("readwrite",function(){return u(o)},!0);case"put":if(l.fire===F&&d.fire===F)break;return s._promise("readwrite",function(){return u(o)},!0);case"delete":if(p.fire===F)break;return s._promise("readwrite",function(){return u(o)},!0);case"deleteRange":if(p.fire===F)break;return s._promise("readwrite",function(){return f(o)},!0)}return r.mutate(o);function u(m){var h=N.trans,y=m.keys||aa(a,m);if(!y)throw new Error("Keys missing");return m=m.type==="add"||m.type==="put"?K(K({},m),{keys:y,wantResults:!0}):K({},m),m.type!=="delete"&&(m.values=un(m.values)),m.keys&&(m.keys=un(m.keys)),YI(r,m,y).then(function(E){var x=y.map(function(b,w){var g=E[w],A={onerror:null,onsuccess:null};if(m.type==="delete")p.fire.call(A,b,g,h);else if(m.type==="add"||g===void 0){var T=l.fire.call(A,b,m.values[w],h);b==null&&T!=null&&(b=T,m.keys[w]=b,a.outbound||le(m.values[w],a.keyPath,b))}else{var S=hn(g,m.values[w]),k=d.fire.call(A,S,b,g,h);if(k){var R=m.values[w];Object.keys(k).forEach(function(O){le(R,O,k[O])})}}return A});return r.mutate(m).then(function(b){for(var w=b.failures,g=b.results,A=b.numFailures,T=b.lastResult,S=0;S<y.length;++S){var k=g?g[S]:y[S],R=x[S];k==null?R.onerror&&R.onerror(w[S]):R.onsuccess&&R.onsuccess(m.type==="put"&&E[S]?m.values[S]:k)}return{failures:w,results:g,numFailures:A,lastResult:T}}).catch(function(b){return x.forEach(function(w){return w.onerror&&w.onerror(b)}),Promise.reject(b)})})}function f(m){return v(m.trans,m.range,1e4)}function v(m,h,y){return r.query({trans:m,values:!1,query:{index:a,range:h},limit:y}).then(function(E){var x=E.result;return u({type:"delete",keys:x,trans:m}).then(function(b){return b.numFailures>0?Promise.reject(b.failures[0]):x.length<y?{failures:[],numFailures:0,lastResult:void 0}:v(m,K(K({},h),{lower:x[x.length-1],lowerOpen:!0}),y)})})}}});return i}})}},Et=function(){function e(t,r){var a=this;this._middlewares={},this.verno=0;var i=e.dependencies;this._options=r=K({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},r),this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};var o=r.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null;var s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:F,dbReadyPromise:null,cancelOpen:F,openCanceller:null,autoSchema:!0};s.dbReadyPromise=new I(function(c){s.dbReadyResolve=c}),s.openCanceller=new I(function(c,p){s.cancelOpen=p}),this._state=s,this.name=t,this.on=en(this,"populate","blocked","versionchange",{ready:[Dr,F]}),this.on.ready.subscribe=xr(this.on.ready.subscribe,function(c){return function(p,l){e.vip(function(){var d=a._state;if(d.openComplete)d.dbOpenError||I.resolve().then(p),l&&c(p);else if(d.onReadyBeingFired)d.onReadyBeingFired.push(p),l&&c(p);else{c(p);var u=a;l||c(function f(){u.on.ready.unsubscribe(p),u.on.ready.unsubscribe(f)})}})}}),this.Collection=WI(this),this.Table=MI(this),this.Transaction=JI(this),this.Version=lA(this),this.WhereClause=VI(this),this.on("versionchange",function(c){c.newVersion>0?console.warn("Another connection wants to upgrade database '"+a.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+a.name+"'. Closing db now to resume the delete request."),a.close()}),this.on("blocked",function(c){!c.newVersion||c.newVersion<c.oldVersion?console.warn("Dexie.delete('"+a.name+"') was blocked"):console.warn("Upgrade '"+a.name+"' blocked by other connection holding version "+c.oldVersion/10)}),this._maxKey=Pn(r.IDBKeyRange),this._createTransaction=function(c,p,l,d){return new a.Transaction(c,p,l,d)},this._fireOnBlocked=function(c){a.on("blocked").fire(c),bt.filter(function(p){return p.name===a.name&&p!==a&&!p._state.vcFired}).map(function(p){return p.on("versionchange").fire(c)})},this.use(vA),this.use(gA),o.forEach(function(c){return c(a)})}return e.prototype.version=function(t){if(isNaN(t)||t<.1)throw new C.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new C.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var r=this._versions,a=r.filter(function(i){return i._cfg.version===t})[0];return a||(a=new this.Version(t),r.push(a),r.sort(eA),a.stores({}),this._state.autoSchema=!1,a)},e.prototype._whenReady=function(t){var r=this;return this._state.openComplete||N.letThrough?t():new I(function(a,i){if(!r._state.isBeingOpened){if(!r._options.autoOpen){i(new C.DatabaseClosed);return}r.open().catch(F)}r._state.dbReadyPromise.then(a,i)}).then(t)},e.prototype.use=function(t){var r=t.stack,a=t.create,i=t.level,o=t.name;o&&this.unuse({stack:r,name:o});var s=this._middlewares[r]||(this._middlewares[r]=[]);return s.push({stack:r,create:a,level:i??10,name:o}),s.sort(function(c,p){return c.level-p.level}),this},e.prototype.unuse=function(t){var r=t.stack,a=t.name,i=t.create;return r&&this._middlewares[r]&&(this._middlewares[r]=this._middlewares[r].filter(function(o){return i?o.create!==i:a?o.name!==a:!1})),this},e.prototype.open=function(){return dA(this)},e.prototype.close=function(){var t=bt.indexOf(this),r=this._state;if(t>=0&&bt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(a){}this.idbdb=null}this._options.autoOpen=!1,r.dbOpenError=new C.DatabaseClosed,r.isBeingOpened&&r.cancelOpen(r.dbOpenError),r.dbReadyPromise=new I(function(a){r.dbReadyResolve=a}),r.openCanceller=new I(function(a,i){r.cancelOpen=i})},e.prototype.delete=function(){var t=this,r=arguments.length>0,a=this._state;return new I(function(i,o){var s=function(){t.close();var c=t._deps.indexedDB.deleteDatabase(t.name);c.onsuccess=G(function(){It.remove(t.name),i()}),c.onerror=he(o),c.onblocked=t._fireOnBlocked};if(r)throw new C.InvalidArgument("Arguments not allowed in db.delete()");a.isBeingOpened?a.dbReadyPromise.then(s):s()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var t=this;return ee(this._allTables).map(function(r){return t._allTables[r]})},enumerable:!0,configurable:!0}),e.prototype.transaction=function(){var t=fA.apply(this,arguments);return this._transaction.apply(this,t)},e.prototype._transaction=function(t,r,a){var i=this,o=N.trans;(!o||o.db!==this||t.indexOf("!")!==-1)&&(o=null);var s=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");var c,p;try{if(p=r.map(function(d){var u=d instanceof i.Table?d.name:d;if(typeof u!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return u}),t=="r"||t===Bn)c=Bn;else if(t=="rw"||t==Dn)c=Dn;else throw new C.InvalidArgument("Invalid transaction mode: "+t);if(o){if(o.mode===Bn&&c===Dn)if(s)o=null;else throw new C.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o&&p.forEach(function(d){if(o&&o.storeNames.indexOf(d)===-1)if(s)o=null;else throw new C.SubTransaction("Table "+d+" not included in parent transaction.")}),s&&o&&!o.active&&(o=null)}}catch(d){return o?o._promise(null,function(u,f){f(d)}):ne(d)}var l=hA.bind(null,this,c,p,o,a);return o?o._promise(c,l,"lock"):N.trans?mt(N.transless,function(){return i._whenReady(l)}):this._whenReady(l)},e.prototype.table=function(t){if(!ce(this._allTables,t))throw new C.InvalidTable("Table "+t+" does not exist");return this._allTables[t]},e}(),Ce=Et;ct(Ce,K(K({},Kt),{delete:function(e){var t=new Ce(e);return t.delete()},exists:function(e){return new Ce(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){return It?It.getDatabaseNames().then(e):I.resolve([])},defineClass:function(){function e(t){oe(this,t)}return e},ignoreTransaction:function(e){return N.trans?mt(N.transless,e):e()},vip:Vn,async:function(e){return function(){try{var t=Gn(e.apply(this,arguments));return!t||typeof t.then!="function"?I.resolve(t):t}catch(r){return ne(r)}}},spawn:function(e,t,r){try{var a=Gn(e.apply(r,t||[]));return!a||typeof a.then!="function"?I.resolve(a):a}catch(i){return ne(i)}},currentTransaction:{get:function(){return N.trans||null}},waitFor:function(e,t){var r=I.resolve(typeof e=="function"?Ce.ignoreTransaction(e):e).timeout(t||6e4);return N.trans?N.trans.waitFor(r):r},Promise:I,debug:{get:function(){return fe},set:function(e){Or(e,e==="dexie"?function(){return!0}:Yr)}},derive:Je,extend:oe,props:ct,override:xr,Events:en,getByKeyPath:xe,setByKeyPath:le,delByKeyPath:aI,shallowClone:kr,deepClone:qt,getObjectDiff:hn,asap:Er,minKey:Nn,addons:[],connections:bt,errnames:fI,dependencies:function(){try{return{indexedDB:H.indexedDB||H.mozIndexedDB||H.webkitIndexedDB||H.msIndexedDB,IDBKeyRange:H.IDBKeyRange||H.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:Jr,version:Jr.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,r){return e+t/Math.pow(10,r*2)}),default:Ce,Dexie:Ce}));Ce.maxKey=Pn(Ce.dependencies.IDBKeyRange);uA(Et.dependencies.indexedDB);I.rejectionMapper=mI;Or(fe,Yr);var M=Et;function sa(){}function yA(e,t){return e===sa?t:function(){var r=e.apply(this,arguments);if(r&&typeof r.then=="function"){var a=this,i=arguments;return r.then(function(){return t.apply(a,i)})}return t.apply(this,arguments)}}function ca(){var e=Date.now(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var a=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(r==="x"?a:a&7|8).toString(16)});return t}function bA(e,t){return function(a){return function(i,o,s,c){if(e.dynamicallyOpened())return a.apply(this,arguments);var p=!1;i==="readwrite"&&o.some(function(d){return s[d]&&s[d].observable})&&(p=!0,o=o.slice(0),o.indexOf("_changes")===-1&&o.push("_changes"));var l=a.call(this,i,o,s,c);return p&&(l._lastWrittenRevision=0,l.on("complete",function(){if(l._lastWrittenRevision)if(!c)t.timeoutHandle&&clearTimeout(t.timeoutHandle),t.timeoutHandle=setTimeout(function(){delete t.timeoutHandle,t(l._lastWrittenRevision)},25);else{var d=function u(f){return f.parent?u(f.parent):f}(c);d._lastWrittenRevision=Math.max(l._lastWrittenRevision,d.lastWrittenRevision||0)}}),l.parent&&l.parent.source&&(l.source=l.parent.source)),l}}}function wA(e,t,r){return function(i){t.latestRevision[e.name]<i&&(t.latestRevision[e.name]=i,M.ignoreTransaction(function(){t.on("latestRevisionIncremented").fire(e.name,i)}),r&&r.setItem("Dexie.Observable/latestRevision/"+e.name,i))}}var xA=1,EA=2,_A=3;function kA(e,t){return function(a,i,o){var s=void 0;a===void 0&&t.schema.primKey.uuid&&(a=s=ca(),t.schema.primKey.keyPath&&M.setByKeyPath(i,t.schema.primKey.keyPath,a));var c={source:o.source||null,table:t.name,key:a===void 0?null:a,type:xA,obj:i},p=e._changes.add(c).then(function(l){return o._lastWrittenRevision=Math.max(o._lastWrittenRevision,l),l});return this.onsuccess=function(l){a!=l&&p._then(function(){c.key=l,e._changes.put(c)})},this.onerror=function(){p._then(function(l){e._changes.delete(l)})},s}}function IA(e,t){return function(a,i,o,s){var c={},p=!1,l=M.deepClone(o);for(var d in a){var u=a[d];if(typeof u=="undefined")M.delByKeyPath(l,d),c[d]=null,p=!0;else{var f=M.getByKeyPath(o,d);u!==f&&JSON.stringify(u)!==JSON.stringify(f)&&(M.setByKeyPath(l,d,u),c[d]=u,p=!0)}}if(p){var v={source:s.source||null,table:t,key:i,type:EA,mods:c,oldObj:o,obj:l},m=e._changes.add(v);this.onsuccess=function(){m._then(function(h){s._lastWrittenRevision=Math.max(s._lastWrittenRevision,h)})},this.onerror=function(){m._then(function(h){e._changes.delete(h)})}}}}function AA(e,t){return function(a,i,o){var s=e._changes.add({source:o.source||null,table:t,key:a,type:_A,oldObj:i}).then(function(c){return o._lastWrittenRevision=Math.max(o._lastWrittenRevision,c),c}).catch(function(c){console.log(i),console.log(c.stack)});this.onerror=function(){s._then(function(c){e._changes.delete(c)})}}}function SA(e){return function(r){if(r.hook._observing)return;r.hook._observing=!0;var a=r.name;r.hook("creating").subscribe(kA(e,r)),r.hook("updating").subscribe(IA(e,a)),r.hook("deleting").subscribe(AA(e,a))}}function TA(e){return function(r){if(r.key&&r.key.indexOf("Dexie.Observable/")===0){var a=r.key.split("/"),i=a[1],o=a[2];if(i==="latestRevision"){var s=parseInt(r.newValue,10);!isNaN(s)&&s>e.latestRevision[o]&&(e.latestRevision[o]=s,M.ignoreTransaction(function(){e.on("latestRevisionIncremented").fire(o,s)}))}else if(i.indexOf("deadnode:")===0){var c=parseInt(i.split(":")[1],10);r.newValue&&e.on.suicideNurseCall.fire(o,c)}else i==="intercomm"&&(r.newValue&&e.on.intercomm.fire(o))}}}function RA(e,t,r){return function(i){return function(){return Object.keys(e._allTables).forEach(function(o){var s=e._allTables[o];s.schema.observable&&r(s),s.name==="_syncNodes"&&s.mapToClass(t)}),i.apply(this,arguments)}}}var St=M.Promise;function OA(e,t,r,a,i){var o={};e.observable.sendMessage=function(l,d,u,f){if(f=f||{},!a.node)return f.wantReply?St.reject(new M.DatabaseClosedError):St.resolve();var v={message:d,destinationNode:u,sender:a.node.id,type:l};return M.extend(v,f),M.ignoreTransaction(function(){var m=["_intercomm"];f.wantReply&&m.push("_syncNodes");var h=e.transaction("rw",m,function(){return f.wantReply?e._syncNodes.where("id").equals(u).count(function(y){return y?e._intercomm.add(v):e._syncNodes.where("isMaster").above(0).first(function(E){return v.destinationNode=E.id,e._intercomm.add(v)})}):e._intercomm.add(v)}).then(function(y){var E=null;return f.wantReply&&(E=new St(function(x,b){o[y.toString()]={resolve:x,reject:b}})),i&&i.setItem("Dexie.Observable/intercomm/"+e.name,y.toString()),t.on.intercomm.fire(e.name),E});if(f.wantReply)return h;h.catch(function(){});return})},e.observable.broadcastMessage=function(l,d,u){if(!a.node)return;var f=a.node.id;M.ignoreTransaction(function(){e._syncNodes.toArray(function(v){return St.all(v.filter(function(m){return m.type==="local"&&(u||m.id!==f)}).map(function(m){return e.observable.sendMessage(l,d,m.id)}))}).catch(function(){})})};function s(){return a.node?M.ignoreTransaction(function(){return e.transaction("rw","_intercomm",function(){return e._intercomm.where({destinationNode:a.node.id}).toArray(function(l){return l.forEach(function(d){return c(d)}),e._intercomm.where("id").anyOf(l.map(function(d){return d.id})).delete()})})}):St.reject(new M.DatabaseClosedError)}function c(l){if(l.type==="response"){var d=o[l.requestId.toString()];d&&(l.isFailure?d.reject(l.message.error):d.resolve(l.message.result),delete o[l.requestId.toString()])}else l.resolve=function(u){e.observable.sendMessage("response",{result:u},l.sender,{requestId:l.id})},l.reject=function(u){e.observable.sendMessage("response",{error:u.toString()},l.sender,{isFailure:!0,requestId:l.id})},e.on.message.fire(l)}function p(l){l===e.name&&s().catch("DatabaseClosedError",function(){})}return{onIntercomm:p,consumeIntercommMessages:s}}function NA(e){return function(t,r){t._changes="++rev",t._syncNodes="++id,myRevision,lastHeartBeat,&url,isMaster,type,status",t._intercomm="++id,destinationNode",t._uncommittedChanges="++id,node",e.call(this,t,r),Object.keys(r).forEach(function(a){var i=r[a];i.primKey.name.indexOf("$$")===0&&(i.primKey.uuid=!0,i.primKey.name=i.primKey.name.substr(2),i.primKey.keyPath=i.primKey.keyPath.substr(2))}),Object.keys(r).forEach(function(a){a.indexOf("_")!==0&&a.indexOf("$")!==0&&(r[a].observable=!0)})}}function la(e){var t=100;M.ignoreTransaction(function(){return e._syncNodes.orderBy("myRevision").first(function(r){return e._changes.where("rev").below(r.myRevision).limit(t).primaryKeys()}).then(function(r){return r.length===0?void 0:e._changes.bulkDelete(r).then(function(){r.length===t&&setTimeout(function(){return e.isOpen()&&la(e)},500)})})}).catch(function(){})}var tt=self,CA=M.defineClass({rev:Number,source:String,table:String,key:Object,type:Number,obj:Object,mods:Object,oldObj:Object}),Tt=M.override,pa=M.Promise,ua=!1;function j(e){if(!/^3\./.test(M.version))throw new Error("Missing dexie version 3.x");if(e.observable){if(e.observable.version!=="{version}")throw new Error("Mixed versions of dexie-observable");return}var t=2e4,r=2e4,a=500,i=t-5e3,o=j.localStorageImpl,s=M.defineClass({myRevision:Number,type:String,lastHeartBeat:Number,deleteTimeStamp:Number,url:String,isMaster:Number,syncProtocol:String,syncContext:null,syncOptions:Object,connected:!1,status:Number,appliedRemoteRevision:null,remoteBaseRevisions:[{local:Number,remote:null}],dbUploadState:{tablesToUpload:[String],currentTable:String,currentKey:null,localBaseRevision:Number}});e.observable={version:"{version}"},e.observable.SyncNode=s;var c=wA(e,j,o),p=bA(e,c),l=SA(e),d=RA(e,s,l),u={node:null},f=OA(e,j,s,u,o),v=f.onIntercomm,m=f.consumeIntercommMessages;Object.defineProperty(e,"_localSyncNode",{get:function(){return u.node}});var h=null,y=null;M.fake&&(e.version(1).stores({_syncNodes:"++id,myRevision,lastHeartBeat",_changes:"++rev",_intercomm:"++id,destinationNode",_uncommittedChanges:"++id,node"}),e._syncNodes.mapToClass(s),e._changes.mapToClass(CA),u.node=new s({myRevision:0,type:"local",lastHeartBeat:Date.now(),deleteTimeStamp:null})),e.Version.prototype._parseStoresSpec=Tt(e.Version.prototype._parseStoresSpec,NA),e.on.addEventType({changes:"asap",cleanup:[yA,sa],message:"asap"}),e._createTransaction=Tt(e._createTransaction,p),j.latestRevision[e.name]=j.latestRevision[e.name]||0,e.open=Tt(e.open,d),e.close=Tt(e.close,function(k){return function(){return e.dynamicallyOpened()?k.apply(this,arguments):(c.timeoutHandle&&(clearTimeout(c.timeoutHandle),delete c.timeoutHandle),j.on("latestRevisionIncremented").unsubscribe(x),j.on("suicideNurseCall").unsubscribe(S),j.on("intercomm").unsubscribe(v),j.on("beforeunload").unsubscribe(T),u.node&&u.node.id&&(j.on.suicideNurseCall.fire(e.name,u.node.id),o&&o.setItem("Dexie.Observable/deadnode:"+u.node.id.toString()+"/"+e.name,"dead"),u.node.deleteTimeStamp=1,u.node.lastHeartBeat=0,e._syncNodes.put(u.node),u.node=null),h&&clearTimeout(h),h=null,y&&clearTimeout(y),y=null,k.apply(this,arguments))}}),e.delete=Tt(e.delete,function(k){return function(){return k.apply(this,arguments).then(function(R){return j.latestRevision[e.name]=0,R})}}),e.on("ready",function(){return e.dynamicallyOpened()?e:e.table("_changes").orderBy("rev").last(function(R){var O=R?R.rev:0;return u.node=new s({myRevision:O,type:"local",lastHeartBeat:Date.now(),deleteTimeStamp:null,isMaster:0}),j.latestRevision[e.name]<O&&(j.latestRevision[e.name]=O,M.ignoreTransaction(function(){j.on.latestRevisionIncremented.fire(O)})),e._syncNodes.put(u.node).then(M.ignoreTransaction(function(){var U=1;return e._syncNodes.orderBy("isMaster").reverse().modify(function(B){if(B.isMaster&&(B.lastHeartBeat<Date.now()-t?B.isMaster=0:U=0),!u.node)return;B.id===u.node.id&&(B.isMaster=u.node.isMaster=U)})})).then(function(){j.on("latestRevisionIncremented",x),j.on("beforeunload",T),j.on("suicideNurseCall",S),j.on("intercomm",v),h=setTimeout(g,a),y=setTimeout(w,i)}).then(function(){A()})})},!0);var E=0;function x(k,R){if(k===e.name){if(E>=R)return;E=R,M.vip(function(){b(R).catch("DatabaseClosedError",function(){})})}}function b(k,R,O){if(!R&&b.ongoingOperation)return b.ongoingOperation;var U=!1,B=u.node;if(!B)return pa.reject(new M.DatabaseClosedError);var V=1e3,z=e._changes.where("rev").above(B.myRevision).limit(V).toArray(function(W){if(W.length>0){var D=W[W.length-1];U=W.length===V,e.on("changes").fire(W,U),B.myRevision=D.rev}else O&&e.on("changes").fire([],!1);var ae=!1;return e._syncNodes.where(":id").equals(B.id).modify(function(Q){ae=!0,Q.lastHeartBeat=Date.now(),Q.deleteTimeStamp=null,Q.myRevision=Math.max(Q.myRevision,B.myRevision)}).then(function(){return ae})}).then(function(W){if(!W)throw ua?new Error("Browser is shutting down"):(e.close(),console.error("Out of sync"),tt.location&&tt.location.reload(!0),new Error("Out of sync"));if(U||j.latestRevision[e.name]>B.myRevision)return b(j.latestRevision[e.name],(R||0)+1,U)}).finally(function(){delete b.ongoingOperation});return R||(b.ongoingOperation=z),z}function w(){y=null;var k=u.node&&u.node.id;if(!k)return;e.transaction("rw!",e._syncNodes,function(){e._syncNodes.where({id:k}).first(function(R){if(!R){e.isOpen()&&e.close();return}return R.lastHeartBeat=Date.now(),R.deleteTimeStamp=null,e._syncNodes.put(R)})}).catch("DatabaseClosedError",function(){}).finally(function(){u.node&&u.node.id===k&&e.isOpen()&&(y=setTimeout(w,i))})}function g(){h=null;var k=u.node&&u.node.id;if(!k)return;M.vip(function(){b(j.latestRevision[e.name]).then(A).then(m).catch("DatabaseClosedError",function(){}).finally(function(){u.node&&u.node.id===k&&e.isOpen()&&(h=setTimeout(g,a))})})}function A(){var k=u.node;return k?e.transaction("rw","_syncNodes","_changes","_intercomm",function(){var R=!1;e._syncNodes.where("lastHeartBeat").below(Date.now()-t).filter(function(O){return O.type==="local"}).modify(function(O){O.deleteTimeStamp&&O.deleteTimeStamp<Date.now()?(delete this.value,o&&o.removeItem("Dexie.Observable/deadnode:"+O.id+"/"+e.name),O.isMaster&&(e._syncNodes.update(k,{isMaster:1}),R=!0),e._intercomm.where({destinationNode:O.id}).modify(function(U){U.wantReply?U.destinationNode=k.id:delete this.value})):O.deleteTimeStamp||(O.deleteTimeStamp=Date.now()+r)}).then(function(){return j.deleteOldChanges(e),e.on("cleanup").fire(R)})}):pa.reject(new M.DatabaseClosedError)}function T(){if(!u.node)return;ua=!0,u.node.deleteTimeStamp=1,u.node.lastHeartBeat=0,e._syncNodes.put(u.node),j.wereTheOneDying=!0,o&&o.setItem("Dexie.Observable/deadnode:"+u.node.id.toString()+"/"+e.name,"dead")}function S(k,R){k===e.name&&!j.wereTheOneDying&&M.vip(function(){e._syncNodes.update(R,{deleteTimeStamp:1,lastHeartBeat:0}).then(A)})}}j.version="{version}";j.latestRevision={};j.on=M.Events(null,"latestRevisionIncremented","suicideNurseCall","intercomm","beforeunload");j.createUUID=ca;j.deleteOldChanges=la;j._onStorage=TA(j);j._onBeforeUnload=function(){j.on.beforeunload.fire()};try{j.localStorageImpl=tt.localStorage}catch(e){}tt.addEventListener&&(tt.addEventListener("storage",j._onStorage),tt.addEventListener("beforeunload",j._onBeforeUnload));if(M.Observable){if(M.Observable.version!=="{version}")throw new Error("Mixed versions of dexie-observable")}else M.Observable=j,M.addons.push(j);var PS=M.Observable;const BA=1;class DA extends M{constructor(e="default"){super("uristorage:"+e);this.version(BA).stores({nodes:"&path, ctime, mime_type, mtime, type"}),this.nodes=this.table("nodes"),this.EVENT_WATCH=J(t=>{function r(i){for(const o of i)switch(o.type){case 1:t({change:q.created,path:o.obj.path,type:o.obj.type});break;case 3:t({change:q.removed,path:o.oldObj.path,type:o.oldObj.path});break;case 2:o.mods.payload?t({change:q.attached,path:o.oldObj.path,type:o.oldObj.path}):t({change:q.updated,path:o.oldObj.path,type:o.oldObj.path});break}}const a=this.on("changes",r);return()=>a.unsubscribe(r)})}}class Ve extends ie{constructor(e={}){super(e)}async create_url_object(e){const{storage:t}=this;if(!t)throw new Error("bad dispatch to 'create_url_object' (database is not mounted)");const r=this.normalize(e),a=await t.nodes.get(r);if(!a)throw new Error("bad argument #0 to 'create_url_object' (Node must be created before using 'create_url_object')");if(!a.payload)throw new Error("bad argument #0 to 'create_url_object' (Node payload must be created before using 'create_url_object')");const i=Se(a.payload,a.mime_type);return{destroy:i.destroy,path:a.path,url:i.url}}async get(e){const{storage:t}=this;if(!t)throw new Error("bad dispatch to 'get' (database is not mounted)");const r=this.normalize(e),a=await t.nodes.get(r);return a?{ctime:a.ctime,mime_type:a.mime_type,mtime:a.mtime,path:a.path,type:a.type}:null}async put(e,t=P.undefined,r){const{storage:a}=this;if(!a)throw new Error("bad dispatch to 'put' (database is not mounted)");const i=this.normalize(e),o=await a.nodes.get(i),s=be();r||(r=ke(i)||ye),o?await a.nodes.update(o,{mtime:s,mime_type:r,type:t}):await a.nodes.put({ctime:s,mime_type:r,mtime:s,path:i,type:t})}async query(e={}){const{storage:t}=this;if(!t)throw new Error("bad dispatch to 'query' (database is not mounted)");const{path:r={},type:a}=e;let i=t.nodes.toCollection();if(a&&(typeof a=="string"?i=i.filter(s=>s.type===a):i=i.filter(s=>a.includes(s.type))),r.glob){const s=de($(r.glob));i=i.filter(c=>s.test(c.path))}else if(r.regex){const{regex:s}=r;i=i.filter(c=>s.test(c.path))}else{let{path:s="/"}=r;s=r.recursive?ue(s,"**"):ue(s,"*");const c=de($(s));i=i.filter(p=>c.test(p.path))}const o=await i.toArray();return o.map((s,c)=>{const{path:p,type:l}=s;return{path:p,type:l}})}async read(e){const{storage:t}=this;if(!t)throw new Error("bad dispatch to 'get_payload' (database is not mounted)");const r=this.normalize(e),a=await t.nodes.get(r);return!a||!a.payload?null:a.payload}async remove(e){const{storage:t}=this;if(!t)throw new Error("bad dispatch to 'remove' (database is not mounted)");const r=this.normalize(e),a=await t.nodes.get(r);return a?(t.nodes.delete(r),!0):!1}async watch(e={}){const{storage:t}=this;if(!t)throw new Error("bad dispatch to 'remove' (database is not mounted)");return Te(t.EVENT_WATCH,e)}async write(e,t){const{storage:r}=this;if(!r)throw new Error("bad dispatch to 'attach' (database is not mounted)");const a=this.normalize(e),i=await r.nodes.get(a);if(!i)throw new Error("bad argument #0 to 'attach' (Node must be created before using 'attach')");await r.nodes.update(i,{payload:t,mtime:be()})}is_mounted(){return!!this.storage}async mount(){if(this.storage)throw new Error("bad dispatch to 'mount' (database is already mounted)");const{namespace:e}=this.options,t=new DA(e);await t.open(),this.storage=t}async unmount(){const{storage:e}=this;if(!e)throw new Error("bad dispatch to 'unmount' (database is not mounted)");await e.close(),delete this.storage}}Ve.can_hotlink=!0,Ve.can_watch=!0,Ve.is_available=!!(typeof window=="object"&&window.indexedDB),Ve.requires_mount=!0;const nt=Ot(cr());function Bt(e,t={}){const{mode:r=Z.text}=t;switch(r){case Z.bytes:return nt.decode(e,"ByteArray");case Z.text:return nt.decode(e,"String");default:throw new Error(`bad option 'options.mode' to 'decode_safe' (encoding mode '${r}' not available)`)}}function Dt(e){const t=new TextDecoder;return t.decode(e)}function jt(e,t={}){const{mode:r=Z.text}=t;switch(r){case Z.bytes:return nt.encode(e,"ByteArray");case Z.text:return nt.encode(e,"String");default:throw new Error(`bad option 'options.mode' to 'encode_safe' (encoding mode '${r}' not available)`)}}function Mt(e){const t=new TextEncoder;return t.encode(e)}class jA{constructor(e,t){this.EVENT_WATCH=J();this.prefix_node=`uristorage:${e}:n:`,this.prefix_payload=`uristorage:${e}:p:`,this.storage=t}attach(e,t,r){const{storage:a}=this,i=this.prefix_node+e,o=this.prefix_payload+e,s={...JSON.parse(a.getItem(i)),mtime:r};a.setItem(i,JSON.stringify(s)),a.setItem(o,jt(t)),this.EVENT_WATCH.dispatch({change:q.attached,path:e,type:s.type})}get(e){const t=this.prefix_node+e,r=this.storage.getItem(t);if(r){const{ctime:a=0,mime_type:i=ye,mtime:o=0,type:s=P.undefined}=JSON.parse(r);return{ctime:a,mime_type:i,mtime:o,path:e,type:s}}return null}get_payload(e){const t=this.prefix_payload+e,r=this.storage.getItem(t);return r?Bt(r,{mode:Z.bytes}):null}has(e){return e=this.prefix_node+e,!!this.storage.getItem(e)}*nodes(){const{prefix_node:e,storage:t}=this;for(let r=0;r<t.length;r++){const a=t.key(r);if(a?.startsWith(e)){const i=t.getItem(a),{type:o=P.undefined}=JSON.parse(i);yield{path:a.slice(e.length),type:o}}}}put(e,t){const r={...t,path:e},a=JSON.stringify(r);this.storage.setItem(this.prefix_node+e,a),this.EVENT_WATCH.dispatch({change:q.created,path:e,type:r.type})}remove(e){const{storage:t}=this,r=t.getItem(e);if(!r)return!1;const a=JSON.parse(r);return t.removeItem(this.prefix_node+e),t.removeItem(this.prefix_payload+e),this.EVENT_WATCH.dispatch({change:q.removed,path:e,type:a.type}),!0}update(e,t){const{storage:r}=this,a=this.prefix_node+e,i={...JSON.parse(r.getItem(a)),...t,path:e};r.setItem(a,JSON.stringify(i)),this.EVENT_WATCH.dispatch({change:q.updated,path:i.path,type:i.type})}}function MA(e={}){const{compressed:t=!0}=e;return{...e,compressed:t}}class Ae extends ie{constructor(e,t={}){super(MA(t));const{namespace:r}=this.options;this.storage=new jA(r,e)}async create_url_object(e){const{storage:t}=this,{compressed:r}=this.options,a=this.normalize(e);if(!t.has(a))throw new Error("bad argument #0 to 'create_url_object' (Node must be created before using 'create_url_object')");let i=t.get_payload(a);if(!i)throw new Error("bad argument #0 to 'create_url_object' (Node payload must be created before using 'create_url_object')");const o=t.get(a);i=r?Ie(i):i;const s=Se(i,o.mime_type);return{destroy:s.destroy,path:o.path,url:s.url}}async get(e){const t=this.normalize(e);return this.storage.get(t)}async put(e,t=P.undefined,r){const{storage:a}=this,i=this.normalize(e),o=be();r||(r=ke(i)||ye),a.has(i)?a.update(i,{mime_type:r,mtime:o,type:t}):a.put(i,{ctime:o,mime_type:r,mtime:o,type:t})}async query(e={}){const t=Array.from(this.storage.nodes());return Ge(t,e)}async read(e){const{compressed:t}=this.options,r=this.normalize(e),a=this.storage.get_payload(r);return a?t?Ie(a):a:null}async remove(e){const t=this.normalize(e);return this.storage.remove(t)}async watch(e={}){return Te(this.storage.EVENT_WATCH,e)}async write(e,t){const{storage:r}=this,{compressed:a}=this.options,i=this.normalize(e);if(!r.has(i))throw new Error("bad argument #0 to 'attach' (Node must be created before using 'attach')");t=a?He(t):t,r.attach(i,t,be())}is_mounted(){return!0}async mount(){}async unmount(){}}Ae.can_hotlink=!0,Ae.can_watch=!0,Ae.is_available=!1,Ae.storage=null;class cn extends Ae{constructor(e={}){super(window.localStorage,e)}}cn.is_available=!!(typeof window=="object"&&window.localStorage);class ln extends Ae{constructor(e={}){super(window.sessionStorage,e)}}ln.is_available=!!(typeof window=="object"&&window.sessionStorage);class Pt{constructor(e){this.EVENT_MOUNTED=J();this.EVENT_UNMOUNTED=J();if(this.adapter=e,!this.has_feature("is_available"))throw new Error("bad dispatch to 'BaseOverlay' (adapter is not available in this context)");e.EVENT_MOUNTED.subscribe(t=>this.EVENT_MOUNTED.dispatch({storage:this})),e.EVENT_UNMOUNTED.subscribe(t=>this.EVENT_UNMOUNTED.dispatch({storage:this}))}has_feature(e){const t=this.adapter.constructor;return t[e]}is_mounted(){return this.adapter.is_mounted()}mount(){return this.adapter.mount()}unmount(){return this.adapter.unmount()}}var ge;(function(e){e.created="CHANGE_CREATED",e.removed="CHANGE_REMOVED",e.updated="CHANGE_UPDATED"})(ge||(ge={}));const PA=/\//g;function da(e){const t=e.match(PA);return t?t.length:0}class hr extends Pt{async create_url_object(e){if(!this.has_feature("can_hotlink"))throw new Error("bad dispatch to 'create_url_object' (adapter does not support feature)");const{adapter:t}=this,r=await t.get(e);if(r){if(r.type!==P.file)throw new Error("bad argument #0 to 'create_url_object' (file path is not a file)")}else throw new Error("bad argument #0 to 'create_url_object' (file path not found)");return t.create_url_object(e)}async create_directory(e){if(this.has_feature("is_readonly"))throw new Error("bad dispatch to 'create_directory' (adapter does not support feature)");const{adapter:t}=this;if(e=$(e),e==="/")throw new Error("bad argument #0 to 'create_directory' (directory path is already a directory)");const r=await t.get(e);if(r)switch(r.type){case P.directory:throw new Error("bad argument #0 to 'create_directory' (directory path is already a directory)");case P.file:throw new Error("bad argument #0 to 'create_directory' (directory path is already a file)")}const a=it(e);if(a!=="/"){const i=await t.get(a);if(i){if(i.type!==P.directory)throw new Error("bad argument #0 to 'create_directory' (parent path is not a directory)")}else throw new Error("bad argument #0 to 'create_directory' (parent path does not exist)")}return t.put(e,P.directory)}async exists(e){const t=await this.adapter.get(e);return!!t}async get_stats(e){const t=await this.adapter.get(e);if(!t)throw new Error("bad argument #0 to 'get_stats' (path not found)");return{ctime:t.ctime,path:t.path,mtime:t.mtime,is_directory:t.type===P.directory,is_file:t.type===P.file}}async read_directory(e={}){const{adapter:t}=this,{is_directory:r,is_file:a,glob:i,regex:o,path:s,recursive:c=!1}=e;let p;r?p=P.directory:a?p=P.file:p=[P.directory,P.file];let l;if(s||s===""){const d=$(s),u=await t.get(d);if(d!=="/")if(u){if(u.type!==P.directory)throw new Error("bad option 'IFileSystemQueryOptions.path' to 'read_directory' (directory path is not a directory)")}else throw new Error("bad option 'IFileSystemQueryOptions.path' to 'read_directory' (directory path not found)");l=await t.query({type:p,path:{recursive:c,path:d}})}else i?l=await t.query({type:p,path:{glob:i}}):o?l=await t.query({type:p,path:{regex:o}}):l=await t.query({type:p,path:{recursive:c,path:"/"}});return l.map((d,u)=>{const{path:f,type:v}=d;return{path:f,is_directory:v===P.directory,is_file:v===P.file}})}async read_file(e){const{adapter:t}=this,r=await t.get(e);if(r){if(r.type!==P.file)throw new Error("bad argument #0 to 'read_file' (file path is not a file)")}else throw new Error("bad argument #0 to 'read_file' (file path not found)");const a=await t.read(e);return a||new Uint8Array}async remove_directory(e,t={}){if(this.has_feature("is_readonly"))throw new Error("bad dispatch to 'remove_directory' (adapter does not support feature)");const{adapter:r}=this,{recursive:a=!1}=t;if(e=$(e),e==="/")throw new Error("bad argument #0 to 'remove_directory' (directory path not found)");const i=await r.get(e);if(i){if(i.type!==P.directory)throw new Error("bad argument #0 to 'remove_directory' (directory path is not a directory)")}else throw new Error("bad argument #0 to 'remove_directory' (directory path not found)");const o=await r.query({path:{path:e,recursive:!0}});if(o.length>0)if(a){o.sort((c,p)=>da(p.path)-da(c.path));const s=o.map((c,p)=>r.remove(c.path));await Promise.all(s)}else throw new Error("bad argument #0 to 'remove_directory' (directory contains children)");return r.remove(e)}async remove_file(e){if(this.has_feature("is_readonly"))throw new Error("bad dispatch to 'remove_file' (adapter does not support feature)");const{adapter:t}=this,r=await t.get(e);if(r){if(r.type!==P.file)throw new Error("bad argument #0 to 'remove_file' (file path is not a file)")}else throw new Error("bad argument #0 to 'remove_file' (file path not found)");const a=await t.remove(e);if(!a)throw new Error("bad argument #0 to 'remove_file' (could not remove file path)")}async watch_directory(e,t={}){if(!this.has_feature("can_watch"))throw new Error("bad dispatch to 'watch_directory' (adapter does not support feature)");const{adapter:r}=this,{recursive:a}=t;if(e=$(e),e!=="/"){const o=await r.get(e);if(o){if(o.type!==P.directory)throw new Error("bad argument #0 to 'watch_directory' (directory path is not a directory)")}else throw new Error("bad argument #0 to 'watch_directory' (directory path not found)")}const i=await r.watch({recursive:a,change:[q.attached,q.created,q.removed],inclusive:!0,path:e});return J(o=>{const s=i.subscribe(c=>{switch(c.change){case q.attached:o({change:ge.updated,path:c.path,type:c.type});break;case q.created:o({change:ge.created,path:c.path,type:c.type});break;case q.removed:o({change:ge.removed,path:c.path,type:c.type});break}});return()=>s()})}async watch_file(e){if(!this.has_feature("can_watch"))throw new Error("bad dispatch to 'watch_file' (adapter does not support feature)");const{adapter:t}=this,r=await t.get(e);if(r){if(r.type!==P.file)throw new Error("bad argument #0 to 'watch_file' (file path is not a file)")}else throw new Error("bad argument #0 to 'watch_file' (file path not found)");const a=await t.watch({change:[q.attached,q.removed],path:e});return J(i=>{async function o(c){switch(c.change){case q.attached:i({change:ge.updated,path:c.path,type:c.type});break;case q.removed:i({change:ge.removed,path:c.path,type:c.type});break}}const s=a.subscribe(o);return()=>s()})}async write_file(e,t){if(this.has_feature("is_readonly"))throw new Error("bad dispatch to 'write_file' (adapter does not support feature)");const{adapter:r}=this;if(e=$(e),e==="/")throw new Error("bad argument #0 to 'write_file' (file path is not a file)");const a=await r.get(e);if(a&&a.type!==P.file)throw new Error("bad argument #0 to 'write_file' (file path is not a file)");const i=it(e);if(i!=="/"){const o=await r.get(i);if(!o||o.type!==P.directory)throw new Error("bad argument #0 to 'write_file' (parent path is not a directory)")}return await r.put(e,P.file),r.write(e,t)}async read_file_json(e,t){const r=await this.read_file_text(e);return JSON.parse(r,t)}async read_file_text(e){const t=await this.read_file(e);return Dt(t)}write_file_json(e,t,r,a){const i=JSON.stringify(t,r,a);return this.write_file_text(e,i)}write_file_text(e,t){const r=Mt(t);return this.write_file(e,r)}}class fr extends zt{constructor(){super();this.EVENT_MOUNTED=J();this.EVENT_REGISTERED=J();this.EVENT_UNMOUNTED=J();this.EVENT_UNREGISTERED=J();this.clone=e=>{const{storage:t}=e;return{storage:t}}}clear(){const e=this.entries();for(const[t,r]of e){const{storage:a}=r;this.EVENT_UNREGISTERED.dispatch({namespace:t,storage:a})}super.clear()}delete(e){const t=this.get(e),r=super.delete(e);return r&&t&&this.EVENT_UNREGISTERED.dispatch({namespace:e,storage:t.storage}),r}resolve(e){let t;try{t=new URL(e)}catch(i){return}const r=t.protocol.slice(0,-1),a=this.get(r);return a?{...a,namespace:r,path:t.pathname}:void 0}set(e,t){const{storage:r}=t;return super.set(e,{...t,namespace:e}),r.EVENT_MOUNTED.subscribe(()=>this.EVENT_MOUNTED.dispatch({namespace:e,storage:r})),r.EVENT_UNMOUNTED.subscribe(()=>this.EVENT_UNMOUNTED.dispatch({namespace:e,storage:r})),this.EVENT_REGISTERED.dispatch({namespace:e,storage:r}),this}}return mr();})();
/*!
 LZ-UTF8 v0.5.6

 Copyright (c) 2018, Rotem Dan
 Released under the MIT license.

 Build date: 2020-08-10 

 Please report any issue at https://github.com/rotemdan/lzutf8.js/issues
*/
//# sourceMappingURL=uristorage.umd.min.js.map
