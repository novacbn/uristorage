var URIStorage=(()=>{var ha=Object.create,Rt=Object.defineProperty,ma=Object.getPrototypeOf,va=Object.prototype.hasOwnProperty,ga=Object.getOwnPropertyNames,ya=Object.getOwnPropertyDescriptor,Jn=e=>Rt(e,"__esModule",{value:!0}),Ue=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),ba=(e,t)=>{Jn(e);for(var r in t)Rt(e,r,{get:t[r],enumerable:!0})},wa=(e,t,r)=>{if(Jn(e),typeof t=="object"||typeof t=="function")for(let a of ga(t))!va.call(e,a)&&a!=="default"&&Rt(e,a,{get:()=>t[a],enumerable:!(r=ya(t,a))||r.enumerable});return e},Ot=e=>e&&e.__esModule?e:wa(Rt(ha(ma(e)),"default",{value:e,enumerable:!0}),e),Yn=Ue((VA,Qn)=>{Qn.exports=function(e,t){if(typeof e!="string")throw new TypeError("Expected a string");for(var r=String(e),a="",i=t?!!t.extended:!1,o=t?!!t.globstar:!1,s=!1,c=t&&typeof t.flags=="string"?t.flags:"",p,l=0,d=r.length;l<d;l++){p=r[l];switch(p){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":a+="\\"+p;break;case"?":if(i){a+=".";break}case"[":case"]":if(i){a+=p;break}case"{":if(i){s=!0,a+="(";break}case"}":if(i){s=!1,a+=")";break}case",":if(s){a+="|";break}a+="\\"+p;break;case"*":for(var u=r[l-1],f=1;r[l+1]==="*";)f++,l++;var v=r[l+1];if(!o)a+=".*";else{var m=f>1&&(u==="/"||u===void 0)&&(v==="/"||v===void 0);m?(a+="((?:[^/]*(?:/|$))*)",l++):a+="([^/]*)"}break;default:a+=p}}return(!c||!~c.indexOf("g"))&&(a="^"+a+"$"),new RegExp(a,c)}}),Zn=Ue((JA,Xn)=>{"use strict";function ue(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function Ln(e,t){for(var r="",a=0,i=-1,o=0,s,c=0;c<=e.length;++c){if(c<e.length)s=e.charCodeAt(c);else{if(s===47)break;s=47}if(s===47){if(!(i===c-1||o===1))if(i!==c-1&&o===2){if(r.length<2||a!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var p=r.lastIndexOf("/");if(p!==r.length-1){p===-1?(r="",a=0):(r=r.slice(0,p),a=r.length-1-r.lastIndexOf("/")),i=c,o=0;continue}}else if(r.length===2||r.length===1){r="",a=0,i=c,o=0;continue}}t&&(r.length>0?r+="/..":r="..",a=2)}else r.length>0?r+="/"+e.slice(i+1,c):r=e.slice(i+1,c),a=c-i-1;i=c,o=0}else s===46&&o!==-1?++o:o=-1}return r}function xa(e,t){var r=t.dir||t.root,a=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+a:r+e+a:a}var Ke={resolve:function(){for(var t="",r=!1,a,i=arguments.length-1;i>=-1&&!r;i--){var o;if(i>=0?o=arguments[i]:(a===void 0&&(a=process.cwd()),o=a),ue(o),o.length===0)continue;t=o+"/"+t,r=o.charCodeAt(0)===47}return t=Ln(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(ue(t),t.length===0)return".";var r=t.charCodeAt(0)===47,a=t.charCodeAt(t.length-1)===47;return t=Ln(t,!r),t.length===0&&!r&&(t="."),t.length>0&&a&&(t+="/"),r?"/"+t:t},isAbsolute:function(t){return ue(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,r=0;r<arguments.length;++r){var a=arguments[r];ue(a),a.length>0&&(t===void 0?t=a:t+="/"+a)}return t===void 0?".":Ke.normalize(t)},relative:function(t,r){if(ue(t),ue(r),t===r)return"";if(t=Ke.resolve(t),r=Ke.resolve(r),t===r)return"";for(var a=1;a<t.length&&!(t.charCodeAt(a)!==47);++a);for(var i=t.length,o=i-a,s=1;s<r.length&&!(r.charCodeAt(s)!==47);++s);for(var c=r.length,p=c-s,l=o<p?o:p,d=-1,u=0;u<=l;++u){if(u===l){if(p>l){if(r.charCodeAt(s+u)===47)return r.slice(s+u+1);if(u===0)return r.slice(s+u)}else o>l&&(t.charCodeAt(a+u)===47?d=u:u===0&&(d=0));break}var f=t.charCodeAt(a+u),v=r.charCodeAt(s+u);if(f!==v)break;f===47&&(d=u)}var m="";for(u=a+d+1;u<=i;++u)(u===i||t.charCodeAt(u)===47)&&(m.length===0?m+="..":m+="/..");return m.length>0?m+r.slice(s+d):(s+=d,r.charCodeAt(s)===47&&++s,r.slice(s))},_makeLong:function(t){return t},dirname:function(t){if(ue(t),t.length===0)return".";for(var r=t.charCodeAt(0),a=r===47,i=-1,o=!0,s=t.length-1;s>=1;--s)if(r=t.charCodeAt(s),r===47){if(!o){i=s;break}}else o=!1;return i===-1?a?"/":".":a&&i===1?"//":t.slice(0,i)},basename:function(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');ue(t);var a=0,i=-1,o=!0,s;if(r!==void 0&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var c=r.length-1,p=-1;for(s=t.length-1;s>=0;--s){var l=t.charCodeAt(s);if(l===47){if(!o){a=s+1;break}}else p===-1&&(o=!1,p=s+1),c>=0&&(l===r.charCodeAt(c)?--c===-1&&(i=s):(c=-1,i=p))}return a===i?i=p:i===-1&&(i=t.length),t.slice(a,i)}else{for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!o){a=s+1;break}}else i===-1&&(o=!1,i=s+1);return i===-1?"":t.slice(a,i)}},extname:function(t){ue(t);for(var r=-1,a=0,i=-1,o=!0,s=0,c=t.length-1;c>=0;--c){var p=t.charCodeAt(c);if(p===47){if(!o){a=c+1;break}continue}i===-1&&(o=!1,i=c+1),p===46?r===-1?r=c:s!==1&&(s=1):r!==-1&&(s=-1)}return r===-1||i===-1||s===0||s===1&&r===i-1&&r===a+1?"":t.slice(r,i)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return xa("/",t)},parse:function(t){ue(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return r;var a=t.charCodeAt(0),i=a===47,o;i?(r.root="/",o=1):o=0;for(var s=-1,c=0,p=-1,l=!0,d=t.length-1,u=0;d>=o;--d){if(a=t.charCodeAt(d),a===47){if(!l){c=d+1;break}continue}p===-1&&(l=!1,p=d+1),a===46?s===-1?s=d:u!==1&&(u=1):s!==-1&&(u=-1)}return s===-1||p===-1||u===0||u===1&&s===p-1&&s===c+1?p!==-1&&(c===0&&i?r.base=r.name=t.slice(1,p):r.base=r.name=t.slice(c,p)):(c===0&&i?(r.name=t.slice(1,s),r.base=t.slice(1,p)):(r.name=t.slice(c,s),r.base=t.slice(c,p)),r.ext=t.slice(s,p)),c>0?r.dir=t.slice(0,c-1):i&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};Ke.posix=Ke;Xn.exports=Ke}),ir=Ue((nS,it)=>{var _;(function(e){e.runningInNodeJS=function(){return typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"},e.runningInMainNodeJSModule=function(){return e.runningInNodeJS()&&require.main===it},e.commonJSAvailable=function(){return typeof it=="object"&&typeof it.exports=="object"},e.runningInWebWorker=function(){return typeof window=="undefined"&&typeof self=="object"&&typeof self.addEventListener=="function"&&typeof self.close=="function"},e.runningInNodeChildProcess=function(){return e.runningInNodeJS()&&typeof process.send=="function"},e.runningInNullOrigin=function(){return typeof window!="object"||typeof window.location!="object"?!1:document.location.protocol!=="http:"&&document.location.protocol!=="https:"},e.webWorkersAvailable=function(){return typeof Worker!="function"||e.runningInNullOrigin()||e.runningInNodeJS()?!1:!(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Android 4.3")>=0)},e.log=function(t,r){if(r===void 0&&(r=!1),typeof console!="object")return;console.log(t),r&&typeof document=="object"&&(document.body.innerHTML+=t+"<br/>")},e.createErrorMessage=function(t,r){if(r===void 0&&(r="Unhandled exception"),t==null)return r;if(r+=": ",typeof t.content=="object"){if(e.runningInNodeJS())return r+t.content.stack;var a=JSON.stringify(t.content);return a!=="{}"?r+a:r+t.content}else return typeof t.content=="string"?r+t.content:r+t},e.printExceptionAndStackTraceToConsole=function(t,r){r===void 0&&(r="Unhandled exception"),e.log(e.createErrorMessage(t,r))},e.getGlobalObject=function(){return typeof global=="object"?global:typeof window=="object"?window:typeof self=="object"?self:{}},e.toString=Object.prototype.toString,e.commonJSAvailable()&&(it.exports=e)})(_||(_={}));var ar;(function(e){if(typeof Uint8Array=="function"&&new Uint8Array(1).subarray(1).byteLength!==0){var t=function(o,s){var c=function(l,d,u){return l<d?d:l>u?u:l};o=o|0,s=s|0,arguments.length<1&&(o=0),arguments.length<2&&(s=this.length),o<0&&(o=this.length+o),s<0&&(s=this.length+s),o=c(o,0,this.length),s=c(s,0,this.length);var p=s-o;return p<0&&(p=0),new this.constructor(this.buffer,this.byteOffset+o*this.BYTES_PER_ELEMENT,p)},r=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],a=void 0;if(typeof window=="object"?a=window:typeof self=="object"&&(a=self),a!==void 0)for(var i=0;i<r.length;i++)a[r[i]]&&(a[r[i]].prototype.subarray=t)}})(ar||(ar={}));var _;(function(e){var t=function(){function r(){}return r.compressAsync=function(a,i,o){var s=new e.Timer,c=new e.Compressor;if(!o)throw new TypeError("compressAsync: No callback argument given");if(typeof a=="string")a=e.encodeUTF8(a);else if(a==null||!(a instanceof Uint8Array)){o(void 0,new TypeError("compressAsync: Invalid input argument, only 'string' and 'Uint8Array' are supported"));return}var p=e.ArrayTools.splitByteArray(a,i.blockSize),l=[],d=function(u){if(u<p.length){var f=void 0;try{f=c.compressBlock(p[u])}catch(m){o(void 0,m);return}l.push(f),s.getElapsedTime()<=20?d(u+1):(e.enqueueImmediate(function(){return d(u+1)}),s.restart())}else{var v=e.ArrayTools.concatUint8Arrays(l);e.enqueueImmediate(function(){var m;try{m=e.CompressionCommon.encodeCompressedBytes(v,i.outputEncoding)}catch(h){o(void 0,h);return}e.enqueueImmediate(function(){return o(m)})})}};e.enqueueImmediate(function(){return d(0)})},r.createCompressionStream=function(){var a=new e.Compressor,i=require("stream"),o=new i.Transform({decodeStrings:!0,highWaterMark:65536});return o._transform=function(s,c,p){var l;try{l=e.BufferTools.uint8ArrayToBuffer(a.compressBlock(e.BufferTools.bufferToUint8Array(s)))}catch(d){o.emit("error",d);return}o.push(l),p()},o},r}();e.AsyncCompressor=t})(_||(_={}));var _;(function(e){var t=function(){function r(){}return r.decompressAsync=function(a,i,o){if(!o)throw new TypeError("decompressAsync: No callback argument given");var s=new e.Timer;try{a=e.CompressionCommon.decodeCompressedBytes(a,i.inputEncoding)}catch(u){o(void 0,u);return}var c=new e.Decompressor,p=e.ArrayTools.splitByteArray(a,i.blockSize),l=[],d=function(u){if(u<p.length){var f=void 0;try{f=c.decompressBlock(p[u])}catch(m){o(void 0,m);return}l.push(f),s.getElapsedTime()<=20?d(u+1):(e.enqueueImmediate(function(){return d(u+1)}),s.restart())}else{var v=e.ArrayTools.concatUint8Arrays(l);e.enqueueImmediate(function(){var m;try{m=e.CompressionCommon.encodeDecompressedBytes(v,i.outputEncoding)}catch(h){o(void 0,h);return}e.enqueueImmediate(function(){return o(m)})})}};e.enqueueImmediate(function(){return d(0)})},r.createDecompressionStream=function(){var a=new e.Decompressor,i=require("stream"),o=new i.Transform({decodeStrings:!0,highWaterMark:65536});return o._transform=function(s,c,p){var l;try{l=e.BufferTools.uint8ArrayToBuffer(a.decompressBlock(e.BufferTools.bufferToUint8Array(s)))}catch(d){o.emit("error",d);return}o.push(l),p()},o},r}();e.AsyncDecompressor=t})(_||(_={}));var _;(function(e){var t;(function(r){r.compressAsync=function(a,i,o){if(i.inputEncoding=="ByteArray"&&!(a instanceof Uint8Array)){o(void 0,new TypeError("compressAsync: input is not a Uint8Array"));return}var s={token:Math.random().toString(),type:"compress",data:a,inputEncoding:i.inputEncoding,outputEncoding:i.outputEncoding},c=function(p){var l=p.data;if(!l||l.token!=s.token)return;r.globalWorker.removeEventListener("message",c),l.type=="error"?o(void 0,new Error(l.error)):o(l.data)};r.globalWorker.addEventListener("message",c),r.globalWorker.postMessage(s,[])},r.decompressAsync=function(a,i,o){var s={token:Math.random().toString(),type:"decompress",data:a,inputEncoding:i.inputEncoding,outputEncoding:i.outputEncoding},c=function(p){var l=p.data;if(!l||l.token!=s.token)return;r.globalWorker.removeEventListener("message",c),l.type=="error"?o(void 0,new Error(l.error)):o(l.data)};r.globalWorker.addEventListener("message",c),r.globalWorker.postMessage(s,[])},r.installWebWorkerIfNeeded=function(){typeof self=="object"&&self.document===void 0&&self.addEventListener!=null&&(self.addEventListener("message",function(a){var i=a.data;if(i.type=="compress"){var o=void 0;try{o=e.compress(i.data,{outputEncoding:i.outputEncoding})}catch(p){self.postMessage({token:i.token,type:"error",error:e.createErrorMessage(p)},[]);return}var s={token:i.token,type:"compressionResult",data:o,encoding:i.outputEncoding};s.data instanceof Uint8Array&&navigator.appVersion.indexOf("MSIE 10")===-1?self.postMessage(s,[s.data.buffer]):self.postMessage(s,[])}else if(i.type=="decompress"){var c=void 0;try{c=e.decompress(i.data,{inputEncoding:i.inputEncoding,outputEncoding:i.outputEncoding})}catch(l){self.postMessage({token:i.token,type:"error",error:e.createErrorMessage(l)},[]);return}var s={token:i.token,type:"decompressionResult",data:c,encoding:i.outputEncoding};s.data instanceof Uint8Array&&navigator.appVersion.indexOf("MSIE 10")===-1?self.postMessage(s,[s.data.buffer]):self.postMessage(s,[])}}),self.addEventListener("error",function(a){e.log(e.createErrorMessage(a.error,"Unexpected LZUTF8 WebWorker exception"))}))},r.createGlobalWorkerIfNeeded=function(){if(r.globalWorker)return!0;if(!e.webWorkersAvailable())return!1;if(!r.scriptURI&&typeof document=="object"){var a=document.getElementById("lzutf8");a!=null&&(r.scriptURI=a.getAttribute("src")||void 0)}return r.scriptURI?(r.globalWorker=new Worker(r.scriptURI),!0):!1},r.terminate=function(){r.globalWorker&&(r.globalWorker.terminate(),r.globalWorker=void 0)}})(t=e.WebWorker||(e.WebWorker={})),t.installWebWorkerIfNeeded()})(_||(_={}));var _;(function(e){var t=function(){function r(a,i,o){this.container=a,this.startPosition=i,this.length=o}return r.prototype.get=function(a){return this.container[this.startPosition+a]},r.prototype.getInReversedOrder=function(a){return this.container[this.startPosition+this.length-1-a]},r.prototype.set=function(a,i){this.container[this.startPosition+a]=i},r}();e.ArraySegment=t})(_||(_={}));var _;(function(e){var t;(function(r){r.copyElements=function(a,i,o,s,c){for(;c--;)o[s++]=a[i++]},r.zeroElements=function(a,i,o){for(;o--;)a[i++]=0},r.countNonzeroValuesInArray=function(a){for(var i=0,o=0;o<a.length;o++)a[o]&&i++;return i},r.truncateStartingElements=function(a,i){if(a.length<=i)throw new RangeError("truncateStartingElements: Requested length should be smaller than array length");for(var o=a.length-i,s=0;s<i;s++)a[s]=a[o+s];a.length=i},r.doubleByteArrayCapacity=function(a){var i=new Uint8Array(a.length*2);return i.set(a),i},r.concatUint8Arrays=function(a){for(var i=0,o=0,s=a;o<s.length;o++){var c=s[o];i+=c.length}for(var p=new Uint8Array(i),l=0,d=0,u=a;d<u.length;d++){var c=u[d];p.set(c,l),l+=c.length}return p},r.splitByteArray=function(a,i){for(var o=[],s=0;s<a.length;){var c=Math.min(i,a.length-s);o.push(a.subarray(s,s+c)),s+=c}return o}})(t=e.ArrayTools||(e.ArrayTools={}))})(_||(_={}));var _;(function(e){var t;(function(r){r.convertToUint8ArrayIfNeeded=function(a){return typeof Buffer=="function"&&Buffer.isBuffer(a)?r.bufferToUint8Array(a):a},r.uint8ArrayToBuffer=function(a){if(Buffer.prototype instanceof Uint8Array){var i=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);return Object.setPrototypeOf(i,Buffer.prototype),i}else{for(var o=a.length,s=new Buffer(o),c=0;c<o;c++)s[c]=a[c];return s}},r.bufferToUint8Array=function(a){if(Buffer.prototype instanceof Uint8Array)return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);for(var i=a.length,o=new Uint8Array(i),s=0;s<i;s++)o[s]=a[s];return o}})(t=e.BufferTools||(e.BufferTools={}))})(_||(_={}));var _;(function(e){var t;(function(r){r.getCroppedBuffer=function(a,i,o,s){s===void 0&&(s=0);var c=new Uint8Array(o+s);return c.set(a.subarray(i,i+o)),c},r.getCroppedAndAppendedByteArray=function(a,i,o,s){return e.ArrayTools.concatUint8Arrays([a.subarray(i,i+o),s])},r.detectCompressionSourceEncoding=function(a){if(a==null)throw new TypeError("detectCompressionSourceEncoding: input is null or undefined");if(typeof a=="string")return"String";if(a instanceof Uint8Array||typeof Buffer=="function"&&Buffer.isBuffer(a))return"ByteArray";throw new TypeError("detectCompressionSourceEncoding: input must be of type 'string', 'Uint8Array' or 'Buffer'")},r.encodeCompressedBytes=function(a,i){switch(i){case"ByteArray":return a;case"Buffer":return e.BufferTools.uint8ArrayToBuffer(a);case"Base64":return e.encodeBase64(a);case"BinaryString":return e.encodeBinaryString(a);case"StorageBinaryString":return e.encodeStorageBinaryString(a);default:throw new TypeError("encodeCompressedBytes: invalid output encoding requested")}},r.decodeCompressedBytes=function(a,i){if(i==null)throw new TypeError("decodeCompressedData: Input is null or undefined");switch(i){case"ByteArray":case"Buffer":var o=e.BufferTools.convertToUint8ArrayIfNeeded(a);if(!(o instanceof Uint8Array))throw new TypeError("decodeCompressedData: 'ByteArray' or 'Buffer' input type was specified but input is not a Uint8Array or Buffer");return o;case"Base64":if(typeof a!="string")throw new TypeError("decodeCompressedData: 'Base64' input type was specified but input is not a string");return e.decodeBase64(a);case"BinaryString":if(typeof a!="string")throw new TypeError("decodeCompressedData: 'BinaryString' input type was specified but input is not a string");return e.decodeBinaryString(a);case"StorageBinaryString":if(typeof a!="string")throw new TypeError("decodeCompressedData: 'StorageBinaryString' input type was specified but input is not a string");return e.decodeStorageBinaryString(a);default:throw new TypeError("decodeCompressedData: invalid input encoding requested: '"+i+"'")}},r.encodeDecompressedBytes=function(a,i){switch(i){case"String":return e.decodeUTF8(a);case"ByteArray":return a;case"Buffer":if(typeof Buffer!="function")throw new TypeError("encodeDecompressedBytes: a 'Buffer' type was specified but is not supported at the current envirnment");return e.BufferTools.uint8ArrayToBuffer(a);default:throw new TypeError("encodeDecompressedBytes: invalid output encoding requested")}}})(t=e.CompressionCommon||(e.CompressionCommon={}))})(_||(_={}));var _;(function(e){var t;(function(r){var a=[],i;r.enqueueImmediate=function(o){a.push(o),a.length===1&&i()},r.initializeScheduler=function(){var o=function(){for(var l=0,d=a;l<d.length;l++){var u=d[l];try{u.call(void 0)}catch(f){e.printExceptionAndStackTraceToConsole(f,"enqueueImmediate exception")}}a.length=0};if(e.runningInNodeJS()&&(i=function(){return setImmediate(function(){return o()})}),typeof window=="object"&&typeof window.addEventListener=="function"&&typeof window.postMessage=="function"){var s="enqueueImmediate-"+Math.random().toString();window.addEventListener("message",function(l){l.data===s&&o()});var c;e.runningInNullOrigin()?c="*":c=window.location.href,i=function(){return window.postMessage(s,c)}}else if(typeof MessageChannel=="function"&&typeof MessagePort=="function"){var p=new MessageChannel;p.port1.onmessage=function(){return o()},i=function(){return p.port2.postMessage(0)}}else i=function(){return setTimeout(function(){return o()},0)}},r.initializeScheduler()})(t=e.EventLoop||(e.EventLoop={})),e.enqueueImmediate=function(r){return t.enqueueImmediate(r)}})(_||(_={}));var _;(function(e){var t;(function(r){r.override=function(a,i){return r.extend(a,i)},r.extend=function(a,i){if(a==null)throw new TypeError("obj is null or undefined");if(typeof a!="object")throw new TypeError("obj is not an object");if(i==null&&(i={}),typeof i!="object")throw new TypeError("newProperties is not an object");if(i!=null)for(var o in i)a[o]=i[o];return a}})(t=e.ObjectTools||(e.ObjectTools={}))})(_||(_={}));var _;(function(e){e.getRandomIntegerInRange=function(t,r){return t+Math.floor(Math.random()*(r-t))},e.getRandomUTF16StringOfLength=function(t){for(var r="",a=0;a<t;a++){var i=void 0;do i=e.getRandomIntegerInRange(0,1114111+1);while(i>=55296&&i<=57343);r+=e.Encoding.CodePoint.decodeToString(i)}return r}})(_||(_={}));var _;(function(e){var t=function(){function r(a){a===void 0&&(a=1024),this.outputBufferCapacity=a,this.outputPosition=0,this.outputString="",this.outputBuffer=new Uint16Array(this.outputBufferCapacity)}return r.prototype.appendCharCode=function(a){this.outputBuffer[this.outputPosition++]=a,this.outputPosition===this.outputBufferCapacity&&this.flushBufferToOutputString()},r.prototype.appendCharCodes=function(a){for(var i=0,o=a.length;i<o;i++)this.appendCharCode(a[i])},r.prototype.appendString=function(a){for(var i=0,o=a.length;i<o;i++)this.appendCharCode(a.charCodeAt(i))},r.prototype.appendCodePoint=function(a){if(a<=65535)this.appendCharCode(a);else if(a<=1114111)this.appendCharCode(55296+(a-65536>>>10)),this.appendCharCode(56320+(a-65536&1023));else throw new Error("appendCodePoint: A code point of "+a+" cannot be encoded in UTF-16")},r.prototype.getOutputString=function(){return this.flushBufferToOutputString(),this.outputString},r.prototype.flushBufferToOutputString=function(){this.outputPosition===this.outputBufferCapacity?this.outputString+=String.fromCharCode.apply(null,this.outputBuffer):this.outputString+=String.fromCharCode.apply(null,this.outputBuffer.subarray(0,this.outputPosition)),this.outputPosition=0},r}();e.StringBuilder=t})(_||(_={}));var _;(function(e){var t=function(){function r(){this.restart()}return r.prototype.restart=function(){this.startTime=r.getTimestamp()},r.prototype.getElapsedTime=function(){return r.getTimestamp()-this.startTime},r.prototype.getElapsedTimeAndRestart=function(){var a=this.getElapsedTime();return this.restart(),a},r.prototype.logAndRestart=function(a,i){i===void 0&&(i=!0);var o=this.getElapsedTime(),s=a+": "+o.toFixed(3)+"ms";return e.log(s,i),this.restart(),o},r.getTimestamp=function(){return this.timestampFunc||this.createGlobalTimestampFunction(),this.timestampFunc()},r.getMicrosecondTimestamp=function(){return Math.floor(r.getTimestamp()*1e3)},r.createGlobalTimestampFunction=function(){if(typeof process=="object"&&typeof process.hrtime=="function"){var a=0;this.timestampFunc=function(){var c=process.hrtime(),p=c[0]*1e3+c[1]/1e6;return a+p},a=Date.now()-this.timestampFunc()}else if(typeof chrome=="object"&&chrome.Interval){var i=Date.now(),o=new chrome.Interval;o.start(),this.timestampFunc=function(){return i+o.microseconds()/1e3}}else if(typeof performance=="object"&&performance.now){var s=Date.now()-performance.now();this.timestampFunc=function(){return s+performance.now()}}else Date.now?this.timestampFunc=function(){return Date.now()}:this.timestampFunc=function(){return new Date().getTime()}},r}();e.Timer=t})(_||(_={}));var _;(function(e){var t=function(){function r(a){a===void 0&&(a=!0),this.MinimumSequenceLength=4,this.MaximumSequenceLength=31,this.MaximumMatchDistance=32767,this.PrefixHashTableSize=65537,this.inputBufferStreamOffset=1,a&&typeof Uint32Array=="function"?this.prefixHashTable=new e.CompressorCustomHashTable(this.PrefixHashTableSize):this.prefixHashTable=new e.CompressorSimpleHashTable(this.PrefixHashTableSize)}return r.prototype.compressBlock=function(a){if(a==null)throw new TypeError("compressBlock: undefined or null input received");return typeof a=="string"&&(a=e.encodeUTF8(a)),a=e.BufferTools.convertToUint8ArrayIfNeeded(a),this.compressUtf8Block(a)},r.prototype.compressUtf8Block=function(a){if(!a||a.length==0)return new Uint8Array(0);var i=this.cropAndAddNewBytesToInputBuffer(a),o=this.inputBuffer,s=this.inputBuffer.length;this.outputBuffer=new Uint8Array(a.length),this.outputBufferPosition=0;for(var c=0,p=i;p<s;p++){var l=o[p],d=p<c;if(p>s-this.MinimumSequenceLength){d||this.outputRawByte(l);continue}var u=this.getBucketIndexForPrefix(p);if(!d){var f=this.findLongestMatch(p,u);f!=null&&(this.outputPointerBytes(f.length,f.distance),c=p+f.length,d=!0)}d||this.outputRawByte(l);var v=this.inputBufferStreamOffset+p;this.prefixHashTable.addValueToBucket(u,v)}return this.outputBuffer.subarray(0,this.outputBufferPosition)},r.prototype.findLongestMatch=function(a,i){var o=this.prefixHashTable.getArraySegmentForBucketIndex(i,this.reusableArraySegmentObject);if(o==null)return null;for(var s=this.inputBuffer,c,p=0,l=0;l<o.length;l++){var d=o.getInReversedOrder(l)-this.inputBufferStreamOffset,u=a-d,f=void 0;if(c===void 0?f=this.MinimumSequenceLength-1:c<128&&u>=128?f=p+(p>>>1):f=p,u>this.MaximumMatchDistance||f>=this.MaximumSequenceLength||a+f>=s.length)break;if(s[d+f]!==s[a+f])continue;for(var v=0;;v++)if(a+v===s.length||s[d+v]!==s[a+v]){v>f&&(c=u,p=v);break}else if(v===this.MaximumSequenceLength)return{distance:u,length:this.MaximumSequenceLength}}return c!==void 0?{distance:c,length:p}:null},r.prototype.getBucketIndexForPrefix=function(a){return(this.inputBuffer[a]*7880599+this.inputBuffer[a+1]*39601+this.inputBuffer[a+2]*199+this.inputBuffer[a+3])%this.PrefixHashTableSize},r.prototype.outputPointerBytes=function(a,i){i<128?(this.outputRawByte(192|a),this.outputRawByte(i)):(this.outputRawByte(224|a),this.outputRawByte(i>>>8),this.outputRawByte(i&255))},r.prototype.outputRawByte=function(a){this.outputBuffer[this.outputBufferPosition++]=a},r.prototype.cropAndAddNewBytesToInputBuffer=function(a){if(this.inputBuffer===void 0)return this.inputBuffer=a,0;var i=Math.min(this.inputBuffer.length,this.MaximumMatchDistance),o=this.inputBuffer.length-i;return this.inputBuffer=e.CompressionCommon.getCroppedAndAppendedByteArray(this.inputBuffer,o,i,a),this.inputBufferStreamOffset+=o,i},r}();e.Compressor=t})(_||(_={}));var _;(function(e){var t=function(){function r(a){this.minimumBucketCapacity=4,this.maximumBucketCapacity=64,this.bucketLocators=new Uint32Array(a*2),this.storage=new Uint32Array(a*2),this.storageIndex=1}return r.prototype.addValueToBucket=function(a,i){a<<=1,this.storageIndex>=this.storage.length>>>1&&this.compact();var o=this.bucketLocators[a],s;if(o===0)o=this.storageIndex,s=1,this.storage[this.storageIndex]=i,this.storageIndex+=this.minimumBucketCapacity;else{s=this.bucketLocators[a+1],s===this.maximumBucketCapacity-1&&(s=this.truncateBucketToNewerElements(o,s,this.maximumBucketCapacity/2));var c=o+s;this.storage[c]===0?(this.storage[c]=i,c===this.storageIndex&&(this.storageIndex+=s)):(e.ArrayTools.copyElements(this.storage,o,this.storage,this.storageIndex,s),o=this.storageIndex,this.storageIndex+=s,this.storage[this.storageIndex++]=i,this.storageIndex+=s),s++}this.bucketLocators[a]=o,this.bucketLocators[a+1]=s},r.prototype.truncateBucketToNewerElements=function(a,i,o){var s=a+i-o;return e.ArrayTools.copyElements(this.storage,s,this.storage,a,o),e.ArrayTools.zeroElements(this.storage,a+o,i-o),o},r.prototype.compact=function(){var a=this.bucketLocators,i=this.storage;this.bucketLocators=new Uint32Array(this.bucketLocators.length),this.storageIndex=1;for(var o=0;o<a.length;o+=2){var s=a[o+1];if(s===0)continue;this.bucketLocators[o]=this.storageIndex,this.bucketLocators[o+1]=s,this.storageIndex+=Math.max(Math.min(s*2,this.maximumBucketCapacity),this.minimumBucketCapacity)}this.storage=new Uint32Array(this.storageIndex*8);for(var o=0;o<a.length;o+=2){var c=a[o];if(c===0)continue;var p=this.bucketLocators[o],l=this.bucketLocators[o+1];e.ArrayTools.copyElements(i,c,this.storage,p,l)}},r.prototype.getArraySegmentForBucketIndex=function(a,i){a<<=1;var o=this.bucketLocators[a];return o===0?null:(i===void 0&&(i=new e.ArraySegment(this.storage,o,this.bucketLocators[a+1])),i)},r.prototype.getUsedBucketCount=function(){return Math.floor(e.ArrayTools.countNonzeroValuesInArray(this.bucketLocators)/2)},r.prototype.getTotalElementCount=function(){for(var a=0,i=0;i<this.bucketLocators.length;i+=2)a+=this.bucketLocators[i+1];return a},r}();e.CompressorCustomHashTable=t})(_||(_={}));var _;(function(e){var t=function(){function r(a){this.maximumBucketCapacity=64,this.buckets=new Array(a)}return r.prototype.addValueToBucket=function(a,i){var o=this.buckets[a];o===void 0?this.buckets[a]=[i]:(o.length===this.maximumBucketCapacity-1&&e.ArrayTools.truncateStartingElements(o,this.maximumBucketCapacity/2),o.push(i))},r.prototype.getArraySegmentForBucketIndex=function(a,i){var o=this.buckets[a];return o===void 0?null:(i===void 0&&(i=new e.ArraySegment(o,0,o.length)),i)},r.prototype.getUsedBucketCount=function(){return e.ArrayTools.countNonzeroValuesInArray(this.buckets)},r.prototype.getTotalElementCount=function(){for(var a=0,i=0;i<this.buckets.length;i++)this.buckets[i]!==void 0&&(a+=this.buckets[i].length);return a},r}();e.CompressorSimpleHashTable=t})(_||(_={}));var _;(function(e){var t=function(){function r(){this.MaximumMatchDistance=32767,this.outputPosition=0}return r.prototype.decompressBlockToString=function(a){return a=e.BufferTools.convertToUint8ArrayIfNeeded(a),e.decodeUTF8(this.decompressBlock(a))},r.prototype.decompressBlock=function(a){this.inputBufferRemainder&&(a=e.ArrayTools.concatUint8Arrays([this.inputBufferRemainder,a]),this.inputBufferRemainder=void 0);for(var i=this.cropOutputBufferToWindowAndInitialize(Math.max(a.length*4,1024)),o=0,s=a.length;o<s;o++){var c=a[o];if(c>>>6!=3){this.outputByte(c);continue}var p=c>>>5;if(o==s-1||o==s-2&&p==7){this.inputBufferRemainder=a.subarray(o);break}if(a[o+1]>>>7===1)this.outputByte(c);else{var l=c&31,d=void 0;p==6?(d=a[o+1],o+=1):(d=a[o+1]<<8|a[o+2],o+=2);for(var u=this.outputPosition-d,f=0;f<l;f++)this.outputByte(this.outputBuffer[u+f])}}return this.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence(),e.CompressionCommon.getCroppedBuffer(this.outputBuffer,i,this.outputPosition-i)},r.prototype.outputByte=function(a){this.outputPosition===this.outputBuffer.length&&(this.outputBuffer=e.ArrayTools.doubleByteArrayCapacity(this.outputBuffer)),this.outputBuffer[this.outputPosition++]=a},r.prototype.cropOutputBufferToWindowAndInitialize=function(a){if(!this.outputBuffer)return this.outputBuffer=new Uint8Array(a),0;var i=Math.min(this.outputPosition,this.MaximumMatchDistance);if(this.outputBuffer=e.CompressionCommon.getCroppedBuffer(this.outputBuffer,this.outputPosition-i,i,a),this.outputPosition=i,this.outputBufferRemainder){for(var o=0;o<this.outputBufferRemainder.length;o++)this.outputByte(this.outputBufferRemainder[o]);this.outputBufferRemainder=void 0}return i},r.prototype.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence=function(){for(var a=1;a<=4&&this.outputPosition-a>=0;a++){var i=this.outputBuffer[this.outputPosition-a];if(a<4&&i>>>3===30||a<3&&i>>>4===14||a<2&&i>>>5===6){this.outputBufferRemainder=this.outputBuffer.subarray(this.outputPosition-a,this.outputPosition),this.outputPosition-=a;return}}},r}();e.Decompressor=t})(_||(_={}));var _;(function(e){var t;(function(r){var a;(function(i){var o=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47]),s=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,255,255,255,255]),c="=",p=61;i.encode=function(l){return!l||l.length==0?"":e.runningInNodeJS()?e.BufferTools.uint8ArrayToBuffer(l).toString("base64"):i.encodeWithJS(l)},i.decode=function(l){return l?e.runningInNodeJS()?e.BufferTools.bufferToUint8Array(new Buffer(l,"base64")):i.decodeWithJS(l):new Uint8Array(0)},i.encodeWithJS=function(l,d){if(d===void 0&&(d=!0),!l||l.length==0)return"";for(var u=o,f=new e.StringBuilder,v,m=0,h=l.length;m<h;m+=3)m<=h-3?(v=l[m]<<16|l[m+1]<<8|l[m+2],f.appendCharCode(u[v>>>18&63]),f.appendCharCode(u[v>>>12&63]),f.appendCharCode(u[v>>>6&63]),f.appendCharCode(u[v&63]),v=0):m===h-2?(v=l[m]<<16|l[m+1]<<8,f.appendCharCode(u[v>>>18&63]),f.appendCharCode(u[v>>>12&63]),f.appendCharCode(u[v>>>6&63]),d&&f.appendCharCode(p)):m===h-1&&(v=l[m]<<16,f.appendCharCode(u[v>>>18&63]),f.appendCharCode(u[v>>>12&63]),d&&(f.appendCharCode(p),f.appendCharCode(p)));return f.getOutputString()},i.decodeWithJS=function(l,d){if(!l||l.length==0)return new Uint8Array(0);var u=l.length%4;if(u===1)throw new Error("Invalid Base64 string: length % 4 == 1");u===2?l+=c+c:u===3&&(l+=c),d||(d=new Uint8Array(l.length));for(var f=0,v=l.length,m=0;m<v;m+=4){var h=s[l.charCodeAt(m)]<<18|s[l.charCodeAt(m+1)]<<12|s[l.charCodeAt(m+2)]<<6|s[l.charCodeAt(m+3)];d[f++]=h>>>16&255,d[f++]=h>>>8&255,d[f++]=h&255}return l.charCodeAt(v-1)==p&&f--,l.charCodeAt(v-2)==p&&f--,d.subarray(0,f)}})(a=r.Base64||(r.Base64={}))})(t=e.Encoding||(e.Encoding={}))})(_||(_={}));var _;(function(e){var t;(function(r){var a;(function(i){i.encode=function(o){if(o==null)throw new TypeError("BinaryString.encode: undefined or null input received");if(o.length===0)return"";for(var s=o.length,c=new e.StringBuilder,p=0,l=1,d=0;d<s;d+=2){var u=void 0;d==s-1?u=o[d]<<8:u=o[d]<<8|o[d+1],c.appendCharCode(p<<16-l|u>>>l),p=u&(1<<l)-1,l===15?(c.appendCharCode(p),p=0,l=1):l+=1,d>=s-2&&c.appendCharCode(p<<16-l)}return c.appendCharCode(32768|s%2),c.getOutputString()},i.decode=function(o){if(typeof o!="string")throw new TypeError("BinaryString.decode: invalid input type");if(o=="")return new Uint8Array(0);for(var s=new Uint8Array(o.length*3),c=0,p=function(v){s[c++]=v>>>8,s[c++]=v&255},l=0,d=0,u=0;u<o.length;u++){var f=o.charCodeAt(u);if(f>=32768){f==(32768|1)&&c--,d=0;continue}d==0?l=f:(p(l<<d|f>>>15-d),l=f&(1<<15-d)-1),d==15?d=0:d+=1}return s.subarray(0,c)}})(a=r.BinaryString||(r.BinaryString={}))})(t=e.Encoding||(e.Encoding={}))})(_||(_={}));var _;(function(e){var t;(function(r){var a;(function(i){i.encodeFromString=function(o,s){var c=o.charCodeAt(s);if(c<55296||c>56319)return c;var p=o.charCodeAt(s+1);if(p>=56320&&p<=57343)return 65536+((c-55296<<10)+(p-56320));throw new Error("getUnicodeCodePoint: Received a lead surrogate character, char code "+c+", followed by "+p+", which is not a trailing surrogate character code.")},i.decodeToString=function(o){if(o<=65535)return String.fromCharCode(o);if(o<=1114111)return String.fromCharCode(55296+(o-65536>>>10),56320+(o-65536&1023));throw new Error("getStringFromUnicodeCodePoint: A code point of "+o+" cannot be encoded in UTF-16")}})(a=r.CodePoint||(r.CodePoint={}))})(t=e.Encoding||(e.Encoding={}))})(_||(_={}));var _;(function(e){var t;(function(r){var a;(function(i){var o=["000","001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","017","018","019","020","021","022","023","024","025","026","027","028","029","030","031","032","033","034","035","036","037","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","053","054","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","093","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255"];i.encode=function(s){for(var c=[],p=0;p<s.length;p++)c.push(o[s[p]]);return c.join(" ")}})(a=r.DecimalString||(r.DecimalString={}))})(t=e.Encoding||(e.Encoding={}))})(_||(_={}));var _;(function(e){var t;(function(r){var a;(function(i){i.encode=function(o){return r.BinaryString.encode(o).replace(/\0/g,"\u8002")},i.decode=function(o){return r.BinaryString.decode(o.replace(/\u8002/g,"\0"))}})(a=r.StorageBinaryString||(r.StorageBinaryString={}))})(t=e.Encoding||(e.Encoding={}))})(_||(_={}));var _;(function(e){var t;(function(r){var a;(function(i){var o,s;i.encode=function(c){return!c||c.length==0?new Uint8Array(0):e.runningInNodeJS()?e.BufferTools.bufferToUint8Array(new Buffer(c,"utf8")):i.createNativeTextEncoderAndDecoderIfAvailable()?o.encode(c):i.encodeWithJS(c)},i.decode=function(c){return!c||c.length==0?"":e.runningInNodeJS()?e.BufferTools.uint8ArrayToBuffer(c).toString("utf8"):i.createNativeTextEncoderAndDecoderIfAvailable()?s.decode(c):i.decodeWithJS(c)},i.encodeWithJS=function(c,p){if(!c||c.length==0)return new Uint8Array(0);p||(p=new Uint8Array(c.length*4));for(var l=0,d=0;d<c.length;d++){var u=r.CodePoint.encodeFromString(c,d);if(u<=127)p[l++]=u;else if(u<=2047)p[l++]=192|u>>>6,p[l++]=128|u&63;else if(u<=65535)p[l++]=224|u>>>12,p[l++]=128|u>>>6&63,p[l++]=128|u&63;else if(u<=1114111)p[l++]=240|u>>>18,p[l++]=128|u>>>12&63,p[l++]=128|u>>>6&63,p[l++]=128|u&63,d++;else throw new Error("Invalid UTF-16 string: Encountered a character unsupported by UTF-8/16 (RFC 3629)")}return p.subarray(0,l)},i.decodeWithJS=function(c,p,l){if(p===void 0&&(p=0),!c||c.length==0)return"";l===void 0&&(l=c.length);for(var d=new e.StringBuilder,u,f,v=p,m=l;v<m;){if(f=c[v],f>>>7===0)u=f,v+=1;else if(f>>>5===6){if(v+1>=l)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+v);u=(f&31)<<6|c[v+1]&63,v+=2}else if(f>>>4===14){if(v+2>=l)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+v);u=(f&15)<<12|(c[v+1]&63)<<6|c[v+2]&63,v+=3}else if(f>>>3===30){if(v+3>=l)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+v);u=(f&7)<<18|(c[v+1]&63)<<12|(c[v+2]&63)<<6|c[v+3]&63,v+=4}else throw new Error("Invalid UTF-8 stream: An invalid lead byte value encountered at position "+v);d.appendCodePoint(u)}return d.getOutputString()},i.createNativeTextEncoderAndDecoderIfAvailable=function(){return o?!0:typeof TextEncoder=="function"?(o=new TextEncoder("utf-8"),s=new TextDecoder("utf-8"),!0):!1}})(a=r.UTF8||(r.UTF8={}))})(t=e.Encoding||(e.Encoding={}))})(_||(_={}));var _;(function(e){function t(h,y){if(y===void 0&&(y={}),h==null)throw new TypeError("compress: undefined or null input received");var E=e.CompressionCommon.detectCompressionSourceEncoding(h);y=e.ObjectTools.override({inputEncoding:E,outputEncoding:"ByteArray"},y);var x=new e.Compressor,b=x.compressBlock(h);return e.CompressionCommon.encodeCompressedBytes(b,y.outputEncoding)}e.compress=t;function r(h,y){if(y===void 0&&(y={}),h==null)throw new TypeError("decompress: undefined or null input received");y=e.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String"},y);var E=e.CompressionCommon.decodeCompressedBytes(h,y.inputEncoding),x=new e.Decompressor,b=x.decompressBlock(E);return e.CompressionCommon.encodeDecompressedBytes(b,y.outputEncoding)}e.decompress=r;function a(h,y,E){E==null&&(E=function(){});var x;try{x=e.CompressionCommon.detectCompressionSourceEncoding(h)}catch(b){E(void 0,b);return}y=e.ObjectTools.override({inputEncoding:x,outputEncoding:"ByteArray",useWebWorker:!0,blockSize:65536},y),e.enqueueImmediate(function(){y.useWebWorker&&e.WebWorker.createGlobalWorkerIfNeeded()?e.WebWorker.compressAsync(h,y,E):e.AsyncCompressor.compressAsync(h,y,E)})}e.compressAsync=a;function i(h,y,E){if(E==null&&(E=function(){}),h==null){E(void 0,new TypeError("decompressAsync: undefined or null input received"));return}y=e.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String",useWebWorker:!0,blockSize:65536},y);var x=e.BufferTools.convertToUint8ArrayIfNeeded(h);e.EventLoop.enqueueImmediate(function(){y.useWebWorker&&e.WebWorker.createGlobalWorkerIfNeeded()?e.WebWorker.decompressAsync(x,y,E):e.AsyncDecompressor.decompressAsync(h,y,E)})}e.decompressAsync=i;function o(){return e.AsyncCompressor.createCompressionStream()}e.createCompressionStream=o;function s(){return e.AsyncDecompressor.createDecompressionStream()}e.createDecompressionStream=s;function c(h){return e.Encoding.UTF8.encode(h)}e.encodeUTF8=c;function p(h){return e.Encoding.UTF8.decode(h)}e.decodeUTF8=p;function l(h){return e.Encoding.Base64.encode(h)}e.encodeBase64=l;function d(h){return e.Encoding.Base64.decode(h)}e.decodeBase64=d;function u(h){return e.Encoding.BinaryString.encode(h)}e.encodeBinaryString=u;function f(h){return e.Encoding.BinaryString.decode(h)}e.decodeBinaryString=f;function v(h){return e.Encoding.StorageBinaryString.encode(h)}e.encodeStorageBinaryString=v;function m(h){return e.Encoding.StorageBinaryString.decode(h)}e.decodeStorageBinaryString=m})(_||(_={}))}),na=Ue(($S,ta)=>{"use strict";var tt={};tt.enc=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u"];tt.dec=Object.fromEntries(tt.enc.map((e,t)=>[e.charCodeAt(0),t]));tt.enc=Object.fromEntries(tt.enc.map((e,t)=>[t,e]));ta.exports=tt}),ca=Ue((XS,ra)=>{"use strict";var aa=na(),NA=Math.pow(2,32)-1,CA=85*85*85*85,BA=85*85*85,DA=85*85,jA=85,MA=[9,10,11,12,13,32],Fn="<~",ia="~>";const Zt={bytes:"ByteArray",string:"String"};function Hn(e){const t=new TextEncoder;return t.encode(e)}function PA(e){const t=new TextDecoder;return t.decode(e)}function oa(e){for(var t=aa.enc,r=e.length%4===0?0:4-e.length%4,a="",i=0;i<e.length;i+=4){for(var o=(e[i]<<24>>>0)+((i+1>e.length?0:e[i+1])<<16>>>0)+((i+2>e.length?0:e[i+2])<<8>>>0)+((i+3>e.length?0:e[i+3])<<0>>>0),s=[],c=0;c<5;++c)s.unshift(t[o%85]),o=Math.floor(o/85);s=s.join(""),s==="!!!!!"&&(s="z"),a+=s}return Fn+a.substring(0,a.length-r)+ia}function sa(e){var t=aa.dec,r=e.length;r-=Fn.length+ia.length;for(var a=r%5===0?0:5-r%5,i=Fn.length,o=i+r,s=new Uint8Array(4*Math.ceil((o-i)/5)),c=function(u){if(u<o)for(;MA.indexOf(e[u])!==-1;)a=(a+1)%5,u++;return u},p=0,l=i;l<o;){var d=0;if(l=c(l),d=t[e[l]]*CA,l=c(l+1),d+=(l>=o?84:t[e[l]])*BA,l=c(l+1),d+=(l>=o?84:t[e[l]])*DA,l=c(l+1),d+=(l>=o?84:t[e[l]])*jA,l=c(l+1),d+=l>=o?84:t[e[l]],l=c(l+1),d>NA||d<0)return!1;s[p]=d>>>24,s[p+1]=d>>>16,s[p+2]=d>>>8,s[p+3]=d&255,p+=4}return s.slice(0,p-a)}ra.exports={encode:function(e,t=Zt.string){return typeof e=="string"&&(e=Hn(e)),t===Zt.bytes?Hn(oa(e)):oa(e)},decode:function(e,t=Zt.bytes){return typeof e=="string"&&(e=Hn(e.replace("z","!!!!!"))),t===Zt.string?PA(sa(e)):sa(e)}}}),da=Ue(UA=>{ba(UA,{BaseAdapter:()=>ie,BaseOverlay:()=>an,FILE_SYSTEM_CHANGES:()=>Ee,FileSystemOverlay:()=>pa,IndexedDBAdapter:()=>et,LocalStorageAdapter:()=>Vn,MemoryAdapter:()=>st,SessionStorageAdapter:()=>Gn,StorageRegistry:()=>ua,WebStorageAdapter:()=>Ce,basename:()=>tr,can_watch:()=>on,compress:()=>He,create_url_object:()=>ke,decode_safe:()=>en,decode_utf8:()=>tn,decompress:()=>Ae,delimiter:()=>er,dirname:()=>at,encode_safe:()=>nn,encode_utf8:()=>rn,extname:()=>Nt,filter_query:()=>Fe,get_mime_type:()=>Se,hook_watcher:()=>Ie,join:()=>de,make_glob:()=>pe,normalize:()=>X,relative:()=>nr,resolve:()=>rr,sep:()=>Be})});const ge="application/octet-stream";var Z;(function(e){e.bytes="MODE_BYTES",e.text="MODE_TEXT"})(Z||(Z={}));var q;(function(e){e.attached="CHANGE_ATTACHED",e.created="CHANGE_CREATED",e.updated="CHANGE_UPDATED",e.removed="CHANGE_REMOVED"})(q||(q={}));var P;(function(e){e.directory="NODE_DIRECTORY",e.file="NODE_FILE",e.undefined="NODE_UNDEFINED"})(P||(P={}));function J(e){const t=[];let r;const a=o=>{if(t.length>0)for(let s=0;s<t.length;s++){const[c]=t[s];c(o)}},i=o=>{const s=[o];return t.push(s),e&&t.length===1&&(r=e(a)),()=>{const c=t.indexOf(s);c>0&&(t.splice(c,1),r&&t.length==0&&(r(),r=null))}};return{dispatch:a,subscribe:i}}const $n=Ot(Yn());function pe(e){return $n.default(e,{extended:!0,globstar:!0})}const $=Ot(Zn()),Ea=/[\/]*$/,er=$.delimiter,Be=$.sep,tr=$.basename,Nt=$.extname,de=$.join,nr=$.relative,rr=$.resolve;function at(e){return e=$.dirname(e),e==="."?Be:e}function X(e){return e=$.normalize(e),e==="."||e===Be?Be:(e.slice(0,1)!==Be&&(e=Be+e),e.replace(Ea,""))}function _a(e={}){const{namespace:t="default"}=e;return{...e,namespace:t}}function ke(e,t){e instanceof Uint8Array&&(t||(t=ge),e=new Blob([e],{type:t}));const r=URL.createObjectURL(e);return{url:r,destroy:async()=>URL.revokeObjectURL(r)}}function on(e,t={}){const{change:r,glob:a,inclusive:i=!1,path:o="/",recursive:s=!1,regex:c,type:p}=t;if(p){if(typeof p=="string"){if(e.type!==p)return!1}else if(!p.includes(e.type))return!1}if(r){if(typeof r=="string"){if(r!==e.change)return!1}else if(!r.includes(e.change))return!1}if(a){const l=pe(X(a));return l.test(e.path)}else{if(c)return c.test(e.path);if(i){const l=s?de(o,"**"):de(o,"*"),d=pe(X(l));return d.test(e.path)}return e.path===X(o)}}function Fe(e,t={}){const{path:r={},type:a}=t;if(a&&(typeof a=="string"?e=e.filter(i=>i.type===a):e=e.filter(i=>a.includes(i.type))),r.glob){const i=pe(X(r.glob));e=e.filter(o=>i.test(o.path))}else if(r.regex){const{regex:i}=r;e=e.filter(o=>i.test(o.path))}else{let{path:i="/"}=r;i=r.recursive?de(i,"**"):de(i,"*");const o=pe(X(i));e=e.filter(s=>o.test(s.path))}return e}function Ie(e,t={}){return J(r=>{const a=e.subscribe(i=>{on(i,t)&&r(i)});return()=>a()})}class ie{constructor(e={}){this.EVENT_MOUNTED=J();this.EVENT_UNMOUNTED=J();this.options=_a(e)}normalize(e){return X(e)}async create_url_object(e){throw new Error("bad dispatch to 'create_url_object' (not implemented)")}async get(e){throw new Error("bad dispatch to 'get' (not implemented)")}async put(e,t=P.undefined,r){throw new Error("bad dispatch to 'put' (not implemented)")}async query(e={}){throw new Error("bad dispatch to 'query' (not implemented)")}async read(e){throw new Error("bad dispatch to 'get_stats' (not implemented)")}async reload(){throw new Error("bad dispatch to 'reload' (not implemented)")}async remove(e){throw new Error("bad dispatch to 'remove' (not implemented)")}async watch(e={}){throw new Error("bad dispatch to 'watch' (not implemented)")}async write(e,t){throw new Error("bad dispatch to 'put_payload' (not implemented)")}is_mounted(){throw new Error("bad dispatch to 'is_mounted' (not implemented)")}async mount(){throw new Error("bad dispatch to 'mount' (not implemented)")}async unmount(){throw new Error("bad dispatch to 'unmount' (not implemented)")}}ie.can_hotlink=!1,ie.can_watch=!1,ie.can_watch_reload=!1,ie.is_available=!1,ie.is_readonly=!1,ie.requires_mount=!1;const ot=Ot(ir());function He(e,t={}){const{mode:r=Z.bytes}=t;switch(r){case Z.bytes:return ot.compress(e,{outputEncoding:"ByteArray"});default:throw new Error(`bad option 'options.mode' to 'compress' (encoding mode '${r}' not available)`)}}function Ae(e,t={}){const{mode:r=Z.bytes}=t;switch(r){case Z.bytes:return ot.decompress(e,{outputEncoding:"ByteArray"});case Z.text:return ot.decompress(e,{outputEncoding:"String"});default:throw new Error(`bad option 'options.mode' to 'decompress' (encoding mode '${r}' not available)`)}}function ye(){return Date.now()}class Ct extends Map{constructor(){super(...arguments);this.clone=e=>{throw new Error("bad dispatch to 'clone' (not implemented)")}}entries(){const{clone:e}=this;let t=Array.from(super.entries());return t=t.map(([r,a],i)=>[r,e(a)]),t[Symbol.iterator]()}forEach(e,t){for(const r of this){const[a,i]=r;e.call(t,this.clone(i),a,this)}}get(e){const t=super.get(e);if(t!==void 0)return this.clone(t)}set(e,t){return t=this.clone(t),super.set(e,t),this}values(){let e=Array.from(super.values());return e=e.map((t,r)=>this.clone(t)),e[Symbol.iterator]()}}var ka="application/vnd.lotus-1-2-3",Ia="application/andrew-inset",Aa="application/applixware",Sa="application/atom+xml",Ta="application/atomcat+xml",Ra="application/atomdeleted+xml",Oa="application/atomsvc+xml",Na="application/atsc-dwd+xml",Ca="application/atsc-held+xml",Ba="application/atsc-rsat+xml",Da="application/bdoc",ja="application/calendar+xml",Ma="application/ccxml+xml",Pa="application/cdfx+xml",za="application/cdmi-capability",Wa="application/cdmi-container",qa="application/cdmi-domain",Ua="application/cdmi-object",Ka="application/cdmi-queue",Fa="application/cu-seeme",Ha="application/dash+xml",Va="application/davmount+xml",Ga="application/docbook+xml",Ja="application/dssc+der",Qa="application/dssc+xml",Ya="application/ecmascript",$a="application/ecmascript",Xa="application/emma+xml",La="application/emotionml+xml",Za="application/epub+zip",ei="application/exi",ti="application/fdt+xml",ni="application/font-tdpfr",ri="application/geo+json",ai="application/gml+xml",ii="application/gpx+xml",oi="application/gxf",si="application/gzip",ci="application/hjson",li="application/hyperstudio",pi="application/inkml+xml",ui="application/inkml+xml",di="application/ipfix",fi="application/its+xml",hi="application/java-archive",mi="application/java-archive",vi="application/java-archive",gi="application/java-serialized-object",yi="application/java-vm",bi="application/javascript",wi="application/javascript",xi="application/json",Ei="application/json",_i="application/json5",ki="application/jsonml+json",Ii="application/ld+json",Ai="application/lgr+xml",Si="application/lost+xml",Ti="application/mac-binhex40",Ri="application/mac-compactpro",Oi="application/mads+xml",Ni="application/manifest+json",Ci="application/marc",Bi="application/marcxml+xml",Di="application/mathematica",ji="application/mathematica",Mi="application/mathematica",Pi="application/mathml+xml",zi="application/mbox",Wi="application/mediaservercontrol+xml",qi="application/metalink+xml",Ui="application/metalink4+xml",Ki="application/mets+xml",Fi="application/mmt-aei+xml",Hi="application/mmt-usd+xml",Vi="application/mods+xml",Gi="application/mp21",Ji="application/mp21",Qi="application/mp4",Yi="application/mp4",$i="application/mrb-consumer+xml",Xi="application/msword",Li="application/msword",Zi="application/mxf",eo="application/n-quads",to="application/n-triples",no="application/node",ro="application/octet-stream",ao="application/octet-stream",io="application/octet-stream",oo="application/octet-stream",so="application/octet-stream",co="application/octet-stream",lo="application/octet-stream",po="application/octet-stream",uo="application/octet-stream",fo="application/octet-stream",ho="application/octet-stream",mo="application/octet-stream",vo="application/x-msdos-program",go="application/x-msdownload",yo="application/x-debian-package",bo="application/x-apple-diskimage",wo="application/x-iso9660-image",xo="application/octet-stream",Eo="application/x-msdownload",_o="application/octet-stream",ko="application/octet-stream",Io="application/octet-stream",Ao="application/oda",So="application/oebps-package+xml",To="application/ogg",Ro="application/omdoc+xml",Oo="application/onenote",No="application/onenote",Co="application/onenote",Bo="application/onenote",Do="application/oxps",jo="application/p2p-overlay+xml",Mo="application/patch-ops-error+xml",Po="application/pdf",zo="application/pgp-encrypted",Wo="application/pgp-signature",qo="application/pgp-signature",Uo="application/pics-rules",Ko="application/pkcs10",Fo="application/pkcs7-mime",Ho="application/pkcs7-mime",Vo="application/pkcs7-signature",Go="application/pkcs8",Jo="application/pkix-attr-cert",Qo="application/pkix-cert",Yo="application/pkix-crl",$o="application/pkix-pkipath",Xo="application/pkixcmp",Lo="application/pls+xml",Zo="application/postscript",es="application/postscript",ts="application/postscript",ns="application/provenance+xml",rs="application/prs.cww",as="application/pskc+xml",is="application/raml+yaml",os="application/rdf+xml",ss="application/rdf+xml",cs="application/reginfo+xml",ls="application/relax-ng-compact-syntax",ps="application/resource-lists+xml",us="application/resource-lists-diff+xml",ds="application/rls-services+xml",fs="application/route-apd+xml",hs="application/route-s-tsid+xml",ms="application/route-usd+xml",vs="application/rpki-ghostbusters",gs="application/rpki-manifest",ys="application/rpki-roa",bs="application/rsd+xml",ws="application/rss+xml",xs="application/rtf",Es="application/sbml+xml",_s="application/scvp-cv-request",ks="application/scvp-cv-response",Is="application/scvp-vp-request",As="application/scvp-vp-response",Ss="application/sdp",Ts="application/senml+xml",Rs="application/sensml+xml",Os="application/set-payment-initiation",Ns="application/set-registration-initiation",Cs="application/shf+xml",Bs="application/sieve",Ds="application/sieve",js="application/smil+xml",Ms="application/smil+xml",Ps="application/sparql-query",zs="application/sparql-results+xml",Ws="application/srgs",qs="application/srgs+xml",Us="application/sru+xml",Ks="application/ssdl+xml",Fs="application/ssml+xml",Hs="application/swid+xml",Vs="application/tei+xml",Gs="application/tei+xml",Js="application/thraud+xml",Qs="application/timestamped-data",Ys="application/toml",$s="application/ttml+xml",Xs="application/urc-ressheet+xml",Ls="application/vnd.1000minds.decision-model+xml",Zs="application/vnd.3gpp.pic-bw-large",ec="application/vnd.3gpp.pic-bw-small",tc="application/vnd.3gpp.pic-bw-var",nc="application/vnd.3gpp2.tcap",rc="application/vnd.3m.post-it-notes",ac="application/vnd.accpac.simply.aso",ic="application/vnd.accpac.simply.imp",oc="application/vnd.acucobol",sc="application/vnd.acucorp",cc="application/vnd.acucorp",lc="application/vnd.adobe.air-application-installer-package+zip",pc="application/vnd.adobe.formscentral.fcdt",uc="application/vnd.adobe.fxp",dc="application/vnd.adobe.fxp",fc="application/vnd.adobe.xdp+xml",hc="application/vnd.adobe.xfdf",mc="application/vnd.ahead.space",vc="application/vnd.airzip.filesecure.azf",gc="application/vnd.airzip.filesecure.azs",yc="application/vnd.amazon.ebook",bc="application/vnd.americandynamics.acc",wc="application/vnd.amiga.ami",xc="application/vnd.android.package-archive",Ec="application/vnd.anser-web-certificate-issue-initiation",_c="application/vnd.anser-web-funds-transfer-initiation",kc="application/vnd.antix.game-component",Ic="application/vnd.apple.installer+xml",Ac="application/vnd.apple.keynote",Sc="application/vnd.apple.mpegurl",Tc="application/vnd.apple.numbers",Rc="application/vnd.apple.pages",Oc="application/vnd.apple.pkpass",Nc="application/vnd.aristanetworks.swi",Cc="application/vnd.astraea-software.iota",Bc="application/vnd.audiograph",Dc="application/vnd.balsamiq.bmml+xml",jc="application/vnd.blueice.multipass",Mc="application/vnd.bmi",Pc="application/vnd.businessobjects",zc="application/vnd.chemdraw+xml",Wc="application/vnd.chipnuts.karaoke-mmd",qc="application/vnd.cinderella",Uc="application/vnd.citationstyles.style+xml",Kc="application/vnd.claymore",Fc="application/vnd.cloanto.rp9",Hc="application/vnd.clonk.c4group",Vc="application/vnd.clonk.c4group",Gc="application/vnd.clonk.c4group",Jc="application/vnd.clonk.c4group",Qc="application/vnd.clonk.c4group",Yc="application/vnd.cluetrust.cartomobile-config",$c="application/vnd.cluetrust.cartomobile-config-pkg",Xc="application/vnd.commonspace",Lc="application/vnd.contact.cmsg",Zc="application/vnd.cosmocaller",el="application/vnd.crick.clicker",tl="application/vnd.crick.clicker.keyboard",nl="application/vnd.crick.clicker.palette",rl="application/vnd.crick.clicker.template",al="application/vnd.crick.clicker.wordbank",il="application/vnd.criticaltools.wbs+xml",ol="application/vnd.ctc-posml",sl="application/vnd.cups-ppd",cl="application/vnd.curl.car",ll="application/vnd.curl.pcurl",pl="application/vnd.dart",ul="application/vnd.data-vision.rdz",dl="application/vnd.dece.data",fl="application/vnd.dece.data",hl="application/vnd.dece.data",ml="application/vnd.dece.data",vl="application/vnd.dece.ttml+xml",gl="application/vnd.dece.ttml+xml",yl="application/vnd.dece.unspecified",bl="application/vnd.dece.unspecified",wl="application/vnd.dece.zip",xl="application/vnd.dece.zip",El="application/vnd.denovo.fcselayout-link",_l="application/vnd.dna",kl="application/vnd.dolby.mlp",Il="application/vnd.dpgraph",Al="application/vnd.dreamfactory",Sl="application/vnd.ds-keypoint",Tl="application/vnd.dvb.ait",Rl="application/vnd.dvb.service",Ol="application/vnd.dynageo",Nl="application/vnd.ecowin.chart",Cl="application/vnd.enliven",Bl="application/vnd.epson.esf",Dl="application/vnd.epson.msf",jl="application/vnd.epson.quickanime",Ml="application/vnd.epson.salt",Pl="application/vnd.epson.ssf",zl="application/vnd.eszigno3+xml",Wl="application/vnd.eszigno3+xml",ql="application/vnd.ezpix-album",Ul="application/vnd.ezpix-package",Kl="application/vnd.fdf",Fl="application/vnd.fdsn.mseed",Hl="application/vnd.fdsn.seed",Vl="application/vnd.fdsn.seed",Gl="application/vnd.flographit",Jl="application/vnd.fluxtime.clip",Ql="application/vnd.framemaker",Yl="application/vnd.framemaker",$l="application/vnd.framemaker",Xl="application/vnd.framemaker",Ll="application/vnd.frogans.fnc",Zl="application/vnd.frogans.ltf",ep="application/vnd.fsc.weblaunch",tp="application/vnd.fujitsu.oasys",np="application/vnd.fujitsu.oasys2",rp="application/vnd.fujitsu.oasys3",ap="application/vnd.fujitsu.oasysgp",ip="application/vnd.fujitsu.oasysprs",op="application/vnd.fujixerox.ddd",sp="application/vnd.fujixerox.docuworks",cp="application/vnd.fujixerox.docuworks.binder",lp="application/vnd.fuzzysheet",pp="application/vnd.genomatix.tuxedo",up="application/vnd.geogebra.file",dp="application/vnd.geogebra.tool",fp="application/vnd.geometry-explorer",hp="application/vnd.geometry-explorer",mp="application/vnd.geonext",vp="application/vnd.geoplan",gp="application/vnd.geospace",yp="application/vnd.gmx",bp="application/vnd.google-apps.document",wp="application/vnd.google-apps.presentation",xp="application/vnd.google-apps.spreadsheet",Ep="application/vnd.google-earth.kml+xml",_p="application/vnd.google-earth.kmz",kp="application/vnd.grafeq",Ip="application/vnd.grafeq",Ap="application/vnd.groove-account",Sp="application/vnd.groove-help",Tp="application/vnd.groove-identity-message",Rp="application/vnd.groove-injector",Op="application/vnd.groove-tool-message",Np="application/vnd.groove-tool-template",Cp="application/vnd.groove-vcard",Bp="application/vnd.hal+xml",Dp="application/vnd.handheld-entertainment+xml",jp="application/vnd.hbci",Mp="application/vnd.hhe.lesson-player",Pp="application/vnd.hp-hpgl",zp="application/vnd.hp-hpid",Wp="application/vnd.hp-hps",qp="application/vnd.hp-jlyt",Up="application/vnd.hp-pcl",Kp="application/vnd.hp-pclxl",Fp="application/vnd.hydrostatix.sof-data",Hp="application/vnd.ibm.minipay",Vp="application/vnd.ibm.modcap",Gp="application/vnd.ibm.modcap",Jp="application/vnd.ibm.modcap",Qp="application/vnd.ibm.rights-management",Yp="application/vnd.ibm.secure-container",$p="application/vnd.iccprofile",Xp="application/vnd.iccprofile",Lp="application/vnd.igloader",Zp="application/vnd.immervision-ivp",eu="application/vnd.immervision-ivu",tu="application/vnd.insors.igm",nu="application/vnd.intercon.formnet",ru="application/vnd.intercon.formnet",au="application/vnd.intergeo",iu="application/vnd.intu.qbo",ou="application/vnd.intu.qfx",su="application/vnd.ipunplugged.rcprofile",cu="application/vnd.irepository.package+xml",lu="application/vnd.is-xpr",pu="application/vnd.isac.fcs",uu="application/vnd.jam",du="application/vnd.jcp.javame.midlet-rms",fu="application/vnd.jisp",hu="application/vnd.joost.joda-archive",mu="application/vnd.kahootz",vu="application/vnd.kahootz",gu="application/vnd.kde.karbon",yu="application/vnd.kde.kchart",bu="application/vnd.kde.kformula",wu="application/vnd.kde.kivio",xu="application/vnd.kde.kontour",Eu="application/vnd.kde.kpresenter",_u="application/vnd.kde.kpresenter",ku="application/vnd.kde.kspread",Iu="application/vnd.kde.kword",Au="application/vnd.kde.kword",Su="application/vnd.kenameaapp",Tu="application/vnd.kidspiration",Ru="application/vnd.kinar",Ou="application/vnd.kinar",Nu="application/vnd.koan",Cu="application/vnd.koan",Bu="application/vnd.koan",Du="application/vnd.koan",ju="application/vnd.kodak-descriptor",Mu="application/vnd.las.las+xml",Pu="application/vnd.llamagraphics.life-balance.desktop",zu="application/vnd.llamagraphics.life-balance.exchange+xml",Wu="application/vnd.lotus-approach",qu="application/vnd.lotus-freelance",Uu="application/vnd.lotus-notes",Ku="application/vnd.lotus-organizer",Fu="application/vnd.lotus-screencam",Hu="application/vnd.lotus-wordpro",Vu="application/vnd.macports.portpkg",Gu="application/vnd.mcd",Ju="application/vnd.medcalcdata",Qu="application/vnd.mediastation.cdkey",Yu="application/vnd.mfer",$u="application/vnd.mfmp",Xu="application/vnd.micrografx.flo",Lu="application/vnd.micrografx.igx",Zu="application/vnd.mif",ed="application/vnd.mobius.daf",td="application/vnd.mobius.dis",nd="application/vnd.mobius.mbk",rd="application/vnd.mobius.mqy",ad="application/vnd.mobius.msl",id="application/vnd.mobius.plc",od="application/vnd.mobius.txf",sd="application/vnd.mophun.application",cd="application/vnd.mophun.certificate",ld="application/vnd.mozilla.xul+xml",pd="application/vnd.ms-artgalry",ud="application/vnd.ms-cab-compressed",dd="application/vnd.ms-excel",fd="application/vnd.ms-excel",hd="application/vnd.ms-excel",md="application/vnd.ms-excel",vd="application/vnd.ms-excel",gd="application/vnd.ms-excel",yd="application/vnd.ms-excel.addin.macroenabled.12",bd="application/vnd.ms-excel.sheet.binary.macroenabled.12",wd="application/vnd.ms-excel.sheet.macroenabled.12",xd="application/vnd.ms-excel.template.macroenabled.12",Ed="application/vnd.ms-fontobject",_d="application/vnd.ms-htmlhelp",kd="application/vnd.ms-ims",Id="application/vnd.ms-lrm",Ad="application/vnd.ms-officetheme",Sd="application/vnd.ms-outlook",Td="application/vnd.ms-pki.seccat",Rd="model/stl",Od="application/vnd.ms-powerpoint",Nd="application/vnd.ms-powerpoint",Cd="application/vnd.ms-powerpoint",Bd="application/vnd.ms-powerpoint.addin.macroenabled.12",Dd="application/vnd.ms-powerpoint.presentation.macroenabled.12",jd="application/vnd.ms-powerpoint.slide.macroenabled.12",Md="application/vnd.ms-powerpoint.slideshow.macroenabled.12",Pd="application/vnd.ms-powerpoint.template.macroenabled.12",zd="application/vnd.ms-project",Wd="application/vnd.ms-project",qd="application/vnd.ms-word.document.macroenabled.12",Ud="application/vnd.ms-word.template.macroenabled.12",Kd="application/vnd.ms-works",Fd="application/vnd.ms-works",Hd="application/vnd.ms-works",Vd="application/vnd.ms-works",Gd="application/vnd.ms-wpl",Jd="application/vnd.ms-xpsdocument",Qd="application/vnd.mseq",Yd="application/vnd.musician",$d="application/vnd.muvee.style",Xd="application/vnd.mynfc",Ld="application/vnd.neurolanguage.nlu",Zd="application/vnd.nitf",ef="application/vnd.nitf",tf="application/vnd.noblenet-directory",nf="application/vnd.noblenet-sealer",rf="application/vnd.noblenet-web",af="application/vnd.nokia.n-gage.data",of="application/vnd.nokia.n-gage.symbian.install",sf="application/vnd.nokia.radio-preset",cf="application/vnd.nokia.radio-presets",lf="application/vnd.novadigm.edm",pf="application/vnd.novadigm.edx",uf="application/vnd.novadigm.ext",df="application/vnd.oasis.opendocument.chart",ff="application/vnd.oasis.opendocument.chart-template",hf="application/vnd.oasis.opendocument.database",mf="application/vnd.oasis.opendocument.formula",vf="application/vnd.oasis.opendocument.formula-template",gf="application/vnd.oasis.opendocument.graphics",yf="application/vnd.oasis.opendocument.graphics-template",bf="application/vnd.oasis.opendocument.image",wf="application/vnd.oasis.opendocument.image-template",xf="application/vnd.oasis.opendocument.presentation",Ef="application/vnd.oasis.opendocument.presentation-template",_f="application/vnd.oasis.opendocument.spreadsheet",kf="application/vnd.oasis.opendocument.spreadsheet-template",If="application/vnd.oasis.opendocument.text",Af="application/vnd.oasis.opendocument.text-master",Sf="application/vnd.oasis.opendocument.text-template",Tf="application/vnd.oasis.opendocument.text-web",Rf="application/vnd.olpc-sugar",Of="application/vnd.oma.dd2+xml",Nf="application/vnd.openblox.game+xml",Cf="application/vnd.openofficeorg.extension",Bf="application/vnd.openstreetmap.data+xml",Df="application/vnd.openxmlformats-officedocument.presentationml.presentation",jf="application/vnd.openxmlformats-officedocument.presentationml.slide",Mf="application/vnd.openxmlformats-officedocument.presentationml.slideshow",Pf="application/vnd.openxmlformats-officedocument.presentationml.template",zf="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",Wf="application/vnd.openxmlformats-officedocument.spreadsheetml.template",qf="application/vnd.openxmlformats-officedocument.wordprocessingml.document",Uf="application/vnd.openxmlformats-officedocument.wordprocessingml.template",Kf="application/vnd.osgeo.mapguide.package",Ff="application/vnd.osgi.dp",Hf="application/vnd.osgi.subsystem",Vf="application/vnd.palm",Gf="application/vnd.palm",Jf="application/vnd.palm",Qf="application/vnd.pawaafile",Yf="application/vnd.pg.format",$f="application/vnd.pg.osasli",Xf="application/vnd.picsel",Lf="application/vnd.pmi.widget",Zf="application/vnd.pocketlearn",eh="application/vnd.powerbuilder6",th="application/vnd.previewsystems.box",nh="application/vnd.proteus.magazine",rh="application/vnd.publishare-delta-tree",ah="application/vnd.pvi.ptid1",ih="application/vnd.quark.quarkxpress",oh="application/vnd.quark.quarkxpress",sh="application/vnd.quark.quarkxpress",ch="application/vnd.quark.quarkxpress",lh="application/vnd.quark.quarkxpress",ph="application/vnd.quark.quarkxpress",uh="application/vnd.realvnc.bed",dh="application/vnd.recordare.musicxml",fh="application/vnd.recordare.musicxml+xml",hh="application/vnd.rig.cryptonote",mh="application/vnd.rim.cod",vh="application/vnd.rn-realmedia",gh="application/vnd.rn-realmedia-vbr",yh="application/vnd.route66.link66+xml",bh="application/vnd.sailingtracker.track",wh="application/vnd.seemail",xh="application/vnd.sema",Eh="application/vnd.semd",_h="application/vnd.semf",kh="application/vnd.shana.informed.formdata",Ih="application/vnd.shana.informed.formtemplate",Ah="application/vnd.shana.informed.interchange",Sh="application/vnd.shana.informed.package",Th="application/vnd.simtech-mindmapper",Rh="application/vnd.simtech-mindmapper",Oh="application/vnd.smaf",Nh="application/vnd.smart.teacher",Ch="application/vnd.software602.filler.form+xml",Bh="application/vnd.solent.sdkm+xml",Dh="application/vnd.solent.sdkm+xml",jh="application/vnd.spotfire.dxp",Mh="application/vnd.spotfire.sfs",Ph="application/vnd.stardivision.calc",zh="application/vnd.stardivision.draw",Wh="application/vnd.stardivision.impress",qh="application/vnd.stardivision.math",Uh="application/vnd.stardivision.writer",Kh="application/vnd.stardivision.writer",Fh="application/vnd.stardivision.writer-global",Hh="application/vnd.stepmania.package",Vh="application/vnd.stepmania.stepchart",Gh="application/vnd.sun.wadl+xml",Jh="application/vnd.sun.xml.calc",Qh="application/vnd.sun.xml.calc.template",Yh="application/vnd.sun.xml.draw",$h="application/vnd.sun.xml.draw.template",Xh="application/vnd.sun.xml.impress",Lh="application/vnd.sun.xml.impress.template",Zh="application/vnd.sun.xml.math",em="application/vnd.sun.xml.writer",tm="application/vnd.sun.xml.writer.global",nm="application/vnd.sun.xml.writer.template",rm="application/vnd.sus-calendar",am="application/vnd.sus-calendar",im="application/vnd.svd",om="application/vnd.symbian.install",sm="application/vnd.symbian.install",cm="application/vnd.syncml+xml",lm="application/vnd.syncml.dm+wbxml",pm="application/vnd.syncml.dm+xml",um="application/vnd.syncml.dmddf+xml",dm="application/vnd.tao.intent-module-archive",fm="application/vnd.tcpdump.pcap",hm="application/vnd.tcpdump.pcap",mm="application/vnd.tcpdump.pcap",vm="application/vnd.tmobile-livetv",gm="application/vnd.trid.tpt",ym="application/vnd.triscape.mxs",bm="application/vnd.trueapp",wm="application/vnd.ufdl",xm="application/vnd.ufdl",Em="application/vnd.uiq.theme",_m="application/vnd.umajin",km="application/vnd.unity",Im="application/vnd.uoml+xml",Am="application/vnd.vcx",Sm="application/vnd.visio",Tm="application/vnd.visio",Rm="application/vnd.visio",Om="application/vnd.visio",Nm="application/vnd.visionary",Cm="application/vnd.vsf",Bm="application/vnd.wap.wbxml",Dm="application/vnd.wap.wmlc",jm="application/vnd.wap.wmlscriptc",Mm="application/vnd.webturbo",Pm="application/vnd.wolfram.player",zm="application/vnd.wordperfect",Wm="application/vnd.wqd",qm="application/vnd.wt.stf",Um="application/vnd.xara",Km="application/vnd.xfdl",Fm="application/vnd.yamaha.hv-dic",Hm="application/vnd.yamaha.hv-script",Vm="application/vnd.yamaha.hv-voice",Gm="application/vnd.yamaha.openscoreformat",Jm="application/vnd.yamaha.openscoreformat.osfpvg+xml",Qm="application/vnd.yamaha.smaf-audio",Ym="application/vnd.yamaha.smaf-phrase",$m="application/vnd.yellowriver-custom-menu",Xm="application/vnd.zul",Lm="application/vnd.zul",Zm="application/vnd.zzazz.deck+xml",ev="application/voicexml+xml",tv="application/wasm",nv="application/widget",rv="application/winhlp",av="application/wsdl+xml",iv="application/wspolicy+xml",ov="application/x-7z-compressed",sv="application/x-abiword",cv="application/x-ace-compressed",lv="application/x-arj",pv="application/x-authorware-bin",uv="application/x-authorware-bin",dv="application/x-authorware-bin",fv="application/x-authorware-bin",hv="application/x-authorware-map",mv="application/x-authorware-seg",vv="application/x-bcpio",gv="application/x-bittorrent",yv="application/x-blorb",bv="application/x-blorb",wv="application/x-bzip",xv="application/x-bzip2",Ev="application/x-bzip2",_v="application/x-cbr",kv="application/x-cbr",Iv="application/x-cbr",Av="application/x-cbr",Sv="application/x-cbr",Tv="application/x-cdlink",Rv="application/x-cfs-compressed",Ov="application/x-chat",Nv="application/x-chess-pgn",Cv="application/x-chrome-extension",Bv="application/x-cocoa",Dv="application/x-conference",jv="application/x-cpio",Mv="application/x-csh",Pv="application/x-debian-package",zv="application/x-dgc-compressed",Wv="application/x-director",qv="application/x-director",Uv="application/x-director",Kv="application/x-director",Fv="application/x-director",Hv="application/x-director",Vv="application/x-director",Gv="application/x-director",Jv="application/x-director",Qv="application/x-doom",Yv="application/x-dtbncx+xml",$v="application/x-dtbook+xml",Xv="application/x-dtbresource+xml",Lv="application/x-dvi",Zv="application/x-envoy",eg="application/x-eva",tg="application/x-font-bdf",ng="application/x-font-ghostscript",rg="application/x-font-linux-psf",ag="application/x-font-pcf",ig="application/x-font-snf",og="application/x-font-type1",sg="application/x-font-type1",cg="application/x-font-type1",lg="application/x-font-type1",pg="application/x-freearc",ug="application/x-futuresplash",dg="application/x-gca-compressed",fg="application/x-glulx",hg="application/x-gnumeric",mg="application/x-gramps-xml",vg="application/x-gtar",gg="application/x-hdf",yg="application/x-httpd-php",bg="application/x-install-instructions",wg="application/x-java-archive-diff",xg="application/x-java-jnlp-file",Eg="application/x-keepass2",_g="application/x-latex",kg="application/x-lua-bytecode",Ig="application/x-lzh-compressed",Ag="application/x-lzh-compressed",Sg="application/x-makeself",Tg="application/x-mie",Rg="application/x-mobipocket-ebook",Og="application/x-mobipocket-ebook",Ng="application/x-ms-application",Cg="application/x-ms-shortcut",Bg="application/x-ms-wmd",Dg="application/x-ms-wmz",jg="application/x-ms-xbap",Mg="application/x-msaccess",Pg="application/x-msbinder",zg="application/x-mscardfile",Wg="application/x-msclip",qg="application/x-msdownload",Ug="application/x-msdownload",Kg="application/x-msmediaview",Fg="application/x-msmediaview",Hg="application/x-msmediaview",Vg="image/wmf",Gg="image/emf",Jg="application/x-msmetafile",Qg="application/x-msmoney",Yg="application/x-mspublisher",$g="application/x-msschedule",Xg="application/x-msterminal",Lg="application/x-mswrite",Zg="application/x-netcdf",ey="application/x-netcdf",ty="application/x-ns-proxy-autoconfig",ny="application/x-nzb",ry="application/x-perl",ay="application/x-perl",iy="application/x-pkcs12",oy="application/x-pkcs12",sy="application/x-pkcs7-certificates",cy="application/x-pkcs7-certificates",ly="application/x-pkcs7-certreqresp",py="application/x-rar-compressed",uy="application/x-redhat-package-manager",dy="application/x-research-info-systems",fy="application/x-sea",hy="application/x-sh",my="application/x-shar",vy="application/x-shockwave-flash",gy="application/x-silverlight-app",yy="application/x-sql",by="application/x-stuffit",wy="application/x-stuffitx",xy="application/x-subrip",Ey="application/x-sv4cpio",_y="application/x-sv4crc",ky="application/x-t3vm-image",Iy="application/x-tads",Ay="application/x-tar",Sy="application/x-tcl",Ty="application/x-tcl",Ry="application/x-tex",Oy="application/x-tex-tfm",Ny="application/x-texinfo",Cy="application/x-texinfo",By="model/obj",Dy="application/x-ustar",jy="application/x-virtualbox-hdd",My="application/x-virtualbox-ova",Py="application/x-virtualbox-ovf",zy="application/x-virtualbox-vbox",Wy="application/x-virtualbox-vbox-extpack",qy="application/x-virtualbox-vdi",Uy="application/x-virtualbox-vhd",Ky="application/x-virtualbox-vmdk",Fy="application/x-wais-source",Hy="application/x-web-app-manifest+json",Vy="application/x-x509-ca-cert",Gy="application/x-x509-ca-cert",Jy="application/x-x509-ca-cert",Qy="application/x-xfig",Yy="application/xliff+xml",$y="application/x-xpinstall",Xy="application/x-xz",Ly="application/x-zmachine",Zy="application/x-zmachine",eb="application/x-zmachine",tb="application/x-zmachine",nb="application/x-zmachine",rb="application/x-zmachine",ab="application/x-zmachine",ib="application/x-zmachine",ob="application/xaml+xml",sb="application/xcap-att+xml",cb="application/xcap-caps+xml",lb="application/xcap-el+xml",pb="application/xcap-ns+xml",ub="application/xenc+xml",db="application/xhtml+xml",fb="application/xhtml+xml",hb="application/xml",mb="application/xml",vb="application/xml",gb="application/xml",yb="application/xml-dtd",bb="application/xop+xml",wb="application/xproc+xml",xb="application/xslt+xml",Eb="application/xspf+xml",_b="application/xv+xml",kb="application/xv+xml",Ib="application/xv+xml",Ab="application/xv+xml",Sb="application/yang",Tb="application/yin+xml",Rb="application/zip",Ob="video/3gpp",Nb="audio/adpcm",Cb="audio/basic",Bb="audio/basic",Db="audio/midi",jb="audio/midi",Mb="audio/midi",Pb="audio/midi",zb="audio/mobile-xmf",Wb="audio/mpeg",qb="audio/mp4",Ub="audio/mp4",Kb="audio/mpeg",Fb="audio/mpeg",Hb="audio/mpeg",Vb="audio/mpeg",Gb="audio/mpeg",Jb="audio/ogg",Qb="audio/ogg",Yb="audio/ogg",$b="audio/s3m",Xb="audio/silk",Lb="audio/vnd.dece.audio",Zb="audio/vnd.dece.audio",ew="audio/vnd.digital-winds",tw="audio/vnd.dra",nw="audio/vnd.dts",rw="audio/vnd.dts.hd",aw="audio/vnd.lucent.voice",iw="audio/vnd.ms-playready.media.pya",ow="audio/vnd.nuera.ecelp4800",sw="audio/vnd.nuera.ecelp7470",cw="audio/vnd.nuera.ecelp9600",lw="audio/vnd.rip",pw="audio/wave",uw="audio/webm",dw="audio/x-aac",fw="audio/x-aiff",hw="audio/x-aiff",mw="audio/x-aiff",vw="audio/x-caf",gw="audio/x-flac",yw="audio/x-matroska",bw="audio/x-mpegurl",ww="audio/x-ms-wax",xw="audio/x-ms-wma",Ew="audio/x-pn-realaudio",_w="audio/x-pn-realaudio",kw="audio/x-pn-realaudio-plugin",Iw="audio/xm",Aw="chemical/x-cdx",Sw="chemical/x-cif",Tw="chemical/x-cmdf",Rw="chemical/x-cml",Ow="chemical/x-csml",Nw="chemical/x-xyz",Cw="font/collection",Bw="font/otf",Dw="font/ttf",jw="font/woff",Mw="font/woff2",Pw="image/aces",zw="image/apng",Ww="image/bmp",qw="image/cgm",Uw="image/dicom-rle",Kw="image/fits",Fw="image/g3fax",Hw="image/gif",Vw="image/heic",Gw="image/heic-sequence",Jw="image/heif",Qw="image/heif-sequence",Yw="image/hej2k",$w="image/hsj2",Xw="image/ief",Lw="image/jls",Zw="image/jp2",ex="image/jp2",tx="image/jpeg",nx="image/jpeg",rx="image/jpeg",ax="image/jph",ix="image/jphc",ox="image/jpm",sx="image/jpx",cx="image/jpx",lx="image/jxr",px="image/jxra",ux="image/jxrs",dx="image/jxs",fx="image/jxsc",hx="image/jxsi",mx="image/jxss",vx="image/ktx",gx="image/png",yx="image/prs.btif",bx="image/prs.pti",wx="image/sgi",xx="image/svg+xml",Ex="image/svg+xml",_x="image/t38",kx="image/tiff",Ix="image/tiff",Ax="image/tiff-fx",Sx="image/vnd.adobe.photoshop",Tx="image/vnd.airzip.accelerator.azv",Rx="image/vnd.dece.graphic",Ox="image/vnd.dece.graphic",Nx="image/vnd.dece.graphic",Cx="image/vnd.dece.graphic",Bx="image/vnd.djvu",Dx="image/vnd.djvu",jx="text/vnd.dvb.subtitle",Mx="image/vnd.dwg",Px="image/vnd.dxf",zx="image/vnd.fastbidsheet",Wx="image/vnd.fpx",qx="image/vnd.fst",Ux="image/vnd.fujixerox.edmics-mmr",Kx="image/vnd.fujixerox.edmics-rlc",Fx="image/vnd.microsoft.icon",Hx="image/vnd.ms-dds",Vx="image/vnd.ms-modi",Gx="image/vnd.ms-photo",Jx="image/vnd.net-fpx",Qx="image/vnd.tencent.tap",Yx="image/vnd.valve.source.texture",$x="image/vnd.wap.wbmp",Xx="image/vnd.xiff",Lx="image/vnd.zbrush.pcx",Zx="image/webp",e0="image/x-3ds",t0="image/x-cmu-raster",n0="image/x-cmx",r0="image/x-freehand",a0="image/x-freehand",i0="image/x-freehand",o0="image/x-freehand",s0="image/x-freehand",c0="image/x-jng",l0="image/x-mrsid-image",p0="image/x-pict",u0="image/x-pict",d0="image/x-portable-anymap",f0="image/x-portable-bitmap",h0="image/x-portable-graymap",m0="image/x-portable-pixmap",v0="image/x-rgb",g0="image/x-tga",y0="image/x-xbitmap",b0="image/x-xpixmap",w0="image/x-xwindowdump",x0="message/disposition-notification",E0="message/global",_0="message/global-delivery-status",k0="message/global-disposition-notification",I0="message/global-headers",A0="message/rfc822",S0="message/rfc822",T0="message/vnd.wfa.wsc",R0="model/3mf",O0="model/gltf+json",N0="model/gltf-binary",C0="model/iges",B0="model/iges",D0="model/mesh",j0="model/mesh",M0="model/mesh",P0="model/mtl",z0="model/vnd.collada+xml",W0="model/vnd.dwf",q0="model/vnd.gdl",U0="model/vnd.gtw",K0="model/vnd.mts",F0="model/vnd.opengex",H0="model/vnd.parasolid.transmit.binary",V0="model/vnd.parasolid.transmit.text",G0="model/vnd.usdz+zip",J0="model/vnd.valve.source.compiled-map",Q0="model/vnd.vtu",Y0="model/vrml",$0="model/vrml",X0="model/x3d+fastinfoset",L0="model/x3d+binary",Z0="model/x3d-vrml",eE="model/x3d+vrml",tE="model/x3d+xml",nE="model/x3d+xml",rE="text/cache-manifest",aE="text/cache-manifest",iE="text/calendar",oE="text/calendar",sE="text/coffeescript",cE="text/coffeescript",lE="text/css",pE="text/csv",uE="text/html",dE="text/html",fE="text/html",hE="text/jade",mE="text/jsx",vE="text/less",gE="text/markdown",yE="text/markdown",bE="text/mathml",wE="text/mdx",xE="text/n3",EE="text/plain",_E="text/plain",kE="text/plain",IE="text/plain",AE="text/plain",SE="text/plain",TE="text/plain",RE="text/plain",OE="text/prs.lines.tag",NE="text/richtext",CE="text/sgml",BE="text/sgml",DE="text/shex",jE="text/slim",ME="text/slim",PE="text/stylus",zE="text/stylus",WE="text/tab-separated-values",qE="text/troff",UE="text/troff",KE="text/troff",FE="text/troff",HE="text/troff",VE="text/troff",GE="text/turtle",JE="text/uri-list",QE="text/uri-list",YE="text/uri-list",$E="text/vcard",XE="text/vnd.curl",LE="text/vnd.curl.dcurl",ZE="text/vnd.curl.mcurl",e_="text/vnd.curl.scurl",t_="text/vnd.fly",n_="text/vnd.fmi.flexstor",r_="text/vnd.graphviz",a_="text/vnd.in3d.3dml",i_="text/vnd.in3d.spot",o_="text/vnd.sun.j2me.app-descriptor",s_="text/vnd.wap.wml",c_="text/vnd.wap.wmlscript",l_="text/vtt",p_="text/x-asm",u_="text/x-asm",d_="text/x-c",f_="text/x-c",h_="text/x-c",m_="text/x-c",v_="text/x-c",g_="text/x-c",y_="text/x-c",b_="text/x-component",w_="text/x-fortran",x_="text/x-fortran",E_="text/x-fortran",__="text/x-fortran",k_="text/x-handlebars-template",I_="text/x-java-source",A_="text/x-lua",S_="text/x-markdown",T_="text/x-nfo",R_="text/x-opml",O_="text/x-pascal",N_="text/x-pascal",C_="text/x-processing",B_="text/x-sass",D_="text/x-scss",j_="text/x-setext",M_="text/x-sfv",P_="text/x-suse-ymp",z_="text/x-uuencode",W_="text/x-vcalendar",q_="text/x-vcard",U_="text/yaml",K_="text/yaml",F_="video/3gpp",H_="video/3gpp2",V_="video/h261",G_="video/h263",J_="video/h264",Q_="video/jpeg",Y_="video/jpm",$_="video/mj2",X_="video/mj2",L_="video/mp2t",Z_="video/mp4",ek="video/mp4",tk="video/mp4",nk="video/mpeg",rk="video/mpeg",ak="video/mpeg",ik="video/mpeg",ok="video/mpeg",sk="video/ogg",ck="video/quicktime",lk="video/quicktime",pk="video/vnd.dece.hd",uk="video/vnd.dece.hd",dk="video/vnd.dece.mobile",fk="video/vnd.dece.mobile",hk="video/vnd.dece.pd",mk="video/vnd.dece.pd",vk="video/vnd.dece.sd",gk="video/vnd.dece.sd",yk="video/vnd.dece.video",bk="video/vnd.dece.video",wk="video/vnd.dvb.file",xk="video/vnd.fvt",Ek="video/vnd.mpegurl",_k="video/vnd.mpegurl",kk="video/vnd.ms-playready.media.pyv",Ik="video/vnd.uvvu.mp4",Ak="video/vnd.uvvu.mp4",Sk="video/vnd.vivo",Tk="video/webm",Rk="video/x-f4v",Ok="video/x-fli",Nk="video/x-flv",Ck="video/x-m4v",Bk="video/x-matroska",Dk="video/x-matroska",jk="video/x-matroska",Mk="video/x-mng",Pk="video/x-ms-asf",zk="video/x-ms-asf",Wk="video/x-ms-vob",qk="video/x-ms-wm",Uk="video/x-ms-wmv",Kk="video/x-ms-wmx",Fk="video/x-ms-wvx",Hk="video/x-msvideo",Vk="video/x-sgi-movie",Gk="video/x-smv",Jk="x-conference/x-cooltalk",or={"123":ka,ez:Ia,aw:Aa,atom:Sa,atomcat:Ta,atomdeleted:Ra,atomsvc:Oa,dwd:Na,held:Ca,rsat:Ba,bdoc:Da,xcs:ja,ccxml:Ma,cdfx:Pa,cdmia:za,cdmic:Wa,cdmid:qa,cdmio:Ua,cdmiq:Ka,cu:Fa,mpd:Ha,davmount:Va,dbk:Ga,dssc:Ja,xdssc:Qa,ecma:Ya,es:$a,emma:Xa,emotionml:La,epub:Za,exi:ei,fdt:ti,pfr:ni,geojson:ri,gml:ai,gpx:ii,gxf:oi,gz:si,hjson:ci,stk:li,ink:pi,inkml:ui,ipfix:di,its:fi,jar:hi,war:mi,ear:vi,ser:gi,class:yi,js:bi,mjs:wi,json:xi,map:Ei,json5:_i,jsonml:ki,jsonld:Ii,lgr:Ai,lostxml:Si,hqx:Ti,cpt:Ri,mads:Oi,webmanifest:Ni,mrc:Ci,mrcx:Bi,ma:Di,nb:ji,mb:Mi,mathml:Pi,mbox:zi,mscml:Wi,metalink:qi,meta4:Ui,mets:Ki,maei:Fi,musd:Hi,mods:Vi,m21:Gi,mp21:Ji,mp4s:Qi,m4p:Yi,xdf:$i,doc:Xi,dot:Li,mxf:Zi,nq:eo,nt:to,cjs:no,bin:ro,dms:ao,lrf:io,mar:oo,so,dist:co,distz:lo,pkg:po,bpk:uo,dump:fo,elc:ho,deploy:mo,exe:vo,dll:go,deb:yo,dmg:bo,iso:wo,img:xo,msi:Eo,msp:_o,msm:ko,buffer:Io,oda:Ao,opf:So,ogx:To,omdoc:Ro,onetoc:Oo,onetoc2:No,onetmp:Co,onepkg:Bo,oxps:Do,relo:jo,xer:Mo,pdf:Po,pgp:zo,asc:Wo,sig:qo,prf:Uo,p10:Ko,p7m:Fo,p7c:Ho,p7s:Vo,p8:Go,ac:Jo,cer:Qo,crl:Yo,pkipath:$o,pki:Xo,pls:Lo,ai:Zo,eps:es,ps:ts,provx:ns,cww:rs,pskcxml:as,raml:is,rdf:os,owl:ss,rif:cs,rnc:ls,rl:ps,rld:us,rs:ds,rapd:fs,sls:hs,rusd:ms,gbr:vs,mft:gs,roa:ys,rsd:bs,rss:ws,rtf:xs,sbml:Es,scq:_s,scs:ks,spq:Is,spp:As,sdp:Ss,senmlx:Ts,sensmlx:Rs,setpay:Os,setreg:Ns,shf:Cs,siv:Bs,sieve:Ds,smi:js,smil:Ms,rq:Ps,srx:zs,gram:Ws,grxml:qs,sru:Us,ssdl:Ks,ssml:Fs,swidtag:Hs,tei:Vs,teicorpus:Gs,tfi:Js,tsd:Qs,toml:Ys,ttml:$s,rsheet:Xs,"1km":Ls,plb:Zs,psb:ec,pvb:tc,tcap:nc,pwn:rc,aso:ac,imp:ic,acu:oc,atc:sc,acutc:cc,air:lc,fcdt:pc,fxp:uc,fxpl:dc,xdp:fc,xfdf:hc,ahead:mc,azf:vc,azs:gc,azw:yc,acc:bc,ami:wc,apk:xc,cii:Ec,fti:_c,atx:kc,mpkg:Ic,keynote:Ac,m3u8:Sc,numbers:Tc,pages:Rc,pkpass:Oc,swi:Nc,iota:Cc,aep:Bc,bmml:Dc,mpm:jc,bmi:Mc,rep:Pc,cdxml:zc,mmd:Wc,cdy:qc,csl:Uc,cla:Kc,rp9:Fc,c4g:Hc,c4d:Vc,c4f:Gc,c4p:Jc,c4u:Qc,c11amc:Yc,c11amz:$c,csp:Xc,cdbcmsg:Lc,cmc:Zc,clkx:el,clkk:tl,clkp:nl,clkt:rl,clkw:al,wbs:il,pml:ol,ppd:sl,car:cl,pcurl:ll,dart:pl,rdz:ul,uvf:dl,uvvf:fl,uvd:hl,uvvd:ml,uvt:vl,uvvt:gl,uvx:yl,uvvx:bl,uvz:wl,uvvz:xl,fe_launch:El,dna:_l,mlp:kl,dpg:Il,dfac:Al,kpxx:Sl,ait:Tl,svc:Rl,geo:Ol,mag:Nl,nml:Cl,esf:Bl,msf:Dl,qam:jl,slt:Ml,ssf:Pl,es3:zl,et3:Wl,ez2:ql,ez3:Ul,fdf:Kl,mseed:Fl,seed:Hl,dataless:Vl,gph:Gl,ftc:Jl,fm:Ql,frame:Yl,maker:$l,book:Xl,fnc:Ll,ltf:Zl,fsc:ep,oas:tp,oa2:np,oa3:rp,fg5:ap,bh2:ip,ddd:op,xdw:sp,xbd:cp,fzs:lp,txd:pp,ggb:up,ggt:dp,gex:fp,gre:hp,gxt:mp,g2w:vp,g3w:gp,gmx:yp,gdoc:bp,gslides:wp,gsheet:xp,kml:Ep,kmz:_p,gqf:kp,gqs:Ip,gac:Ap,ghf:Sp,gim:Tp,grv:Rp,gtm:Op,tpl:Np,vcg:Cp,hal:Bp,zmm:Dp,hbci:jp,les:Mp,hpgl:Pp,hpid:zp,hps:Wp,jlt:qp,pcl:Up,pclxl:Kp,"sfd-hdstx":Fp,mpy:Hp,afp:Vp,listafp:Gp,list3820:Jp,irm:Qp,sc:Yp,icc:$p,icm:Xp,igl:Lp,ivp:Zp,ivu:eu,igm:tu,xpw:nu,xpx:ru,i2g:au,qbo:iu,qfx:ou,rcprofile:su,irp:cu,xpr:lu,fcs:pu,jam:uu,rms:du,jisp:fu,joda:hu,ktz:mu,ktr:vu,karbon:gu,chrt:yu,kfo:bu,flw:wu,kon:xu,kpr:Eu,kpt:_u,ksp:ku,kwd:Iu,kwt:Au,htke:Su,kia:Tu,kne:Ru,knp:Ou,skp:Nu,skd:Cu,skt:Bu,skm:Du,sse:ju,lasxml:Mu,lbd:Pu,lbe:zu,apr:Wu,pre:qu,nsf:Uu,org:Ku,scm:Fu,lwp:Hu,portpkg:Vu,mcd:Gu,mc1:Ju,cdkey:Qu,mwf:Yu,mfm:$u,flo:Xu,igx:Lu,mif:Zu,daf:ed,dis:td,mbk:nd,mqy:rd,msl:ad,plc:id,txf:od,mpn:sd,mpc:cd,xul:ld,cil:pd,cab:ud,xls:dd,xlm:fd,xla:hd,xlc:md,xlt:vd,xlw:gd,xlam:yd,xlsb:bd,xlsm:wd,xltm:xd,eot:Ed,chm:_d,ims:kd,lrm:Id,thmx:Ad,msg:Sd,cat:Td,stl:Rd,ppt:Od,pps:Nd,pot:Cd,ppam:Bd,pptm:Dd,sldm:jd,ppsm:Md,potm:Pd,mpp:zd,mpt:Wd,docm:qd,dotm:Ud,wps:Kd,wks:Fd,wcm:Hd,wdb:Vd,wpl:Gd,xps:Jd,mseq:Qd,mus:Yd,msty:$d,taglet:Xd,nlu:Ld,ntf:Zd,nitf:ef,nnd:tf,nns:nf,nnw:rf,ngdat:af,"n-gage":of,rpst:sf,rpss:cf,edm:lf,edx:pf,ext:uf,odc:df,otc:ff,odb:hf,odf:mf,odft:vf,odg:gf,otg:yf,odi:bf,oti:wf,odp:xf,otp:Ef,ods:_f,ots:kf,odt:If,odm:Af,ott:Sf,oth:Tf,xo:Rf,dd2:Of,obgx:Nf,oxt:Cf,osm:Bf,pptx:Df,sldx:jf,ppsx:Mf,potx:Pf,xlsx:zf,xltx:Wf,docx:qf,dotx:Uf,mgp:Kf,dp:Ff,esa:Hf,pdb:Vf,pqa:Gf,oprc:Jf,paw:Qf,str:Yf,ei6:$f,efif:Xf,wg:Lf,plf:Zf,pbd:eh,box:th,mgz:nh,qps:rh,ptid:ah,qxd:ih,qxt:oh,qwd:sh,qwt:ch,qxl:lh,qxb:ph,bed:uh,mxl:dh,musicxml:fh,cryptonote:hh,cod:mh,rm:vh,rmvb:gh,link66:yh,st:bh,see:wh,sema:xh,semd:Eh,semf:_h,ifm:kh,itp:Ih,iif:Ah,ipk:Sh,twd:Th,twds:Rh,mmf:Oh,teacher:Nh,fo:Ch,sdkm:Bh,sdkd:Dh,dxp:jh,sfs:Mh,sdc:Ph,sda:zh,sdd:Wh,smf:qh,sdw:Uh,vor:Kh,sgl:Fh,smzip:Hh,sm:Vh,wadl:Gh,sxc:Jh,stc:Qh,sxd:Yh,std:$h,sxi:Xh,sti:Lh,sxm:Zh,sxw:em,sxg:tm,stw:nm,sus:rm,susp:am,svd:im,sis:om,sisx:sm,xsm:cm,bdm:lm,xdm:pm,ddf:um,tao:dm,pcap:fm,cap:hm,dmp:mm,tmo:vm,tpt:gm,mxs:ym,tra:bm,ufd:wm,ufdl:xm,utz:Em,umj:_m,unityweb:km,uoml:Im,vcx:Am,vsd:Sm,vst:Tm,vss:Rm,vsw:Om,vis:Nm,vsf:Cm,wbxml:Bm,wmlc:Dm,wmlsc:jm,wtb:Mm,nbp:Pm,wpd:zm,wqd:Wm,stf:qm,xar:Um,xfdl:Km,hvd:Fm,hvs:Hm,hvp:Vm,osf:Gm,osfpvg:Jm,saf:Qm,spf:Ym,cmp:$m,zir:Xm,zirz:Lm,zaz:Zm,vxml:ev,wasm:tv,wgt:nv,hlp:rv,wsdl:av,wspolicy:iv,"7z":ov,abw:sv,ace:cv,arj:lv,aab:pv,x32:uv,u32:dv,vox:fv,aam:hv,aas:mv,bcpio:vv,torrent:gv,blb:yv,blorb:bv,bz:wv,bz2:xv,boz:Ev,cbr:_v,cba:kv,cbt:Iv,cbz:Av,cb7:Sv,vcd:Tv,cfs:Rv,chat:Ov,pgn:Nv,crx:Cv,cco:Bv,nsc:Dv,cpio:jv,csh:Mv,udeb:Pv,dgc:zv,dir:Wv,dcr:qv,dxr:Uv,cst:Kv,cct:Fv,cxt:Hv,w3d:Vv,fgd:Gv,swa:Jv,wad:Qv,ncx:Yv,dtb:$v,res:Xv,dvi:Lv,evy:Zv,eva:eg,bdf:tg,gsf:ng,psf:rg,pcf:ag,snf:ig,pfa:og,pfb:sg,pfm:cg,afm:lg,arc:pg,spl:ug,gca:dg,ulx:fg,gnumeric:hg,gramps:mg,gtar:vg,hdf:gg,php:yg,install:bg,jardiff:wg,jnlp:xg,kdbx:Eg,latex:_g,luac:kg,lzh:Ig,lha:Ag,run:Sg,mie:Tg,prc:Rg,mobi:Og,application:Ng,lnk:Cg,wmd:Bg,wmz:Dg,xbap:jg,mdb:Mg,obd:Pg,crd:zg,clp:Wg,com:qg,bat:Ug,mvb:Kg,m13:Fg,m14:Hg,wmf:Vg,emf:Gg,emz:Jg,mny:Qg,pub:Yg,scd:$g,trm:Xg,wri:Lg,nc:Zg,cdf:ey,pac:ty,nzb:ny,pl:ry,pm:ay,p12:iy,pfx:oy,p7b:sy,spc:cy,p7r:ly,rar:py,rpm:uy,ris:dy,sea:fy,sh:hy,shar:my,swf:vy,xap:gy,sql:yy,sit:by,sitx:wy,srt:xy,sv4cpio:Ey,sv4crc:_y,t3:ky,gam:Iy,tar:Ay,tcl:Sy,tk:Ty,tex:Ry,tfm:Oy,texinfo:Ny,texi:Cy,obj:By,ustar:Dy,hdd:jy,ova:My,ovf:Py,vbox:zy,"vbox-extpack":Wy,vdi:qy,vhd:Uy,vmdk:Ky,src:Fy,webapp:Hy,der:Vy,crt:Gy,pem:Jy,fig:Qy,xlf:Yy,xpi:$y,xz:Xy,z1:Ly,z2:Zy,z3:eb,z4:tb,z5:nb,z6:rb,z7:ab,z8:ib,xaml:ob,xav:sb,xca:cb,xel:lb,xns:pb,xenc:ub,xhtml:db,xht:fb,xml:hb,xsl:mb,xsd:vb,rng:gb,dtd:yb,xop:bb,xpl:wb,xslt:xb,xspf:Eb,mxml:_b,xhvml:kb,xvml:Ib,xvm:Ab,yang:Sb,yin:Tb,zip:Rb,"3gpp":Ob,adp:Nb,au:Cb,snd:Bb,mid:Db,midi:jb,kar:Mb,rmi:Pb,mxmf:zb,mp3:Wb,m4a:qb,mp4a:Ub,mpga:Kb,mp2:Fb,mp2a:Hb,m2a:Vb,m3a:Gb,oga:Jb,ogg:Qb,spx:Yb,s3m:$b,sil:Xb,uva:Lb,uvva:Zb,eol:ew,dra:tw,dts:nw,dtshd:rw,lvp:aw,pya:iw,ecelp4800:ow,ecelp7470:sw,ecelp9600:cw,rip:lw,wav:pw,weba:uw,aac:dw,aif:fw,aiff:hw,aifc:mw,caf:vw,flac:gw,mka:yw,m3u:bw,wax:ww,wma:xw,ram:Ew,ra:_w,rmp:kw,xm:Iw,cdx:Aw,cif:Sw,cmdf:Tw,cml:Rw,csml:Ow,xyz:Nw,ttc:Cw,otf:Bw,ttf:Dw,woff:jw,woff2:Mw,exr:Pw,apng:zw,bmp:Ww,cgm:qw,drle:Uw,fits:Kw,g3:Fw,gif:Hw,heic:Vw,heics:Gw,heif:Jw,heifs:Qw,hej2:Yw,hsj2:$w,ief:Xw,jls:Lw,jp2:Zw,jpg2:ex,jpeg:tx,jpg:nx,jpe:rx,jph:ax,jhc:ix,jpm:ox,jpx:sx,jpf:cx,jxr:lx,jxra:px,jxrs:ux,jxs:dx,jxsc:fx,jxsi:hx,jxss:mx,ktx:vx,png:gx,btif:yx,pti:bx,sgi:wx,svg:xx,svgz:Ex,t38:_x,tif:kx,tiff:Ix,tfx:Ax,psd:Sx,azv:Tx,uvi:Rx,uvvi:Ox,uvg:Nx,uvvg:Cx,djvu:Bx,djv:Dx,sub:jx,dwg:Mx,dxf:Px,fbs:zx,fpx:Wx,fst:qx,mmr:Ux,rlc:Kx,ico:Fx,dds:Hx,mdi:Vx,wdp:Gx,npx:Jx,tap:Qx,vtf:Yx,wbmp:$x,xif:Xx,pcx:Lx,webp:Zx,"3ds":e0,ras:t0,cmx:n0,fh:r0,fhc:a0,fh4:i0,fh5:o0,fh7:s0,jng:c0,sid:l0,pic:p0,pct:u0,pnm:d0,pbm:f0,pgm:h0,ppm:m0,rgb:v0,tga:g0,xbm:y0,xpm:b0,xwd:w0,"disposition-notification":x0,u8msg:E0,u8dsn:_0,u8mdn:k0,u8hdr:I0,eml:A0,mime:S0,wsc:T0,"3mf":R0,gltf:O0,glb:N0,igs:C0,iges:B0,msh:D0,mesh:j0,silo:M0,mtl:P0,dae:z0,dwf:W0,gdl:q0,gtw:U0,mts:K0,ogex:F0,x_b:H0,x_t:V0,usdz:G0,bsp:J0,vtu:Q0,wrl:Y0,vrml:$0,x3db:X0,x3dbz:L0,x3dv:Z0,x3dvz:eE,x3d:tE,x3dz:nE,appcache:rE,manifest:aE,ics:iE,ifb:oE,coffee:sE,litcoffee:cE,css:lE,csv:pE,html:uE,htm:dE,shtml:fE,jade:hE,jsx:mE,less:vE,markdown:gE,md:yE,mml:bE,mdx:wE,n3:xE,txt:EE,text:_E,conf:kE,def:IE,list:AE,log:SE,in:TE,ini:RE,dsc:OE,rtx:NE,sgml:CE,sgm:BE,shex:DE,slim:jE,slm:ME,stylus:PE,styl:zE,tsv:WE,t:qE,tr:UE,roff:KE,man:FE,me:HE,ms:VE,ttl:GE,uri:JE,uris:QE,urls:YE,vcard:$E,curl:XE,dcurl:LE,mcurl:ZE,scurl:e_,fly:t_,flx:n_,gv:r_,"3dml":a_,spot:i_,jad:o_,wml:s_,wmls:c_,vtt:l_,s:p_,asm:u_,c:d_,cc:f_,cxx:h_,cpp:m_,h:v_,hh:g_,dic:y_,htc:b_,f:w_,for:x_,f77:E_,f90:__,hbs:k_,java:I_,lua:A_,mkd:S_,nfo:T_,opml:R_,p:O_,pas:N_,pde:C_,sass:B_,scss:D_,etx:j_,sfv:M_,ymp:P_,uu:z_,vcs:W_,vcf:q_,yaml:U_,yml:K_,"3gp":F_,"3g2":H_,h261:V_,h263:G_,h264:J_,jpgv:Q_,jpgm:Y_,mj2:$_,mjp2:X_,ts:L_,mp4:Z_,mp4v:ek,mpg4:tk,mpeg:nk,mpg:rk,mpe:ak,m1v:ik,m2v:ok,ogv:sk,qt:ck,mov:lk,uvh:pk,uvvh:uk,uvm:dk,uvvm:fk,uvp:hk,uvvp:mk,uvs:vk,uvvs:gk,uvv:yk,uvvv:bk,dvb:wk,fvt:xk,mxu:Ek,m4u:_k,pyv:kk,uvu:Ik,uvvu:Ak,viv:Sk,webm:Tk,f4v:Rk,fli:Ok,flv:Nk,m4v:Ck,mkv:Bk,mk3d:Dk,mks:jk,mng:Mk,asf:Pk,asx:zk,vob:Wk,wm:qk,wmv:Uk,wmx:Kk,wvx:Fk,avi:Hk,movie:Vk,smv:Gk,ice:Jk};function Se(e){const t=Nt("x."+e).toLowerCase().substr(1);if(!t)return null;const r=or[t];return r||null}class Qk extends Ct{constructor(){super(...arguments);this.EVENT_WATCH=J();this.clone=e=>{const{ctime:t,mime_type:r,mtime:a,path:i,type:o}=e;let{payload:s}=e;return s&&(s=s.slice()),{ctime:t,mime_type:r,mtime:a,payload:s,path:i,type:o}}}delete(e){if(this.has(e)){const t=this.get(e);return super.delete(e),this.EVENT_WATCH.dispatch({change:q.removed,path:t.path,type:t.type}),!0}return!1}put(e,t){const r={...t,path:e};return super.set(e,r),this.EVENT_WATCH.dispatch({change:q.created,path:r.path,type:r.type}),this}update(e,t){const r={...this.get(e),...t,path:e};return super.set(e,r),t.payload?this.EVENT_WATCH.dispatch({change:q.attached,path:r.path,type:r.type}):this.EVENT_WATCH.dispatch({change:q.updated,path:r.path,type:r.type}),this}}function Yk(e={}){const{compressed:t=!1}=e;return{...e,compressed:t}}class st extends ie{constructor(e={}){super(Yk(e));this.storage=new Qk}async create_url_object(e){const{storage:t}=this,{compressed:r}=this.options,a=this.normalize(e);if(!t.has(a))throw new Error("bad argument #0 to 'create_url_object' (Node must be created before using 'create_url_object')");const i=t.get(a);if(!i.payload)throw new Error("bad argument #0 to 'create_url_object' (Node payload must be created before using 'create_url_object')");const o=r?Ae(i.payload):i.payload,s=ke(o,i.mime_type);return{destroy:s.destroy,path:i.path,url:s.url}}async get(e){const{storage:t}=this,r=this.normalize(e);if(!t.has(r))return null;const a=t.get(r);return{ctime:a.ctime,mime_type:a.mime_type,mtime:a.mtime,path:a.path,type:a.type}}async put(e,t=P.undefined,r){const{storage:a}=this,i=this.normalize(e),o=ye();r||(r=Se(i)||ge),a.has(i)?a.update(i,{mime_type:r,mtime:o,type:t}):a.put(i,{ctime:o,mime_type:r,mtime:o,type:t})}async query(e={}){const t=Array.from(this.storage.entries()),r=t.map((a,i)=>{const o=a[0],{type:s=P.undefined}=a[1];return{path:o,type:s}});return Fe(r,e)}async read(e){const{storage:t}=this,{compressed:r}=this.options,a=this.normalize(e);if(!t.has(a))return null;const i=t.get(a);return i.payload?r?Ae(i.payload):i.payload:null}async remove(e){const{storage:t}=this,r=this.normalize(e);return t.delete(r)}async watch(e={}){return Ie(this.storage.EVENT_WATCH,e)}async write(e,t){const{storage:r}=this,{compressed:a}=this.options,i=this.normalize(e);if(!r.has(i))throw new Error("bad argument #0 to 'attach' (Node must be created before using 'attach')");r.update(i,{mtime:ye(),payload:a?He(t):t})}is_mounted(){return!0}async mount(){}async unmount(){}}st.can_hotlink=!0,st.can_watch=!0,st.is_available=!0;var K=function(){return K=Object.assign||function(t){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},K.apply(this,arguments)};function sn(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var a=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,c=o.length;s<c;s++,i++)a[i]=o[s];return a}var ee=Object.keys,re=Array.isArray,H=typeof self!="undefined"?self:typeof window!="undefined"?window:global;typeof Promise!="undefined"&&!H.Promise&&(H.Promise=Promise);function oe(e,t){return typeof t!="object"||ee(t).forEach(function(r){e[r]=t[r]}),e}var sr=Object.getPrototypeOf,$k={}.hasOwnProperty;function ce(e,t){return $k.call(e,t)}function ct(e,t){typeof t=="function"&&(t=t(sr(e))),ee(t).forEach(function(r){be(e,r,t[r])})}var cr=Object.defineProperty;function be(e,t,r,a){cr(e,t,oe(r&&ce(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},a))}function Ve(e){return{from:function(t){return e.prototype=Object.create(t.prototype),be(e.prototype,"constructor",e),{extend:ct.bind(null,e.prototype)}}}}var Xk=Object.getOwnPropertyDescriptor;function lr(e,t){var r=Xk(e,t),a;return r||(a=sr(e))&&lr(a,t)}var Lk=[].slice;function Bt(e,t,r){return Lk.call(e,t,r)}function pr(e,t){return t(e)}function lt(e){if(!e)throw new Error("Assertion Failed")}function ur(e){H.setImmediate?setImmediate(e):setTimeout(e,0)}function dr(e,t){return e.reduce(function(r,a,i){var o=t(a,i);return o&&(r[o[0]]=o[1]),r},{})}function Zk(e,t,r){try{e.apply(null,r)}catch(a){t&&t(a)}}function we(e,t){if(ce(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var r=[],a=0,i=t.length;a<i;++a){var o=we(e,t[a]);r.push(o)}return r}var s=t.indexOf(".");if(s!==-1){var c=e[t.substr(0,s)];return c===void 0?void 0:we(c,t.substr(s+1))}return}function le(e,t,r){if(!e||t===void 0)return;if("isFrozen"in Object&&Object.isFrozen(e))return;if(typeof t!="string"&&"length"in t){lt(typeof r!="string"&&"length"in r);for(var a=0,i=t.length;a<i;++a)le(e,t[a],r[a])}else{var o=t.indexOf(".");if(o!==-1){var s=t.substr(0,o),c=t.substr(o+1);if(c==="")r===void 0?re(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=r;else{var p=e[s];p||(p=e[s]={}),le(p,c,r)}}else r===void 0?re(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function eI(e,t){typeof t=="string"?le(e,t,void 0):"length"in t&&[].map.call(t,function(r){le(e,r,void 0)})}function fr(e){var t={};for(var r in e)ce(e,r)&&(t[r]=e[r]);return t}var tI=[].concat;function hr(e){return tI.apply([],e)}var mr="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(hr([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return H[e]}),nI=mr.map(function(e){return H[e]}),rI=dr(mr,function(e){return[e,!0]});function Dt(e){if(!e||typeof e!="object")return e;var t;if(re(e)){t=[];for(var r=0,a=e.length;r<a;++r)t.push(Dt(e[r]))}else if(nI.indexOf(e.constructor)>=0)t=e;else{t=e.constructor?Object.create(e.constructor.prototype):{};for(var i in e)ce(e,i)&&(t[i]=Dt(e[i]))}return t}var aI={}.toString;function cn(e){return aI.call(e).slice(8,-1)}var ln=function(e,t){return t==="Array"?""+e.map(function(r){return ln(r,cn(r))}):t==="ArrayBuffer"?""+new Uint8Array(e):t==="Date"?e.getTime():ArrayBuffer.isView(e)?""+new Uint8Array(e.buffer):e};function pn(e,t,r,a){return r=r||{},a=a||"",ee(e).forEach(function(i){if(!ce(t,i))r[a+i]=void 0;else{var o=e[i],s=t[i];if(typeof o=="object"&&typeof s=="object"&&o&&s){var c=cn(o),p=cn(s);c===p?rI[c]?ln(o,c)!==ln(s,p)&&(r[a+i]=t[i]):pn(o,s,r,a+i+"."):r[a+i]=t[i]}else o!==s&&(r[a+i]=t[i])}}),ee(t).forEach(function(i){ce(e,i)||(r[a+i]=t[i])}),r}var vr=typeof Symbol!="undefined"&&Symbol.iterator,iI=vr?function(e){var t;return e!=null&&(t=e[vr])&&t.apply(e)}:function(){return null},Ge={};function xe(e){var t,r,a,i;if(arguments.length===1){if(re(e))return e.slice();if(this===Ge&&typeof e=="string")return[e];if(i=iI(e)){for(r=[];a=i.next(),!a.done;)r.push(a.value);return r}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}var gr=typeof Symbol!="undefined"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},fe=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function br(e,t){fe=e,yr=t}var yr=function(){return!0},oI=!new Error("").stack;function Je(){if(oI)try{throw new Error}catch(e){return e}return new Error}function un(e,t){var r=e.stack;return r?(t=t||0,r.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),r.split(`
`).slice(t).filter(yr).map(function(a){return`
`+a}).join("")):""}var sI=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],wr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],dn=sI.concat(wr),cI={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function Qe(e,t){this._e=Je(),this.name=e,this.message=t}Ve(Qe).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+un(this._e,2))}},toString:function(){return this.name+": "+this.message}});function xr(e,t){return e+". Errors: "+Object.keys(t).map(function(r){return t[r].toString()}).filter(function(r,a,i){return i.indexOf(r)===a}).join(`
`)}function jt(e,t,r,a){this._e=Je(),this.failures=t,this.failedKeys=a,this.successCount=r,this.message=xr(e,t)}Ve(jt).from(Qe);function pt(e,t){this._e=Je(),this.name="BulkError",this.failures=t,this.message=xr(e,t)}Ve(pt).from(Qe);var lI=dn.reduce(function(e,t){return e[t]=t+"Error",e},{}),pI=Qe,C=dn.reduce(function(e,t){var r=t+"Error";function a(i,o){this._e=Je(),this.name=r,i?typeof i=="string"?(this.message=""+i+(o?`
 `+o:""),this.inner=o||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=cI[t]||r,this.inner=null)}return Ve(a).from(pI),e[t]=a,e},{});C.Syntax=SyntaxError;C.Type=TypeError;C.Range=RangeError;var Er=wr.reduce(function(e,t){return e[t+"Error"]=C[t],e},{});function uI(e,t){if(!e||e instanceof Qe||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Er[e.name])return e;var r=new Er[e.name](t||e.message,e);return"stack"in e&&be(r,"stack",{get:function(){return this.inner.stack}}),r}var Mt=dn.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=C[t]),e},{});Mt.ModifyError=jt;Mt.DexieError=Qe;Mt.BulkError=pt;function F(){}function ut(e){return e}function dI(e,t){return e==null||e===ut?t:function(r){return t(e(r))}}function De(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function fI(e,t){return e===F?t:function(){var r=e.apply(this,arguments);r!==void 0&&(arguments[0]=r);var a=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?De(a,this.onsuccess):a),i&&(this.onerror=this.onerror?De(i,this.onerror):i),o!==void 0?o:r}}function hI(e,t){return e===F?t:function(){e.apply(this,arguments);var r=this.onsuccess,a=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?De(r,this.onsuccess):r),a&&(this.onerror=this.onerror?De(a,this.onerror):a)}}function mI(e,t){return e===F?t:function(r){var a=e.apply(this,arguments);oe(r,a);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?De(i,this.onsuccess):i),o&&(this.onerror=this.onerror?De(o,this.onerror):o),a===void 0?s===void 0?void 0:s:oe(a,s)}}function vI(e,t){return e===F?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function _r(e,t){return e===F?t:function(){var r=e.apply(this,arguments);if(r&&typeof r.then=="function"){for(var a=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return r.then(function(){return t.apply(a,o)})}return t.apply(this,arguments)}}var dt={},gI=100,yI=20,kr=100,fn=typeof Promise=="undefined"?[]:function(){var e=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[e,e.__proto__,e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,t.__proto__,e]}(),hn=fn[0],Pt=fn[1],mn=fn[2],Ir=Pt&&Pt.then,zt=hn&&hn.constructor,vn=!!mn,gn=!1,bI=mn?function(){mn.then(Wt)}:H.setImmediate?setImmediate.bind(null,Wt):H.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){Wt(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Wt,0)},ht=function(e,t){ft.push([e,t]),qt&&(bI(),qt=!1)},yn=!0,qt=!0,je=[],Ut=[],bn=null,wn=ut,Ye={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ar,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{Ar(e[0],e[1])}catch(t){}})}},N=Ye,ft=[],Me=0,Kt=[];function I(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=F,this._lib=!1;var t=this._PSD=N;if(fe&&(this._stackHolder=Je(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==dt)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&xn(this,this._value);return}this._state=null,this._value=null,++t.ref,Sr(this,e)}var En={get:function(){var e=N,t=kn;function r(a,i){var o=this,s=!e.global&&(e!==N||t!==kn);s&&$e();var c=new I(function(p,l){_n(o,new Tr(Ft(a,e,s),Ft(i,e,s),p,l,e))});return fe&&Rr(c,this),c}return r.prototype=dt,r},set:function(e){be(this,"then",e&&e.prototype===dt?En:{get:function(){return e},set:En.set})}};ct(I.prototype,{then:En,_then:function(e,t){_n(this,new Tr(null,null,e,t,N))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],r=arguments[1];return typeof t=="function"?this.then(null,function(a){return a instanceof t?r(a):Ht(a)}):this.then(null,function(a){return a&&a.name===t?r(a):Ht(a)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),Ht(t)})},stack:{get:function(){if(this._stack)return this._stack;try{gn=!0;var e=Or(this,[],yI),t=e.join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{gn=!1}}},timeout:function(e,t){var r=this;return e<Infinity?new I(function(a,i){var o=setTimeout(function(){return i(new C.Timeout(t))},e);r.then(a,i).finally(clearTimeout.bind(null,o))}):this}});typeof Symbol!="undefined"&&Symbol.toStringTag&&be(I.prototype,Symbol.toStringTag,"Dexie.Promise");Ye.env=Nr();function Tr(e,t,r,a,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=r,this.reject=a,this.psd=i}ct(I,{all:function(){var e=xe.apply(null,arguments).map(Vt);return new I(function(t,r){e.length===0&&t([]);var a=e.length;e.forEach(function(i,o){return I.resolve(i).then(function(s){e[o]=s,--a||t(e)},r)})})},resolve:function(e){if(e instanceof I)return e;if(e&&typeof e.then=="function")return new I(function(r,a){e.then(r,a)});var t=new I(dt,!0,e);return Rr(t,bn),t},reject:Ht,race:function(){var e=xe.apply(null,arguments).map(Vt);return new I(function(t,r){e.map(function(a){return I.resolve(a).then(t,r)})})},PSD:{get:function(){return N},set:function(e){return N=e}},newPSD:Pe,usePSD:mt,scheduler:{get:function(){return ht},set:function(e){ht=e}},rejectionMapper:{get:function(){return wn},set:function(e){wn=e}},follow:function(e,t){return new I(function(r,a){return Pe(function(i,o){var s=N;s.unhandleds=[],s.onunhandled=o,s.finalize=De(function(){var c=this;wI(function(){c.unhandleds.length===0?i():o(c.unhandleds[0])})},s.finalize),e()},t,r,a)})}});zt&&(zt.allSettled&&be(I,"allSettled",function(){var e=xe.apply(null,arguments).map(Vt);return new I(function(t){e.length===0&&t([]);var r=e.length,a=new Array(r);e.forEach(function(i,o){return I.resolve(i).then(function(s){return a[o]={status:"fulfilled",value:s}},function(s){return a[o]={status:"rejected",reason:s}}).then(function(){return--r||t(a)})})})}),zt.any&&typeof AggregateError!="undefined"&&be(I,"any",function(){var e=xe.apply(null,arguments).map(Vt);return new I(function(t,r){e.length===0&&r(new AggregateError([]));var a=e.length,i=new Array(a);e.forEach(function(o,s){return I.resolve(o).then(function(c){return t(c)},function(c){i[s]=c,--a||r(new AggregateError(i))})})})}));function Sr(e,t){try{t(function(r){if(e._state!==null)return;if(r===e)throw new TypeError("A promise cannot be resolved with itself.");var a=e._lib&&vt();r&&typeof r.then=="function"?Sr(e,function(i,o){r instanceof I?r._then(i,o):r.then(i,o)}):(e._state=!0,e._value=r,Cr(e)),a&&gt()},xn.bind(null,e))}catch(r){xn(e,r)}}function xn(e,t){if(Ut.push(t),e._state!==null)return;var r=e._lib&&vt();t=wn(t),e._state=!1,e._value=t,fe&&t!==null&&typeof t=="object"&&!t._promise&&Zk(function(){var a=lr(t,"stack");t._promise=e,be(t,"stack",{get:function(){return gn?a&&(a.get?a.get.apply(t):a.value):e.stack}})}),xI(e),Cr(e),r&&gt()}function Cr(e){var t=e._listeners;e._listeners=[];for(var r=0,a=t.length;r<a;++r)_n(e,t[r]);var i=e._PSD;--i.ref||i.finalize(),Me===0&&(++Me,ht(function(){--Me===0&&In()},[]))}function _n(e,t){if(e._state===null){e._listeners.push(t);return}var r=e._state?t.onFulfilled:t.onRejected;if(r===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Me,ht(EI,[r,e,t])}function EI(e,t,r){try{bn=t;var a,i=t._value;t._state?a=e(i):(Ut.length&&(Ut=[]),a=e(i),Ut.indexOf(i)===-1&&_I(t)),r.resolve(a)}catch(o){r.reject(o)}finally{bn=null,--Me===0&&In(),--r.psd.ref||r.psd.finalize()}}function Or(e,t,r){if(t.length===r)return t;var a="";if(e._state===!1){var i=e._value,o,s;i!=null?(o=i.name||"Error",s=i.message||i,a=un(i,0)):(o=i,s=""),t.push(o+(s?": "+s:"")+a)}return fe&&(a=un(e._stackHolder,2),a&&t.indexOf(a)===-1&&t.push(a),e._prev&&Or(e._prev,t,r)),t}function Rr(e,t){var r=t?t._numPrev+1:0;r<gI&&(e._prev=t,e._numPrev=r)}function Wt(){vt()&&gt()}function vt(){var e=yn;return yn=!1,qt=!1,e}function gt(){var e,t,r;do for(;ft.length>0;)for(e=ft,ft=[],r=e.length,t=0;t<r;++t){var a=e[t];a[0].apply(null,a[1])}while(ft.length>0);yn=!0,qt=!0}function In(){var e=je;je=[],e.forEach(function(a){a._PSD.onunhandled.call(null,a._value,a)});for(var t=Kt.slice(0),r=t.length;r;)t[--r]()}function wI(e){function t(){e(),Kt.splice(Kt.indexOf(t),1)}Kt.push(t),++Me,ht(function(){--Me===0&&In()},[])}function xI(e){je.some(function(t){return t._value===e._value})||je.push(e)}function _I(e){for(var t=je.length;t;)if(je[--t]._value===e._value){je.splice(t,1);return}}function Ht(e){return new I(dt,!1,e)}function G(e,t){var r=N;return function(){var a=vt(),i=N;try{return Te(r,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{Te(i,!1),a&&gt()}}}var te={awaits:0,echoes:0,id:0},kI=0,Gt=[],An=0,kn=0,II=0;function Pe(e,t,r,a){var i=N,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++II;var s=Ye.env;o.env=vn?{Promise:I,PromiseProp:{value:I,configurable:!0,writable:!0},all:I.all,race:I.race,allSettled:I.allSettled,any:I.any,resolve:I.resolve,reject:I.reject,nthen:Br(s.nthen,o),gthen:Br(s.gthen,o)}:{},t&&oe(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var c=mt(o,e,r,a);return o.ref===0&&o.finalize(),c}function yt(){return te.id||(te.id=++kI),++te.awaits,te.echoes+=kr,te.id}function $e(e){if(!te.awaits||e&&e!==te.id)return;--te.awaits===0&&(te.id=0),te.echoes=te.awaits*kr}(""+Ir).indexOf("[native code]")===-1&&(yt=$e=F);function Vt(e){return te.echoes&&e&&e.constructor===zt?(yt(),e.then(function(t){return $e(),t},function(t){return $e(),ne(t)})):e}function AI(e){++kn,(!te.echoes||--te.echoes===0)&&(te.echoes=te.id=0),Gt.push(N),Te(e,!0)}function SI(){var e=Gt[Gt.length-1];Gt.pop(),Te(e,!1)}function Te(e,t){var r=N;if((t?te.echoes&&(!An++||e!==N):An&&(!--An||e!==N))&&TI(t?AI.bind(null,e):SI),e===N)return;if(N=e,r===Ye&&(Ye.env=Nr()),vn){var a=Ye.env.Promise,i=e.env;Pt.then=i.nthen,a.prototype.then=i.gthen,(r.global||e.global)&&(Object.defineProperty(H,"Promise",i.PromiseProp),a.all=i.all,a.race=i.race,a.resolve=i.resolve,a.reject=i.reject,i.allSettled&&(a.allSettled=i.allSettled),i.any&&(a.any=i.any))}}function Nr(){var e=H.Promise;return vn?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(H,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Pt.then,gthen:e.prototype.then}:{}}function mt(e,t,r,a,i){var o=N;try{return Te(e,!0),t(r,a,i)}finally{Te(o,!1)}}function TI(e){Ir.call(hn,e)}function Ft(e,t,r){return typeof e!="function"?e:function(){var a=N;r&&yt(),Te(t,!0);try{return e.apply(this,arguments)}finally{Te(a,!1)}}}function Br(e,t){return function(r,a){return e.call(this,Ft(r,t,!1),Ft(a,t,!1))}}var Dr="unhandledrejection";function Ar(e,t){var r;try{r=t.onuncatched(e)}catch(o){}if(r!==!1)try{var a,i={promise:t,reason:e};if(H.document&&document.createEvent?(a=document.createEvent("Event"),a.initEvent(Dr,!0,!0),oe(a,i)):H.CustomEvent&&(a=new CustomEvent(Dr,{detail:i}),oe(a,i)),a&&H.dispatchEvent&&(dispatchEvent(a),!H.PromiseRejectionEvent&&H.onunhandledrejection))try{H.onunhandledrejection(a)}catch(o){}fe&&a&&!a.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch(o){}}var ne=I.reject;function jr(e,t,r,a){if(!e._state.openComplete&&!N.letThrough){if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ne(new C.DatabaseClosed);e.open().catch(F)}return e._state.dbReadyPromise.then(function(){return jr(e,t,r,a)})}else{var i=e._createTransaction(t,r,e._dbSchema);try{i.create()}catch(o){return ne(o)}return i._promise(t,function(o,s){return Pe(function(){return N.trans=i,a(o,s,i)})}).then(function(o){return i._completion.then(function(){return o})})}}var Mr="3.0.2",Xe=String.fromCharCode(65535),Sn=-Infinity,Re="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Pr="String expected.",bt=[],Tn=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),RI=Tn,OI=Tn,zr=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},Jt="__dbnames",Rn="readonly",On="readwrite";function ze(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Wr={type:3,lower:-Infinity,lowerOpen:!1,upper:[[]],upperOpen:!1},NI=function(){function e(){}return e.prototype._trans=function(t,r,a){var i=this._tx||N.trans,o=this.name;function s(p,l,d){if(!d.schema[o])throw new C.NotFound("Table "+o+" not part of transaction");return r(d.idbtrans,d)}var c=vt();try{return i&&i.db===this.db?i===N.trans?i._promise(t,s,a):Pe(function(){return i._promise(t,s,a)},{trans:i,transless:N.transless||N}):jr(this.db,t,[this.name],s)}finally{c&&gt()}},e.prototype.get=function(t,r){var a=this;return t&&t.constructor===Object?this.where(t).first(r):this._trans("readonly",function(i){return a.core.get({trans:i,key:t}).then(function(o){return a.hook.reading.fire(o)})}).then(r)},e.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(re(t))return new this.db.WhereClause(this,"["+t.join("+")+"]");var r=ee(t);if(r.length===1)return this.where(r[0]).equals(t[r[0]]);var a=this.schema.indexes.concat(this.schema.primKey).filter(function(d){return d.compound&&r.every(function(u){return d.keyPath.indexOf(u)>=0})&&d.keyPath.every(function(u){return r.indexOf(u)>=0})})[0];if(a&&this.db._maxKey!==Xe)return this.where(a.name).equals(a.keyPath.map(function(d){return t[d]}));!a&&fe&&console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a "+("compound index ["+r.join("+")+"]"));var i=this.schema.idxByName,o=this.db._deps.indexedDB;function s(d,u){try{return o.cmp(d,u)===0}catch(f){return!1}}var c=r.reduce(function(d,u){var f=d[0],v=d[1],m=i[u],h=t[u];return[f||m,f||!m?ze(v,m&&m.multi?function(y){var E=we(y,u);return re(E)&&E.some(function(x){return s(h,x)})}:function(y){return s(h,we(y,u))}):v]},[null,null]),p=c[0],l=c[1];return p?this.where(p.name).equals(t[p.keyPath]).filter(l):a?this.filter(l):this.where(r).equals("")},e.prototype.filter=function(t){return this.toCollection().and(t)},e.prototype.count=function(t){return this.toCollection().count(t)},e.prototype.offset=function(t){return this.toCollection().offset(t)},e.prototype.limit=function(t){return this.toCollection().limit(t)},e.prototype.each=function(t){return this.toCollection().each(t)},e.prototype.toArray=function(t){return this.toCollection().toArray(t)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,re(t)?"["+t.join("+")+"]":t))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(t){this.schema.mappedClass=t;var r=function(a){if(!a)return a;var i=Object.create(t.prototype);for(var o in a)if(ce(a,o))try{i[o]=a[o]}catch(s){}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),t},e.prototype.defineClass=function(){function t(r){oe(this,r)}return this.mapToClass(t)},e.prototype.add=function(t,r){var a=this;return this._trans("readwrite",function(i){return a.core.mutate({trans:i,type:"add",keys:r!=null?[r]:null,values:[t]})}).then(function(i){return i.numFailures?I.reject(i.failures[0]):i.lastResult}).then(function(i){if(!a.core.schema.primaryKey.outbound)try{le(t,a.core.schema.primaryKey.keyPath,i)}catch(o){}return i})},e.prototype.update=function(t,r){if(typeof r!="object"||re(r))throw new C.InvalidArgument("Modifications must be an object.");if(typeof t=="object"&&!re(t)){ee(r).forEach(function(i){le(t,i,r[i])});var a=we(t,this.schema.primKey.keyPath);return a===void 0?ne(new C.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(a).modify(r)}else return this.where(":id").equals(t).modify(r)},e.prototype.put=function(t,r){var a=this;return this._trans("readwrite",function(i){return a.core.mutate({trans:i,type:"put",values:[t],keys:r!=null?[r]:null})}).then(function(i){return i.numFailures?I.reject(i.failures[0]):i.lastResult}).then(function(i){if(!a.core.schema.primaryKey.outbound)try{le(t,a.core.schema.primaryKey.keyPath,i)}catch(o){}return i})},e.prototype.delete=function(t){var r=this;return this._trans("readwrite",function(a){return r.core.mutate({trans:a,type:"delete",keys:[t]})}).then(function(a){return a.numFailures?I.reject(a.failures[0]):void 0})},e.prototype.clear=function(){var t=this;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"deleteRange",range:Wr})}).then(function(r){return r.numFailures?I.reject(r.failures[0]):void 0})},e.prototype.bulkGet=function(t){var r=this;return this._trans("readonly",function(a){return r.core.getMany({keys:t,trans:a}).then(function(i){return i.map(function(o){return r.hook.reading.fire(o)})})})},e.prototype.bulkAdd=function(t,r,a){var i=this,o=Array.isArray(r)?r:void 0;a=a||(o?void 0:r);var s=a?a.allKeys:void 0;return this._trans("readwrite",function(c){var p=i.core.schema.primaryKey.outbound;if(!p&&o)throw new C.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new C.InvalidArgument("Arguments objects and keys must have the same length");var l=t.length;return i.core.mutate({trans:c,type:"add",keys:o,values:t,wantResults:s}).then(function(d){var u=d.numFailures,f=d.results,v=d.lastResult,m=d.failures,h=s?f:v;if(u===0)return h;throw new pt(i.name+".bulkAdd(): "+u+" of "+l+" operations failed",Object.keys(m).map(function(y){return m[y]}))})})},e.prototype.bulkPut=function(t,r,a){var i=this,o=Array.isArray(r)?r:void 0;a=a||(o?void 0:r);var s=a?a.allKeys:void 0;return this._trans("readwrite",function(c){var p=i.core.schema.primaryKey.outbound;if(!p&&o)throw new C.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new C.InvalidArgument("Arguments objects and keys must have the same length");var l=t.length;return i.core.mutate({trans:c,type:"put",keys:o,values:t,wantResults:s}).then(function(d){var u=d.numFailures,f=d.results,v=d.lastResult,m=d.failures,h=s?f:v;if(u===0)return h;throw new pt(i.name+".bulkPut(): "+u+" of "+l+" operations failed",Object.keys(m).map(function(y){return m[y]}))})})},e.prototype.bulkDelete=function(t){var r=this,a=t.length;return this._trans("readwrite",function(i){return r.core.mutate({trans:i,type:"delete",keys:t})}).then(function(i){var o=i.numFailures,s=i.lastResult,c=i.failures;if(o===0)return s;throw new pt(r.name+".bulkDelete(): "+o+" of "+a+" operations failed",c)})},e}();function Qt(e){var t={},r=function(c,p){if(p){for(var l=arguments.length,d=new Array(l-1);--l;)d[l-1]=arguments[l];return t[c].subscribe.apply(null,d),e}else if(typeof c=="string")return t[c]};r.addEventType=o;for(var a=1,i=arguments.length;a<i;++a)o(arguments[a]);return r;function o(c,p,l){if(typeof c=="object")return s(c);p||(p=vI),l||(l=F);var d={subscribers:[],fire:l,subscribe:function(u){d.subscribers.indexOf(u)===-1&&(d.subscribers.push(u),d.fire=p(d.fire,u))},unsubscribe:function(u){d.subscribers=d.subscribers.filter(function(f){return f!==u}),d.fire=d.subscribers.reduce(p,l)}};return t[c]=r[c]=d,d}function s(c){ee(c).forEach(function(p){var l=c[p];if(re(l))o(p,c[p][0],c[p][1]);else if(l==="asap")var d=o(p,ut,function(){for(var f=arguments.length,v=new Array(f);f--;)v[f]=arguments[f];d.subscribers.forEach(function(m){ur(function(){m.apply(null,v)})})});else throw new C.InvalidArgument("Invalid event config")})}}function wt(e,t){return Ve(t).from({prototype:e}),t}function CI(e){return wt(NI.prototype,function(r,a,i){this.db=e,this._tx=i,this.name=r,this.schema=a,this.hook=e._allTables[r]?e._allTables[r].hook:Qt(null,{creating:[fI,F],reading:[dI,ut],updating:[mI,F],deleting:[hI,F]})})}function xt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Nn(e,t){e.filter=ze(e.filter,t)}function Cn(e,t,r){var a=e.replayFilter;e.replayFilter=a?function(){return ze(a(),t())}:t,e.justLimit=r&&!a}function BI(e,t){e.isMatch=ze(e.isMatch,t)}function Yt(e,t){if(e.isPrimKey)return t.primaryKey;var r=t.getIndexByKeyPath(e.index);if(!r)throw new C.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function qr(e,t,r){var a=Yt(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:a,range:e.range}})}function $t(e,t,r,a){var i=e.replayFilter?ze(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},s=function(c,p,l){if(!i||i(p,l,function(f){return p.stop(f)},function(f){return p.fail(f)})){var d=p.primaryKey,u=""+d;u==="[object ArrayBuffer]"&&(u=""+new Uint8Array(d)),ce(o,u)||(o[u]=!0,t(c,p,l))}};return Promise.all([e.or._iterate(s,r),Ur(qr(e,a,r),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}else return Ur(qr(e,a,r),ze(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Ur(e,t,r,a){var i=a?function(s,c,p){return r(a(s),c,p)}:r,o=G(i);return e.then(function(s){if(s)return s.start(function(){var c=function(){return s.continue()};(!t||t(s,function(p){return c=p},function(p){s.stop(p),c=F},function(p){s.fail(p),c=F}))&&o(s.value,s,function(p){return c=p}),c()})})}var DI=function(){function e(){}return e.prototype._read=function(t,r){var a=this._ctx;return a.error?a.table._trans(null,ne.bind(null,a.error)):a.table._trans("readonly",t).then(r)},e.prototype._write=function(t){var r=this._ctx;return r.error?r.table._trans(null,ne.bind(null,r.error)):r.table._trans("readwrite",t,"locked")},e.prototype._addAlgorithm=function(t){var r=this._ctx;r.algorithm=ze(r.algorithm,t)},e.prototype._iterate=function(t,r){return $t(this._ctx,t,r,this._ctx.table.core)},e.prototype.clone=function(t){var r=Object.create(this.constructor.prototype),a=Object.create(this._ctx);return t&&oe(a,t),r._ctx=a,r},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(t){var r=this._ctx;return this._read(function(a){return $t(r,t,a,r.table.core)})},e.prototype.count=function(t){var r=this;return this._read(function(a){var i=r._ctx,o=i.table.core;if(xt(i,!0))return o.count({trans:a,query:{index:Yt(i,o.schema),range:i.range}}).then(function(c){return Math.min(c,i.limit)});var s=0;return $t(i,function(){return++s,!1},a,o).then(function(){return s})}).then(t)},e.prototype.sortBy=function(t,r){var a=t.split(".").reverse(),i=a[0],o=a.length-1;function s(l,d){return d?s(l[a[d]],d-1):l[i]}var c=this._ctx.dir==="next"?1:-1;function p(l,d){var u=s(l,o),f=s(d,o);return u<f?-c:u>f?c:0}return this.toArray(function(l){return l.sort(p)}).then(r)},e.prototype.toArray=function(t){var r=this;return this._read(function(a){var i=r._ctx;if(i.dir==="next"&&xt(i,!0)&&i.limit>0){var o=i.valueMapper,s=Yt(i,i.table.core.schema);return i.table.core.query({trans:a,limit:i.limit,values:!0,query:{index:s,range:i.range}}).then(function(p){var l=p.result;return o?l.map(o):l})}else{var c=[];return $t(i,function(p){return c.push(p)},a,i.table.core).then(function(){return c})}},t)},e.prototype.offset=function(t){var r=this._ctx;return t<=0?this:(r.offset+=t,xt(r)?Cn(r,function(){var a=t;return function(i,o){return a===0?!0:a===1?(--a,!1):(o(function(){i.advance(a),a=0}),!1)}}):Cn(r,function(){var a=t;return function(){return--a<0}}),this)},e.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Cn(this._ctx,function(){var r=t;return function(a,i,o){return--r<=0&&i(o),r>=0}},!0),this},e.prototype.until=function(t,r){return Nn(this._ctx,function(a,i,o){return t(a.value)?(i(o),r):!0}),this},e.prototype.first=function(t){return this.limit(1).toArray(function(r){return r[0]}).then(t)},e.prototype.last=function(t){return this.reverse().first(t)},e.prototype.filter=function(t){return Nn(this._ctx,function(r){return t(r.value)}),BI(this._ctx,t),this},e.prototype.and=function(t){return this.filter(t)},e.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(a,i){t(i.key,i)})},e.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},e.prototype.eachPrimaryKey=function(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(a,i){t(i.primaryKey,i)})},e.prototype.keys=function(t){var r=this._ctx;r.keysOnly=!r.isMatch;var a=[];return this.each(function(i,o){a.push(o.key)}).then(function(){return a}).then(t)},e.prototype.primaryKeys=function(t){var r=this._ctx;if(r.dir==="next"&&xt(r,!0)&&r.limit>0)return this._read(function(i){var o=Yt(r,r.table.core.schema);return r.table.core.query({trans:i,values:!1,limit:r.limit,query:{index:o,range:r.range}})}).then(function(i){var o=i.result;return o}).then(t);r.keysOnly=!r.isMatch;var a=[];return this.each(function(i,o){a.push(o.primaryKey)}).then(function(){return a}).then(t)},e.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},e.prototype.firstKey=function(t){return this.limit(1).keys(function(r){return r[0]}).then(t)},e.prototype.lastKey=function(t){return this.reverse().firstKey(t)},e.prototype.distinct=function(){var t=this._ctx,r=t.index&&t.table.schema.idxByName[t.index];if(!r||!r.multi)return this;var a={};return Nn(this._ctx,function(i){var o=i.primaryKey.toString(),s=ce(a,o);return a[o]=!0,!s}),this},e.prototype.modify=function(t){var r=this,a=this._ctx;return this._write(function(i){var o;if(typeof t=="function")o=t;else{var s=ee(t),c=s.length;o=function(x){for(var b=!1,w=0;w<c;++w){var g=s[w],A=t[g];we(x,g)!==A&&(le(x,g,A),b=!0)}return b}}var p=a.table.core,l=p.schema.primaryKey,d=l.outbound,u=l.extractKey,f="testmode"in Et?1:2e3,v=r.db.core.cmp,m=[],h=0,y=[],E=function(x,b){var w=b.failures,g=b.numFailures;h+=x-g;for(var A=0,T=ee(w);A<T.length;A++){var S=T[A];m.push(w[S])}};return r.clone().primaryKeys().then(function(x){var b=function(w){var g=Math.min(f,x.length-w);return p.getMany({trans:i,keys:x.slice(w,w+g)}).then(function(A){for(var T=[],S=[],k=d?[]:null,R=[],O=0;O<g;++O){var U=A[O],B={value:Dt(U),primKey:x[w+O]};o.call(B,B.value,B)!==!1&&(B.value==null?R.push(x[w+O]):!d&&v(u(U),u(B.value))!==0?(R.push(x[w+O]),T.push(B.value)):(S.push(B.value),d&&k.push(x[w+O])))}return Promise.resolve(T.length>0&&p.mutate({trans:i,type:"add",values:T}).then(function(V){for(var z in V.failures)R.splice(parseInt(z),1);E(T.length,V)})).then(function(V){return S.length>0&&p.mutate({trans:i,type:"put",keys:k,values:S}).then(function(z){return E(S.length,z)})}).then(function(){return R.length>0&&p.mutate({trans:i,type:"delete",keys:R}).then(function(V){return E(R.length,V)})}).then(function(){return x.length>w+g&&b(w+f)})})};return b(0).then(function(){if(m.length>0)throw new jt("Error modifying one or more objects",m,h,y);return x.length})})})},e.prototype.delete=function(){var t=this._ctx,r=t.range;return xt(t)&&(t.isPrimKey&&!OI||r.type===3)?this._write(function(a){var i=t.table.core.schema.primaryKey,o=r;return t.table.core.count({trans:a,query:{index:i,range:o}}).then(function(s){return t.table.core.mutate({trans:a,type:"deleteRange",range:o}).then(function(c){var p=c.failures,l=c.lastResult,d=c.results,u=c.numFailures;if(u)throw new jt("Could not delete some values",Object.keys(p).map(function(f){return p[f]}),s-u);return s-u})})}):this.modify(function(a,i){return i.value=null})},e}();function jI(e){return wt(DI.prototype,function(r,a){this.db=e;var i=Wr,o=null;if(a)try{i=a()}catch(l){o=l}var s=r._ctx,c=s.table,p=c.hook.reading.fire;this._ctx={table:c,index:s.index,isPrimKey:!s.index||c.schema.primKey.keyPath&&s.index===c.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:Infinity,error:o,or:s.or,valueMapper:p!==ut?p:null}})}function MI(e,t){return e<t?-1:e===t?0:1}function PI(e,t){return e>t?-1:e===t?0:1}function se(e,t,r){var a=e instanceof Kr?new e.Collection(e):e;return a._ctx.error=r?new r(t):new TypeError(t),a}function Le(e){return new e.Collection(e,function(){return Fr("")}).limit(0)}function zI(e){return e==="next"?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function WI(e){return e==="next"?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function qI(e,t,r,a,i,o){for(var s=Math.min(e.length,a.length),c=-1,p=0;p<s;++p){var l=t[p];if(l!==a[p])return i(e[p],r[p])<0?e.substr(0,p)+r[p]+r.substr(p+1):i(e[p],a[p])<0?e.substr(0,p)+a[p]+r.substr(p+1):c>=0?e.substr(0,c)+t[c]+r.substr(c+1):null;i(e[p],l)<0&&(c=p)}return s<a.length&&o==="next"?e+r.substr(e.length):s<e.length&&o==="prev"?e.substr(0,r.length):c<0?null:e.substr(0,c)+a[c]+r.substr(c+1)}function Xt(e,t,r,a){var i,o,s,c,p,l,d,u=r.length;if(!r.every(function(h){return typeof h=="string"}))return se(e,Pr);function f(h){i=zI(h),o=WI(h),s=h==="next"?MI:PI;var y=r.map(function(E){return{lower:o(E),upper:i(E)}}).sort(function(E,x){return s(E.lower,x.lower)});c=y.map(function(E){return E.upper}),p=y.map(function(E){return E.lower}),l=h,d=h==="next"?"":a}f("next");var v=new e.Collection(e,function(){return Oe(c[0],p[u-1]+a)});v._ondirectionchange=function(h){f(h)};var m=0;return v._addAlgorithm(function(h,y,E){var x=h.key;if(typeof x!="string")return!1;var b=o(x);if(t(b,p,m))return!0;for(var w=null,g=m;g<u;++g){var A=qI(x,b,c[g],p[g],s,l);A===null&&w===null?m=g+1:(w===null||s(w,A)>0)&&(w=A)}return w!==null?y(function(){h.continue(w+d)}):y(E),!1}),v}function Oe(e,t,r,a){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:a}}function Fr(e){return{type:1,lower:e,upper:e}}var Kr=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!0,configurable:!0}),e.prototype.between=function(t,r,a,i){a=a!==!1,i=i===!0;try{return this._cmp(t,r)>0||this._cmp(t,r)===0&&(a||i)&&!(a&&i)?Le(this):new this.Collection(this,function(){return Oe(t,r,!a,!i)})}catch(o){return se(this,Re)}},e.prototype.equals=function(t){return new this.Collection(this,function(){return Fr(t)})},e.prototype.above=function(t){return t==null?se(this,Re):new this.Collection(this,function(){return Oe(t,void 0,!0)})},e.prototype.aboveOrEqual=function(t){return t==null?se(this,Re):new this.Collection(this,function(){return Oe(t,void 0,!1)})},e.prototype.below=function(t){return t==null?se(this,Re):new this.Collection(this,function(){return Oe(void 0,t,!1,!0)})},e.prototype.belowOrEqual=function(t){return t==null?se(this,Re):new this.Collection(this,function(){return Oe(void 0,t)})},e.prototype.startsWith=function(t){return typeof t!="string"?se(this,Pr):this.between(t,t+Xe,!0,!0)},e.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):Xt(this,function(r,a){return r.indexOf(a[0])===0},[t],Xe)},e.prototype.equalsIgnoreCase=function(t){return Xt(this,function(r,a){return r===a[0]},[t],"")},e.prototype.anyOfIgnoreCase=function(){var t=xe.apply(Ge,arguments);return t.length===0?Le(this):Xt(this,function(r,a){return a.indexOf(r)!==-1},t,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var t=xe.apply(Ge,arguments);return t.length===0?Le(this):Xt(this,function(r,a){return a.some(function(i){return r.indexOf(i)===0})},t,Xe)},e.prototype.anyOf=function(){var t=this,r=xe.apply(Ge,arguments),a=this._cmp;try{r.sort(a)}catch(s){return se(this,Re)}if(r.length===0)return Le(this);var i=new this.Collection(this,function(){return Oe(r[0],r[r.length-1])});i._ondirectionchange=function(s){a=s==="next"?t._ascending:t._descending,r.sort(a)};var o=0;return i._addAlgorithm(function(s,c,p){for(var l=s.key;a(l,r[o])>0;)if(++o,o===r.length)return c(p),!1;return a(l,r[o])===0?!0:(c(function(){s.continue(r[o])}),!1)}),i},e.prototype.notEqual=function(t){return this.inAnyRange([[Sn,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var t=xe.apply(Ge,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch(a){return se(this,Re)}var r=t.reduce(function(a,i){return a?a.concat([[a[a.length-1][1],i]]):[[Sn,i]]},null);return r.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(t,r){var a=this,i=this._cmp,o=this._ascending,s=this._descending,c=this._min,p=this._max;if(t.length===0)return Le(this);if(!t.every(function(g){return g[0]!==void 0&&g[1]!==void 0&&o(g[0],g[1])<=0}))return se(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",C.InvalidArgument);var l=!r||r.includeLowers!==!1,d=r&&r.includeUppers===!0;function u(g,A){for(var T=0,S=g.length;T<S;++T){var k=g[T];if(i(A[0],k[1])<0&&i(A[1],k[0])>0){k[0]=c(k[0],A[0]),k[1]=p(k[1],A[1]);break}}return T===S&&g.push(A),g}var f=o;function v(g,A){return f(g[0],A[0])}var m;try{m=t.reduce(u,[]),m.sort(v)}catch(g){return se(this,Re)}var h=0,y=d?function(g){return o(g,m[h][1])>0}:function(g){return o(g,m[h][1])>=0},E=l?function(g){return s(g,m[h][0])>0}:function(g){return s(g,m[h][0])>=0};function x(g){return!y(g)&&!E(g)}var b=y,w=new this.Collection(this,function(){return Oe(m[0][0],m[m.length-1][1],!l,!d)});return w._ondirectionchange=function(g){g==="next"?(b=y,f=o):(b=E,f=s),m.sort(v)},w._addAlgorithm(function(g,A,T){for(var S=g.key;b(S);)if(++h,h===m.length)return A(T),!1;return x(S)?!0:(a._cmp(S,m[h][1])===0||a._cmp(S,m[h][0])===0||A(function(){f===o?g.continue(m[h][0]):g.continue(m[h][1])}),!1)}),w},e.prototype.startsWithAnyOf=function(){var t=xe.apply(Ge,arguments);return t.every(function(r){return typeof r=="string"})?t.length===0?Le(this):this.inAnyRange(t.map(function(r){return[r,r+Xe]})):se(this,"startsWithAnyOf() only works with strings")},e}();function UI(e){return wt(Kr.prototype,function(r,a,i){this.db=e,this._ctx={table:r,index:a===":id"?null:a,or:i};var o=e._deps.indexedDB;if(!o)throw new C.MissingAPI("indexedDB API missing");this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(s,c){return o.cmp(c,s)},this._max=function(s,c){return o.cmp(s,c)>0?s:c},this._min=function(s,c){return o.cmp(s,c)<0?s:c},this._IDBKeyRange=e._deps.IDBKeyRange})}function Hr(e){return e.length===1?e[0]:e}function Bn(e){try{return e.only([[]]),[[]]}catch(t){return Xe}}function he(e){return G(function(t){return _t(t),e(t.target.error),!1})}function _t(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var KI=function(){function e(){}return e.prototype._lock=function(){return lt(!N.global),++this._reculock,this._reculock===1&&!N.global&&(N.lockOwnerFor=this),this},e.prototype._unlock=function(){if(lt(!N.global),--this._reculock===0)for(N.global||(N.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{mt(t[1],t[0])}catch(r){}}return this},e.prototype._locked=function(){return this._reculock&&N.lockOwnerFor!==this},e.prototype.create=function(t){var r=this;if(!this.mode)return this;var a=this.db.idbdb,i=this.db._state.dbOpenError;if(lt(!this.idbtrans),!t&&!a)switch(i&&i.name){case"DatabaseClosedError":throw new C.DatabaseClosed(i);case"MissingAPIError":throw new C.MissingAPI(i.message,i);default:throw new C.OpenFailed(i)}if(!this.active)throw new C.TransactionInactive;return lt(this._completion._state===null),t=this.idbtrans=t||a.transaction(Hr(this.storeNames),this.mode),t.onerror=G(function(o){_t(o),r._reject(t.error)}),t.onabort=G(function(o){_t(o),r.active&&r._reject(new C.Abort(t.error)),r.active=!1,r.on("abort").fire(o)}),t.oncomplete=G(function(){r.active=!1,r._resolve()}),this},e.prototype._promise=function(t,r,a){var i=this;if(t==="readwrite"&&this.mode!=="readwrite")return ne(new C.ReadOnly("Transaction is readonly"));if(!this.active)return ne(new C.TransactionInactive);if(this._locked())return new I(function(s,c){i._blockedFuncs.push([function(){i._promise(t,r,a).then(s,c)},N])});if(a)return Pe(function(){var s=new I(function(c,p){i._lock();var l=r(c,p,i);l&&l.then&&l.then(c,p)});return s.finally(function(){return i._unlock()}),s._lib=!0,s});var o=new I(function(s,c){var p=r(s,c,i);p&&p.then&&p.then(s,c)});return o._lib=!0,o},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(t){var r=this._root(),a=I.resolve(t);if(r._waitingFor)r._waitingFor=r._waitingFor.then(function(){return a});else{r._waitingFor=a,r._waitingQueue=[];var i=r.idbtrans.objectStore(r.storeNames[0]);(function s(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(i.get(-Infinity).onsuccess=s)})()}var o=r._waitingFor;return new I(function(s,c){a.then(function(p){return r._waitingQueue.push(G(s.bind(null,p)))},function(p){return r._waitingQueue.push(G(c.bind(null,p)))}).finally(function(){r._waitingFor===o&&(r._waitingFor=null)})})},e.prototype.abort=function(){this.active&&this._reject(new C.Abort),this.active=!1},e.prototype.table=function(t){var r=this._memoizedTables||(this._memoizedTables={});if(ce(r,t))return r[t];var a=this.schema[t];if(!a)throw new C.NotFound("Table "+t+" not part of transaction");var i=new this.db.Table(t,a,this);return i.core=this.db.core.table(t),r[t]=i,i},e}();function FI(e){return wt(KI.prototype,function(r,a,i,o){var s=this;this.db=e,this.mode=r,this.storeNames=a,this.schema=i,this.idbtrans=null,this.on=Qt(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new I(function(c,p){s._resolve=c,s._reject=p}),this._completion.then(function(){s.active=!1,s.on.complete.fire()},function(c){var p=s.active;return s.active=!1,s.on.error.fire(c),s.parent?s.parent._reject(c):p&&s.idbtrans&&s.idbtrans.abort(),ne(c)})})}function Dn(e,t,r,a,i,o,s){return{name:e,keyPath:t,unique:r,multi:a,auto:i,compound:o,src:(r&&!s?"&":"")+(a?"*":"")+(i?"++":"")+Vr(t)}}function Vr(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Gr(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:dr(r,function(a){return[a.name,a]})}}function jn(e){return e==null?function(){return}:typeof e=="string"?HI(e):function(t){return we(t,e)}}function HI(e){var t=e.split(".");return t.length===1?function(r){return r[e]}:function(r){return we(r,e)}}function Jr(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}function VI(e,t,r){return t.type==="add"?Promise.resolve(new Array(t.values.length)):e.getMany({trans:t.trans,keys:r})}function Qr(e){return[].slice.call(e)}var GI=0;function kt(e){return e==null?":id":typeof e=="string"?e:"["+e.join("+")+"]"}function JI(e,t,r,a){var i=t.cmp.bind(t);function o(v,m){var h=Qr(v.objectStoreNames);return{schema:{name:v.name,tables:h.map(function(y){return m.objectStore(y)}).map(function(y){var E=y.keyPath,x=y.autoIncrement,b=re(E),w=E==null,g={},A={name:y.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:w,compound:b,keyPath:E,autoIncrement:x,unique:!0,extractKey:jn(E)},indexes:Qr(y.indexNames).map(function(T){return y.index(T)}).map(function(T){var S=T.name,k=T.unique,R=T.multiEntry,O=T.keyPath,U=re(O),B={name:S,compound:U,keyPath:O,unique:k,multiEntry:R,extractKey:jn(O)};return g[kt(O)]=B,B}),getIndexByKeyPath:function(T){return g[kt(T)]}};return g[":id"]=A.primaryKey,E!=null&&(g[kt(E)]=A.primaryKey),A})},hasGetAll:h.length>0&&"getAll"in m.objectStore(h[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function s(v){if(v.type===3)return null;if(v.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var m=v.lower,h=v.upper,y=v.lowerOpen,E=v.upperOpen,x=m===void 0?h===void 0?null:r.upperBound(h,!!E):h===void 0?r.lowerBound(m,!!y):r.bound(m,h,!!y,!!E);return x}function c(v){var m=v.name;function h(x){var b=x.trans,w=x.type,g=x.keys,A=x.values,T=x.range,S=x.wantResults;return new Promise(function(k,R){k=G(k);var O=b.objectStore(m),U=O.keyPath==null,B=w==="put"||w==="add";if(!B&&w!=="delete"&&w!=="deleteRange")throw new Error("Invalid operation type: "+w);var V=(g||A||{length:1}).length;if(g&&A&&g.length!==A.length)throw new Error("Given keys array must have same length as given values array.");if(V===0)return k({numFailures:0,failures:{},results:[],lastResult:void 0});var z=S&&sn(g||Jr(v.primaryKey,{type:w,keys:g,values:A})),W,D=[],ae=0,Q=function(Y){++ae,_t(Y),z&&(z[Y.target._reqno]=void 0),D[Y.target._reqno]=Y.target.error},We=function(Y){var _e=Y.target;z[_e._reqno]=_e.result};if(w==="deleteRange"){if(T.type===4)return k({numFailures:ae,failures:D,results:z,lastResult:void 0});T.type===3?W=O.clear():W=O.delete(s(T))}else{var me=B?U?[A,g]:[A,null]:[g,null],rt=me[0],ve=me[1];if(B)for(var L=0;L<V;++L)W=ve&&ve[L]!==void 0?O[w](rt[L],ve[L]):O[w](rt[L]),W._reqno=L,z&&z[L]===void 0&&(W.onsuccess=We),W.onerror=Q;else for(var L=0;L<V;++L)W=O[w](rt[L]),W._reqno=L,W.onerror=Q}var qe=function(Y){var _e=Y.target.result;z&&(z[V-1]=_e),k({numFailures:ae,failures:D,results:z,lastResult:_e})};W.onerror=function(Y){Q(Y),qe(Y)},W.onsuccess=qe})}function y(x){var b=x.trans,w=x.values,g=x.query,A=x.reverse,T=x.unique;return new Promise(function(S,k){S=G(S);var R=g.index,O=g.range,U=b.objectStore(m),B=R.isPrimaryKey?U:U.index(R.name),V=A?T?"prevunique":"prev":T?"nextunique":"next",z=w||!("openKeyCursor"in B)?B.openCursor(s(O),V):B.openKeyCursor(s(O),V);z.onerror=he(k),z.onsuccess=G(function(W){var D=z.result;if(!D){S(null);return}D.___id=++GI,D.done=!1;var ae=D.continue.bind(D),Q=D.continuePrimaryKey;Q&&(Q=Q.bind(D));var We=D.advance.bind(D),me=function(){throw new Error("Cursor not started")},rt=function(){throw new Error("Cursor not stopped")};D.trans=b,D.stop=D.continue=D.continuePrimaryKey=D.advance=me,D.fail=G(k),D.next=function(){var ve=this,L=1;return this.start(function(){return L--?ve.continue():ve.stop()}).then(function(){return ve})},D.start=function(ve){var L=new Promise(function(Y,_e){Y=G(Y),z.onerror=he(_e),D.fail=_e,D.stop=function(fa){D.stop=D.continue=D.continuePrimaryKey=D.advance=rt,Y(fa)}}),qe=function(){if(z.result)try{ve()}catch(Y){D.fail(Y)}else D.done=!0,D.start=function(){throw new Error("Cursor behind last entry")},D.stop()};return z.onsuccess=G(function(Y){z.onsuccess=qe,qe()}),D.continue=ae,D.continuePrimaryKey=Q,D.advance=We,qe(),L},S(D)},k)})}function E(x){return function(b){return new Promise(function(w,g){w=G(w);var A=b.trans,T=b.values,S=b.limit,k=b.query,R=S===Infinity?void 0:S,O=k.index,U=k.range,B=A.objectStore(m),V=O.isPrimaryKey?B:B.index(O.name),z=s(U);if(S===0)return w({result:[]});if(x){var W=T?V.getAll(z,R):V.getAllKeys(z,R);W.onsuccess=function(We){return w({result:We.target.result})},W.onerror=he(g)}else{var D=0,ae=T||!("openKeyCursor"in V)?V.openCursor(z):V.openKeyCursor(z),Q=[];ae.onsuccess=function(We){var me=ae.result;if(!me)return w({result:Q});if(Q.push(T?me.value:me.primaryKey),++D===S)return w({result:Q});me.continue()},ae.onerror=he(g)}})}}return{name:m,schema:v,mutate:h,getMany:function(x){var b=x.trans,w=x.keys;return new Promise(function(g,A){g=G(g);for(var T=b.objectStore(m),S=w.length,k=new Array(S),R=0,O=0,U=0,B,V=function(ae){var Q=ae.target;(k[Q._pos]=Q.result)!=null&&++U,++O===R&&g(k)},z=he(A),W=0;W<S;++W){var D=w[W];D!=null&&(B=T.get(w[W]),B._pos=W,B.onsuccess=V,B.onerror=z,++R)}R===0&&g(k)})},get:function(x){var b=x.trans,w=x.key;return new Promise(function(g,A){g=G(g);var T=b.objectStore(m),S=T.get(w);S.onsuccess=function(k){return g(k.target.result)},S.onerror=he(A)})},query:E(d),openCursor:y,count:function(x){var b=x.query,w=x.trans,g=b.index,A=b.range;return new Promise(function(T,S){var k=w.objectStore(m),R=g.isPrimaryKey?k:k.index(g.name),O=s(A),U=O?R.count(O):R.count();U.onsuccess=G(function(B){return T(B.target.result)}),U.onerror=he(S)})}}}var p=o(e,a),l=p.schema,d=p.hasGetAll,u=l.tables.map(function(v){return c(v)}),f={};return u.forEach(function(v){return f[v.name]=v}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(v){var m=f[v];if(!m)throw new Error("Table '"+v+"' not found");return f[v]},cmp:i,MIN_KEY:-Infinity,MAX_KEY:Bn(r),schema:l}}function QI(e,t){return t.reduce(function(r,a){var i=a.create;return K(K({},r),i(r))},e)}function YI(e,t,r,a){var i=r.IDBKeyRange,o=r.indexedDB,s=QI(JI(t,o,i,a),e.dbcore);return{dbcore:s}}function Mn(e,t){var r=t.db,a=YI(e._middlewares,r,e._deps,t);e.core=a.dbcore,e.tables.forEach(function(i){var o=i.name;e.core.schema.tables.some(function(s){return s.name===o})&&(i.core=e.core.table(o),e[o]instanceof e.Table&&(e[o].core=i.core))})}function Lt(e,t,r,a){r.forEach(function(i){var o=a[i];t.forEach(function(s){i in s||(s===e.Transaction.prototype||s instanceof e.Transaction?be(s,i,{get:function(){return this.table(i)},set:function(c){cr(this,i,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):s[i]=new e.Table(i,o))})})}function Pn(e,t){t.forEach(function(r){for(var a in r)r[a]instanceof e.Table&&delete r[a]})}function $I(e,t){return e._cfg.version-t._cfg.version}function LI(e,t,r,a){var i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(r),o._completion.catch(a);var s=o._reject.bind(o),c=N.transless||N;Pe(function(){N.trans=o,N.transless=c,t===0?(ee(i).forEach(function(p){zn(r,p,i[p].primKey,i[p].indexes)}),Mn(e,r),I.follow(function(){return e.on.populate.fire(o)}).catch(s)):XI(e,t,o,r).catch(s)})}function XI(e,t,r,a){var i=[],o=e._versions,s=e._dbSchema=Yr(e,e.idbdb,a),c=!1,p=o.filter(function(d){return d._cfg.version>=t});p.forEach(function(d){i.push(function(){var u=s,f=d._cfg.dbschema;qn(e,u,a),qn(e,f,a),s=e._dbSchema=f;var v=ZI(u,f);v.add.forEach(function(b){zn(a,b[0],b[1].primKey,b[1].indexes)}),v.change.forEach(function(b){if(b.recreate)throw new C.Upgrade("Not yet support for changing primary key");var w=a.objectStore(b.name);b.add.forEach(function(g){return Wn(w,g)}),b.change.forEach(function(g){w.deleteIndex(g.name),Wn(w,g)}),b.del.forEach(function(g){return w.deleteIndex(g)})});var m=d._cfg.contentUpgrade;if(m&&d._cfg.version>t){Mn(e,a),c=!0;var h=fr(f);v.del.forEach(function(b){h[b]=u[b]}),Pn(e,[e.Transaction.prototype]),Lt(e,[e.Transaction.prototype],ee(h),h),r.schema=h;var y=gr(m);y&&yt();var E,x=I.follow(function(){if(E=m(r),E&&y){var b=$e.bind(null,null);E.then(b,b)}});return E&&typeof E.then=="function"?I.resolve(E):x.then(function(){return E})}}),i.push(function(u){if(!c||!RI){var f=d._cfg.dbschema;tA(f,u)}Pn(e,[e.Transaction.prototype]),Lt(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),r.schema=e._dbSchema})});function l(){return i.length?I.resolve(i.shift()(r.idbtrans)).then(l):I.resolve()}return l().then(function(){eA(s,a)})}function ZI(e,t){var r={del:[],add:[],change:[]},a;for(a in e)t[a]||r.del.push(a);for(a in t){var i=e[a],o=t[a];if(!i)r.add.push([a,o]);else{var s={name:a,def:o,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==o.primKey.src&&!Tn)s.recreate=!0,r.change.push(s);else{var c=i.idxByName,p=o.idxByName,l=void 0;for(l in c)p[l]||s.del.push(l);for(l in p){var d=c[l],u=p[l];d?d.src!==u.src&&s.change.push(u):s.add.push(u)}(s.del.length>0||s.add.length>0||s.change.length>0)&&r.change.push(s)}}}return r}function zn(e,t,r,a){var i=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return a.forEach(function(o){return Wn(i,o)}),i}function eA(e,t){ee(e).forEach(function(r){t.db.objectStoreNames.contains(r)||zn(t,r,e[r].primKey,e[r].indexes)})}function tA(e,t){for(var r=0;r<t.db.objectStoreNames.length;++r){var a=t.db.objectStoreNames[r];e[a]==null&&t.db.deleteObjectStore(a)}}function Wn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Yr(e,t,r){var a={},i=Bt(t.objectStoreNames,0);return i.forEach(function(o){for(var s=r.objectStore(o),c=s.keyPath,p=Dn(Vr(c),c||"",!1,!1,!!s.autoIncrement,c&&typeof c!="string",!0),l=[],d=0;d<s.indexNames.length;++d){var u=s.index(s.indexNames[d]);c=u.keyPath;var f=Dn(u.name,c,!!u.unique,!!u.multiEntry,!1,c&&typeof c!="string",!1);l.push(f)}a[o]=Gr(o,p,l)}),a}function nA(e,t,r){e.verno=t.version/10;var a=e._dbSchema=Yr(e,t,r);e._storeNames=Bt(t.objectStoreNames,0),Lt(e,[e._allTables],ee(a),a)}function qn(e,t,r){for(var a=r.db.objectStoreNames,i=0;i<a.length;++i){var o=a[i],s=r.objectStore(o);e._hasGetAll="getAll"in s;for(var c=0;c<s.indexNames.length;++c){var p=s.indexNames[c],l=s.index(p).keyPath,d=typeof l=="string"?l:"["+Bt(l).join("+")+"]";if(t[o]){var u=t[o].idxByName[d];u&&(u.name=p,delete t[o].idxByName[d],t[o].idxByName[p]=u)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&H.WorkerGlobalScope&&H instanceof H.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function rA(e){return e.split(",").map(function(t,r){t=t.trim();var a=t.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(a)?a.match(/^\[(.*)\]$/)[1].split("+"):a;return Dn(a,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),re(i),r===0)})}var aA=function(){function e(){}return e.prototype._parseStoresSpec=function(t,r){ee(t).forEach(function(a){if(t[a]!==null){var i=rA(t[a]),o=i.shift();if(o.multi)throw new C.Schema("Primary key cannot be multi-valued");i.forEach(function(s){if(s.auto)throw new C.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new C.Schema("Index must have a name and cannot be an empty string")}),r[a]=Gr(a,o,i)}})},e.prototype.stores=function(t){var r=this.db;this._cfg.storesSource=this._cfg.storesSource?oe(this._cfg.storesSource,t):t;var a=r._versions,i={},o={};return a.forEach(function(s){oe(i,s._cfg.storesSource),o=s._cfg.dbschema={},s._parseStoresSpec(i,o)}),r._dbSchema=o,Pn(r,[r._allTables,r,r.Transaction.prototype]),Lt(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],ee(o),o),r._storeNames=ee(o),this},e.prototype.upgrade=function(t){return this._cfg.contentUpgrade=t,this},e}();function iA(e){return wt(aA.prototype,function(r){this.db=e,this._cfg={version:r,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}var It;function oA(e){var t=e&&typeof e.databases=="function",r;if(!t){var a=new Et(Jt,{addons:[]});a.version(1).stores({dbnames:"name"}),r=a.table("dbnames")}return{getDatabaseNames:function(){return t?I.resolve(e.databases()).then(function(i){return i.map(function(o){return o.name}).filter(function(o){return o!==Jt})}):r.toCollection().primaryKeys()},add:function(i){return!t&&i!==Jt&&r.put({name:i}).catch(F)},remove:function(i){return!t&&i!==Jt&&r.delete(i).catch(F)}}}function sA(e){try{It=oA(e)}catch(t){}}function Un(e){return Pe(function(){return N.letThrough=!0,e()})}function cA(e){var t=e._state,r=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?ne(t.dbOpenError):e});fe&&(t.openCanceller._stackHolder=Je()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var a=t.dbReadyResolve,i=null;return I.race([t.openCanceller,new I(function(o,s){if(!r)throw new C.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var c=e.name,p=t.autoSchema?r.open(c):r.open(c,Math.round(e.verno*10));if(!p)throw new C.MissingAPI("IndexedDB API not available");p.onerror=he(s),p.onblocked=G(e._fireOnBlocked),p.onupgradeneeded=G(function(l){if(i=p.transaction,t.autoSchema&&!e._options.allowEmptyDB){p.onerror=_t,i.abort(),p.result.close();var d=r.deleteDatabase(c);d.onsuccess=d.onerror=G(function(){s(new C.NoSuchDatabase("Database "+c+" doesnt exist"))})}else{i.onerror=he(s);var u=l.oldVersion>Math.pow(2,62)?0:l.oldVersion;e.idbdb=p.result,LI(e,u/10,i,s)}},s),p.onsuccess=G(function(){i=null;var l=e.idbdb=p.result,d=Bt(l.objectStoreNames);if(d.length>0)try{var u=l.transaction(Hr(d),"readonly");t.autoSchema?nA(e,l,u):qn(e,e._dbSchema,u),Mn(e,u)}catch(f){}bt.push(e),l.onversionchange=G(function(f){t.vcFired=!0,e.on("versionchange").fire(f)}),It.add(c),o()},s)})]).then(function(){return t.onReadyBeingFired=[],I.resolve(Un(e.on.ready.fire)).then(function o(){if(t.onReadyBeingFired.length>0){var s=t.onReadyBeingFired.reduce(_r,F);return t.onReadyBeingFired=[],I.resolve(Un(s)).then(o)}})}).finally(function(){t.onReadyBeingFired=null}).then(function(){return t.isBeingOpened=!1,e}).catch(function(o){try{i&&i.abort()}catch(s){}return t.isBeingOpened=!1,e.close(),t.dbOpenError=o,ne(t.dbOpenError)}).finally(function(){t.openComplete=!0,a()})}function Kn(e){var t=function(s){return e.next(s)},r=function(s){return e.throw(s)},a=o(t),i=o(r);function o(s){return function(c){var p=s(c),l=p.value;return p.done?l:!l||typeof l.then!="function"?re(l)?Promise.all(l).then(a,i):a(l):l.then(a,i)}}return o(t)()}function lA(e,t,r){var a=arguments.length;if(a<2)throw new C.InvalidArgument("Too few arguments");for(var i=new Array(a-1);--a;)i[a-1]=arguments[a];r=i.pop();var o=hr(i);return[e,o,r]}function pA(e,t,r,a,i){return I.resolve().then(function(){var o=N.transless||N,s=e._createTransaction(t,r,e._dbSchema,a),c={trans:s,transless:o};a?s.idbtrans=a.idbtrans:s.create();var p=gr(i);p&&yt();var l,d=I.follow(function(){if(l=i.call(s,s),l)if(p){var u=$e.bind(null,null);l.then(u,u)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=Kn(l))},c);return(l&&typeof l.then=="function"?I.resolve(l).then(function(u){return s.active?u:ne(new C.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):d.then(function(){return l})).then(function(u){return a&&s._resolve(),s._completion.then(function(){return u})}).catch(function(u){return s._reject(u),ne(u)})})}function At(e,t,r){for(var a=re(e)?e.slice():[e],i=0;i<r;++i)a.push(t);return a}function uA(e){return K(K({},e),{table:function(t){var r=e.table(t),a=r.schema,i={},o=[];function s(h,y,E){var x=kt(h),b=i[x]=i[x]||[],w=h==null?0:typeof h=="string"?1:h.length,g=y>0,A=K(K({},E),{isVirtual:g,isPrimaryKey:!g&&E.isPrimaryKey,keyTail:y,keyLength:w,extractKey:jn(h),unique:!g&&E.unique});if(b.push(A),A.isPrimaryKey||o.push(A),w>1){var T=w===2?h[0]:h.slice(0,w-1);s(T,y+1,E)}return b.sort(function(S,k){return S.keyTail-k.keyTail}),A}var c=s(a.primaryKey.keyPath,0,a.primaryKey);i[":id"]=[c];for(var p=0,l=a.indexes;p<l.length;p++){var d=l[p];s(d.keyPath,0,d)}function u(h){var y=i[kt(h)];return y&&y[0]}function f(h,y){return{type:h.type===1?2:h.type,lower:At(h.lower,h.lowerOpen?e.MAX_KEY:e.MIN_KEY,y),lowerOpen:!0,upper:At(h.upper,h.upperOpen?e.MIN_KEY:e.MAX_KEY,y),upperOpen:!0}}function v(h){var y=h.query.index;return y.isVirtual?K(K({},h),{query:{index:y,range:f(h.query.range,y.keyTail)}}):h}var m=K(K({},r),{schema:K(K({},a),{primaryKey:c,indexes:o,getIndexByKeyPath:u}),count:function(h){return r.count(v(h))},query:function(h){return r.query(v(h))},openCursor:function(h){var y=h.query.index,E=y.keyTail,x=y.isVirtual,b=y.keyLength;if(!x)return r.openCursor(h);function w(g){function A(S){S!=null?g.continue(At(S,h.reverse?e.MAX_KEY:e.MIN_KEY,E)):h.unique?g.continue(At(g.key,h.reverse?e.MIN_KEY:e.MAX_KEY,E)):g.continue()}var T=Object.create(g,{continue:{value:A},continuePrimaryKey:{value:function(S,k){g.continuePrimaryKey(At(S,e.MAX_KEY,E),k)}},key:{get:function(){var S=g.key;return b===1?S[0]:S.slice(0,b)}},value:{get:function(){return g.value}}});return T}return r.openCursor(v(h)).then(function(g){return g&&w(g)})}});return m}})}var dA={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:uA},fA={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return K(K({},e),{table:function(t){var r=e.table(t),a=r.schema.primaryKey,i=K(K({},r),{mutate:function(o){var s=N.trans,c=s.table(t).hook,p=c.deleting,l=c.creating,d=c.updating;switch(o.type){case"add":if(l.fire===F)break;return s._promise("readwrite",function(){return u(o)},!0);case"put":if(l.fire===F&&d.fire===F)break;return s._promise("readwrite",function(){return u(o)},!0);case"delete":if(p.fire===F)break;return s._promise("readwrite",function(){return u(o)},!0);case"deleteRange":if(p.fire===F)break;return s._promise("readwrite",function(){return f(o)},!0)}return r.mutate(o);function u(m){var h=N.trans,y=m.keys||Jr(a,m);if(!y)throw new Error("Keys missing");return m=m.type==="add"||m.type==="put"?K(K({},m),{keys:y,wantResults:!0}):K({},m),m.type!=="delete"&&(m.values=sn(m.values)),m.keys&&(m.keys=sn(m.keys)),VI(r,m,y).then(function(E){var x=y.map(function(b,w){var g=E[w],A={onerror:null,onsuccess:null};if(m.type==="delete")p.fire.call(A,b,g,h);else if(m.type==="add"||g===void 0){var T=l.fire.call(A,b,m.values[w],h);b==null&&T!=null&&(b=T,m.keys[w]=b,a.outbound||le(m.values[w],a.keyPath,b))}else{var S=pn(g,m.values[w]),k=d.fire.call(A,S,b,g,h);if(k){var R=m.values[w];Object.keys(k).forEach(function(O){le(R,O,k[O])})}}return A});return r.mutate(m).then(function(b){for(var w=b.failures,g=b.results,A=b.numFailures,T=b.lastResult,S=0;S<y.length;++S){var k=g?g[S]:y[S],R=x[S];k==null?R.onerror&&R.onerror(w[S]):R.onsuccess&&R.onsuccess(m.type==="put"&&E[S]?m.values[S]:k)}return{failures:w,results:g,numFailures:A,lastResult:T}}).catch(function(b){return x.forEach(function(w){return w.onerror&&w.onerror(b)}),Promise.reject(b)})})}function f(m){return v(m.trans,m.range,1e4)}function v(m,h,y){return r.query({trans:m,values:!1,query:{index:a,range:h},limit:y}).then(function(E){var x=E.result;return u({type:"delete",keys:x,trans:m}).then(function(b){return b.numFailures>0?Promise.reject(b.failures[0]):x.length<y?{failures:[],numFailures:0,lastResult:void 0}:v(m,K(K({},h),{lower:x[x.length-1],lowerOpen:!0}),y)})})}}});return i}})}},Et=function(){function e(t,r){var a=this;this._middlewares={},this.verno=0;var i=e.dependencies;this._options=r=K({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},r),this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};var o=r.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null;var s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:F,dbReadyPromise:null,cancelOpen:F,openCanceller:null,autoSchema:!0};s.dbReadyPromise=new I(function(c){s.dbReadyResolve=c}),s.openCanceller=new I(function(c,p){s.cancelOpen=p}),this._state=s,this.name=t,this.on=Qt(this,"populate","blocked","versionchange",{ready:[_r,F]}),this.on.ready.subscribe=pr(this.on.ready.subscribe,function(c){return function(p,l){e.vip(function(){var d=a._state;if(d.openComplete)d.dbOpenError||I.resolve().then(p),l&&c(p);else if(d.onReadyBeingFired)d.onReadyBeingFired.push(p),l&&c(p);else{c(p);var u=a;l||c(function f(){u.on.ready.unsubscribe(p),u.on.ready.unsubscribe(f)})}})}}),this.Collection=jI(this),this.Table=CI(this),this.Transaction=FI(this),this.Version=iA(this),this.WhereClause=UI(this),this.on("versionchange",function(c){c.newVersion>0?console.warn("Another connection wants to upgrade database '"+a.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+a.name+"'. Closing db now to resume the delete request."),a.close()}),this.on("blocked",function(c){!c.newVersion||c.newVersion<c.oldVersion?console.warn("Dexie.delete('"+a.name+"') was blocked"):console.warn("Upgrade '"+a.name+"' blocked by other connection holding version "+c.oldVersion/10)}),this._maxKey=Bn(r.IDBKeyRange),this._createTransaction=function(c,p,l,d){return new a.Transaction(c,p,l,d)},this._fireOnBlocked=function(c){a.on("blocked").fire(c),bt.filter(function(p){return p.name===a.name&&p!==a&&!p._state.vcFired}).map(function(p){return p.on("versionchange").fire(c)})},this.use(dA),this.use(fA),o.forEach(function(c){return c(a)})}return e.prototype.version=function(t){if(isNaN(t)||t<.1)throw new C.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new C.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var r=this._versions,a=r.filter(function(i){return i._cfg.version===t})[0];return a||(a=new this.Version(t),r.push(a),r.sort($I),a.stores({}),this._state.autoSchema=!1,a)},e.prototype._whenReady=function(t){var r=this;return this._state.openComplete||N.letThrough?t():new I(function(a,i){if(!r._state.isBeingOpened){if(!r._options.autoOpen){i(new C.DatabaseClosed);return}r.open().catch(F)}r._state.dbReadyPromise.then(a,i)}).then(t)},e.prototype.use=function(t){var r=t.stack,a=t.create,i=t.level,o=t.name;o&&this.unuse({stack:r,name:o});var s=this._middlewares[r]||(this._middlewares[r]=[]);return s.push({stack:r,create:a,level:i??10,name:o}),s.sort(function(c,p){return c.level-p.level}),this},e.prototype.unuse=function(t){var r=t.stack,a=t.name,i=t.create;return r&&this._middlewares[r]&&(this._middlewares[r]=this._middlewares[r].filter(function(o){return i?o.create!==i:a?o.name!==a:!1})),this},e.prototype.open=function(){return cA(this)},e.prototype.close=function(){var t=bt.indexOf(this),r=this._state;if(t>=0&&bt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(a){}this.idbdb=null}this._options.autoOpen=!1,r.dbOpenError=new C.DatabaseClosed,r.isBeingOpened&&r.cancelOpen(r.dbOpenError),r.dbReadyPromise=new I(function(a){r.dbReadyResolve=a}),r.openCanceller=new I(function(a,i){r.cancelOpen=i})},e.prototype.delete=function(){var t=this,r=arguments.length>0,a=this._state;return new I(function(i,o){var s=function(){t.close();var c=t._deps.indexedDB.deleteDatabase(t.name);c.onsuccess=G(function(){It.remove(t.name),i()}),c.onerror=he(o),c.onblocked=t._fireOnBlocked};if(r)throw new C.InvalidArgument("Arguments not allowed in db.delete()");a.isBeingOpened?a.dbReadyPromise.then(s):s()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var t=this;return ee(this._allTables).map(function(r){return t._allTables[r]})},enumerable:!0,configurable:!0}),e.prototype.transaction=function(){var t=lA.apply(this,arguments);return this._transaction.apply(this,t)},e.prototype._transaction=function(t,r,a){var i=this,o=N.trans;(!o||o.db!==this||t.indexOf("!")!==-1)&&(o=null);var s=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");var c,p;try{if(p=r.map(function(d){var u=d instanceof i.Table?d.name:d;if(typeof u!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return u}),t=="r"||t===Rn)c=Rn;else if(t=="rw"||t==On)c=On;else throw new C.InvalidArgument("Invalid transaction mode: "+t);if(o){if(o.mode===Rn&&c===On)if(s)o=null;else throw new C.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o&&p.forEach(function(d){if(o&&o.storeNames.indexOf(d)===-1)if(s)o=null;else throw new C.SubTransaction("Table "+d+" not included in parent transaction.")}),s&&o&&!o.active&&(o=null)}}catch(d){return o?o._promise(null,function(u,f){f(d)}):ne(d)}var l=pA.bind(null,this,c,p,o,a);return o?o._promise(c,l,"lock"):N.trans?mt(N.transless,function(){return i._whenReady(l)}):this._whenReady(l)},e.prototype.table=function(t){if(!ce(this._allTables,t))throw new C.InvalidTable("Table "+t+" does not exist");return this._allTables[t]},e}(),Ne=Et;ct(Ne,K(K({},Mt),{delete:function(e){var t=new Ne(e);return t.delete()},exists:function(e){return new Ne(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){return It?It.getDatabaseNames().then(e):I.resolve([])},defineClass:function(){function e(t){oe(this,t)}return e},ignoreTransaction:function(e){return N.trans?mt(N.transless,e):e()},vip:Un,async:function(e){return function(){try{var t=Kn(e.apply(this,arguments));return!t||typeof t.then!="function"?I.resolve(t):t}catch(r){return ne(r)}}},spawn:function(e,t,r){try{var a=Kn(e.apply(r,t||[]));return!a||typeof a.then!="function"?I.resolve(a):a}catch(i){return ne(i)}},currentTransaction:{get:function(){return N.trans||null}},waitFor:function(e,t){var r=I.resolve(typeof e=="function"?Ne.ignoreTransaction(e):e).timeout(t||6e4);return N.trans?N.trans.waitFor(r):r},Promise:I,debug:{get:function(){return fe},set:function(e){br(e,e==="dexie"?function(){return!0}:zr)}},derive:Ve,extend:oe,props:ct,override:pr,Events:Qt,getByKeyPath:we,setByKeyPath:le,delByKeyPath:eI,shallowClone:fr,deepClone:Dt,getObjectDiff:pn,asap:ur,minKey:Sn,addons:[],connections:bt,errnames:lI,dependencies:function(){try{return{indexedDB:H.indexedDB||H.mozIndexedDB||H.webkitIndexedDB||H.msIndexedDB,IDBKeyRange:H.IDBKeyRange||H.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:Mr,version:Mr.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,r){return e+t/Math.pow(10,r*2)}),default:Ne,Dexie:Ne}));Ne.maxKey=Bn(Ne.dependencies.IDBKeyRange);sA(Et.dependencies.indexedDB);I.rejectionMapper=uI;br(fe,zr);var M=Et;function $r(){}function hA(e,t){return e===$r?t:function(){var r=e.apply(this,arguments);if(r&&typeof r.then=="function"){var a=this,i=arguments;return r.then(function(){return t.apply(a,i)})}return t.apply(this,arguments)}}function Xr(){var e=Date.now(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var a=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(r==="x"?a:a&7|8).toString(16)});return t}function mA(e,t){return function(a){return function(i,o,s,c){if(e.dynamicallyOpened())return a.apply(this,arguments);var p=!1;i==="readwrite"&&o.some(function(d){return s[d]&&s[d].observable})&&(p=!0,o=o.slice(0),o.indexOf("_changes")===-1&&o.push("_changes"));var l=a.call(this,i,o,s,c);return p&&(l._lastWrittenRevision=0,l.on("complete",function(){if(l._lastWrittenRevision)if(!c)t.timeoutHandle&&clearTimeout(t.timeoutHandle),t.timeoutHandle=setTimeout(function(){delete t.timeoutHandle,t(l._lastWrittenRevision)},25);else{var d=function u(f){return f.parent?u(f.parent):f}(c);d._lastWrittenRevision=Math.max(l._lastWrittenRevision,d.lastWrittenRevision||0)}}),l.parent&&l.parent.source&&(l.source=l.parent.source)),l}}}function vA(e,t,r){return function(i){t.latestRevision[e.name]<i&&(t.latestRevision[e.name]=i,M.ignoreTransaction(function(){t.on("latestRevisionIncremented").fire(e.name,i)}),r&&r.setItem("Dexie.Observable/latestRevision/"+e.name,i))}}var gA=1,yA=2,bA=3;function wA(e,t){return function(a,i,o){var s=void 0;a===void 0&&t.schema.primKey.uuid&&(a=s=Xr(),t.schema.primKey.keyPath&&M.setByKeyPath(i,t.schema.primKey.keyPath,a));var c={source:o.source||null,table:t.name,key:a===void 0?null:a,type:gA,obj:i},p=e._changes.add(c).then(function(l){return o._lastWrittenRevision=Math.max(o._lastWrittenRevision,l),l});return this.onsuccess=function(l){a!=l&&p._then(function(){c.key=l,e._changes.put(c)})},this.onerror=function(){p._then(function(l){e._changes.delete(l)})},s}}function xA(e,t){return function(a,i,o,s){var c={},p=!1,l=M.deepClone(o);for(var d in a){var u=a[d];if(typeof u=="undefined")M.delByKeyPath(l,d),c[d]=null,p=!0;else{var f=M.getByKeyPath(o,d);u!==f&&JSON.stringify(u)!==JSON.stringify(f)&&(M.setByKeyPath(l,d,u),c[d]=u,p=!0)}}if(p){var v={source:s.source||null,table:t,key:i,type:yA,mods:c,oldObj:o,obj:l},m=e._changes.add(v);this.onsuccess=function(){m._then(function(h){s._lastWrittenRevision=Math.max(s._lastWrittenRevision,h)})},this.onerror=function(){m._then(function(h){e._changes.delete(h)})}}}}function EA(e,t){return function(a,i,o){var s=e._changes.add({source:o.source||null,table:t,key:a,type:bA,oldObj:i}).then(function(c){return o._lastWrittenRevision=Math.max(o._lastWrittenRevision,c),c}).catch(function(c){console.log(i),console.log(c.stack)});this.onerror=function(){s._then(function(c){e._changes.delete(c)})}}}function _A(e){return function(r){if(r.hook._observing)return;r.hook._observing=!0;var a=r.name;r.hook("creating").subscribe(wA(e,r)),r.hook("updating").subscribe(xA(e,a)),r.hook("deleting").subscribe(EA(e,a))}}function kA(e){return function(r){if(r.key&&r.key.indexOf("Dexie.Observable/")===0){var a=r.key.split("/"),i=a[1],o=a[2];if(i==="latestRevision"){var s=parseInt(r.newValue,10);!isNaN(s)&&s>e.latestRevision[o]&&(e.latestRevision[o]=s,M.ignoreTransaction(function(){e.on("latestRevisionIncremented").fire(o,s)}))}else if(i.indexOf("deadnode:")===0){var c=parseInt(i.split(":")[1],10);r.newValue&&e.on.suicideNurseCall.fire(o,c)}else i==="intercomm"&&(r.newValue&&e.on.intercomm.fire(o))}}}function IA(e,t,r){return function(i){return function(){return Object.keys(e._allTables).forEach(function(o){var s=e._allTables[o];s.schema.observable&&r(s),s.name==="_syncNodes"&&s.mapToClass(t)}),i.apply(this,arguments)}}}var St=M.Promise;function AA(e,t,r,a,i){var o={};e.observable.sendMessage=function(l,d,u,f){if(f=f||{},!a.node)return f.wantReply?St.reject(new M.DatabaseClosedError):St.resolve();var v={message:d,destinationNode:u,sender:a.node.id,type:l};return M.extend(v,f),M.ignoreTransaction(function(){var m=["_intercomm"];f.wantReply&&m.push("_syncNodes");var h=e.transaction("rw",m,function(){return f.wantReply?e._syncNodes.where("id").equals(u).count(function(y){return y?e._intercomm.add(v):e._syncNodes.where("isMaster").above(0).first(function(E){return v.destinationNode=E.id,e._intercomm.add(v)})}):e._intercomm.add(v)}).then(function(y){var E=null;return f.wantReply&&(E=new St(function(x,b){o[y.toString()]={resolve:x,reject:b}})),i&&i.setItem("Dexie.Observable/intercomm/"+e.name,y.toString()),t.on.intercomm.fire(e.name),E});if(f.wantReply)return h;h.catch(function(){});return})},e.observable.broadcastMessage=function(l,d,u){if(!a.node)return;var f=a.node.id;M.ignoreTransaction(function(){e._syncNodes.toArray(function(v){return St.all(v.filter(function(m){return m.type==="local"&&(u||m.id!==f)}).map(function(m){return e.observable.sendMessage(l,d,m.id)}))}).catch(function(){})})};function s(){return a.node?M.ignoreTransaction(function(){return e.transaction("rw","_intercomm",function(){return e._intercomm.where({destinationNode:a.node.id}).toArray(function(l){return l.forEach(function(d){return c(d)}),e._intercomm.where("id").anyOf(l.map(function(d){return d.id})).delete()})})}):St.reject(new M.DatabaseClosedError)}function c(l){if(l.type==="response"){var d=o[l.requestId.toString()];d&&(l.isFailure?d.reject(l.message.error):d.resolve(l.message.result),delete o[l.requestId.toString()])}else l.resolve=function(u){e.observable.sendMessage("response",{result:u},l.sender,{requestId:l.id})},l.reject=function(u){e.observable.sendMessage("response",{error:u.toString()},l.sender,{isFailure:!0,requestId:l.id})},e.on.message.fire(l)}function p(l){l===e.name&&s().catch("DatabaseClosedError",function(){})}return{onIntercomm:p,consumeIntercommMessages:s}}function SA(e){return function(t,r){t._changes="++rev",t._syncNodes="++id,myRevision,lastHeartBeat,&url,isMaster,type,status",t._intercomm="++id,destinationNode",t._uncommittedChanges="++id,node",e.call(this,t,r),Object.keys(r).forEach(function(a){var i=r[a];i.primKey.name.indexOf("$$")===0&&(i.primKey.uuid=!0,i.primKey.name=i.primKey.name.substr(2),i.primKey.keyPath=i.primKey.keyPath.substr(2))}),Object.keys(r).forEach(function(a){a.indexOf("_")!==0&&a.indexOf("$")!==0&&(r[a].observable=!0)})}}function Lr(e){var t=100;M.ignoreTransaction(function(){return e._syncNodes.orderBy("myRevision").first(function(r){return e._changes.where("rev").below(r.myRevision).limit(t).primaryKeys()}).then(function(r){return r.length===0?void 0:e._changes.bulkDelete(r).then(function(){r.length===t&&setTimeout(function(){return e.isOpen()&&Lr(e)},500)})})}).catch(function(){})}var Ze=self,TA=M.defineClass({rev:Number,source:String,table:String,key:Object,type:Number,obj:Object,mods:Object,oldObj:Object}),Tt=M.override,Zr=M.Promise,ea=!1;function j(e){if(!/^3\./.test(M.version))throw new Error("Missing dexie version 3.x");if(e.observable){if(e.observable.version!=="{version}")throw new Error("Mixed versions of dexie-observable");return}var t=2e4,r=2e4,a=500,i=t-5e3,o=j.localStorageImpl,s=M.defineClass({myRevision:Number,type:String,lastHeartBeat:Number,deleteTimeStamp:Number,url:String,isMaster:Number,syncProtocol:String,syncContext:null,syncOptions:Object,connected:!1,status:Number,appliedRemoteRevision:null,remoteBaseRevisions:[{local:Number,remote:null}],dbUploadState:{tablesToUpload:[String],currentTable:String,currentKey:null,localBaseRevision:Number}});e.observable={version:"{version}"},e.observable.SyncNode=s;var c=vA(e,j,o),p=mA(e,c),l=_A(e),d=IA(e,s,l),u={node:null},f=AA(e,j,s,u,o),v=f.onIntercomm,m=f.consumeIntercommMessages;Object.defineProperty(e,"_localSyncNode",{get:function(){return u.node}});var h=null,y=null;M.fake&&(e.version(1).stores({_syncNodes:"++id,myRevision,lastHeartBeat",_changes:"++rev",_intercomm:"++id,destinationNode",_uncommittedChanges:"++id,node"}),e._syncNodes.mapToClass(s),e._changes.mapToClass(TA),u.node=new s({myRevision:0,type:"local",lastHeartBeat:Date.now(),deleteTimeStamp:null})),e.Version.prototype._parseStoresSpec=Tt(e.Version.prototype._parseStoresSpec,SA),e.on.addEventType({changes:"asap",cleanup:[hA,$r],message:"asap"}),e._createTransaction=Tt(e._createTransaction,p),j.latestRevision[e.name]=j.latestRevision[e.name]||0,e.open=Tt(e.open,d),e.close=Tt(e.close,function(k){return function(){return e.dynamicallyOpened()?k.apply(this,arguments):(c.timeoutHandle&&(clearTimeout(c.timeoutHandle),delete c.timeoutHandle),j.on("latestRevisionIncremented").unsubscribe(x),j.on("suicideNurseCall").unsubscribe(S),j.on("intercomm").unsubscribe(v),j.on("beforeunload").unsubscribe(T),u.node&&u.node.id&&(j.on.suicideNurseCall.fire(e.name,u.node.id),o&&o.setItem("Dexie.Observable/deadnode:"+u.node.id.toString()+"/"+e.name,"dead"),u.node.deleteTimeStamp=1,u.node.lastHeartBeat=0,e._syncNodes.put(u.node),u.node=null),h&&clearTimeout(h),h=null,y&&clearTimeout(y),y=null,k.apply(this,arguments))}}),e.delete=Tt(e.delete,function(k){return function(){return k.apply(this,arguments).then(function(R){return j.latestRevision[e.name]=0,R})}}),e.on("ready",function(){return e.dynamicallyOpened()?e:e.table("_changes").orderBy("rev").last(function(R){var O=R?R.rev:0;return u.node=new s({myRevision:O,type:"local",lastHeartBeat:Date.now(),deleteTimeStamp:null,isMaster:0}),j.latestRevision[e.name]<O&&(j.latestRevision[e.name]=O,M.ignoreTransaction(function(){j.on.latestRevisionIncremented.fire(O)})),e._syncNodes.put(u.node).then(M.ignoreTransaction(function(){var U=1;return e._syncNodes.orderBy("isMaster").reverse().modify(function(B){if(B.isMaster&&(B.lastHeartBeat<Date.now()-t?B.isMaster=0:U=0),!u.node)return;B.id===u.node.id&&(B.isMaster=u.node.isMaster=U)})})).then(function(){j.on("latestRevisionIncremented",x),j.on("beforeunload",T),j.on("suicideNurseCall",S),j.on("intercomm",v),h=setTimeout(g,a),y=setTimeout(w,i)}).then(function(){A()})})},!0);var E=0;function x(k,R){if(k===e.name){if(E>=R)return;E=R,M.vip(function(){b(R).catch("DatabaseClosedError",function(){})})}}function b(k,R,O){if(!R&&b.ongoingOperation)return b.ongoingOperation;var U=!1,B=u.node;if(!B)return Zr.reject(new M.DatabaseClosedError);var V=1e3,z=e._changes.where("rev").above(B.myRevision).limit(V).toArray(function(W){if(W.length>0){var D=W[W.length-1];U=W.length===V,e.on("changes").fire(W,U),B.myRevision=D.rev}else O&&e.on("changes").fire([],!1);var ae=!1;return e._syncNodes.where(":id").equals(B.id).modify(function(Q){ae=!0,Q.lastHeartBeat=Date.now(),Q.deleteTimeStamp=null,Q.myRevision=Math.max(Q.myRevision,B.myRevision)}).then(function(){return ae})}).then(function(W){if(!W)throw ea?new Error("Browser is shutting down"):(e.close(),console.error("Out of sync"),Ze.location&&Ze.location.reload(!0),new Error("Out of sync"));if(U||j.latestRevision[e.name]>B.myRevision)return b(j.latestRevision[e.name],(R||0)+1,U)}).finally(function(){delete b.ongoingOperation});return R||(b.ongoingOperation=z),z}function w(){y=null;var k=u.node&&u.node.id;if(!k)return;e.transaction("rw!",e._syncNodes,function(){e._syncNodes.where({id:k}).first(function(R){if(!R){e.isOpen()&&e.close();return}return R.lastHeartBeat=Date.now(),R.deleteTimeStamp=null,e._syncNodes.put(R)})}).catch("DatabaseClosedError",function(){}).finally(function(){u.node&&u.node.id===k&&e.isOpen()&&(y=setTimeout(w,i))})}function g(){h=null;var k=u.node&&u.node.id;if(!k)return;M.vip(function(){b(j.latestRevision[e.name]).then(A).then(m).catch("DatabaseClosedError",function(){}).finally(function(){u.node&&u.node.id===k&&e.isOpen()&&(h=setTimeout(g,a))})})}function A(){var k=u.node;return k?e.transaction("rw","_syncNodes","_changes","_intercomm",function(){var R=!1;e._syncNodes.where("lastHeartBeat").below(Date.now()-t).filter(function(O){return O.type==="local"}).modify(function(O){O.deleteTimeStamp&&O.deleteTimeStamp<Date.now()?(delete this.value,o&&o.removeItem("Dexie.Observable/deadnode:"+O.id+"/"+e.name),O.isMaster&&(e._syncNodes.update(k,{isMaster:1}),R=!0),e._intercomm.where({destinationNode:O.id}).modify(function(U){U.wantReply?U.destinationNode=k.id:delete this.value})):O.deleteTimeStamp||(O.deleteTimeStamp=Date.now()+r)}).then(function(){return j.deleteOldChanges(e),e.on("cleanup").fire(R)})}):Zr.reject(new M.DatabaseClosedError)}function T(){if(!u.node)return;ea=!0,u.node.deleteTimeStamp=1,u.node.lastHeartBeat=0,e._syncNodes.put(u.node),j.wereTheOneDying=!0,o&&o.setItem("Dexie.Observable/deadnode:"+u.node.id.toString()+"/"+e.name,"dead")}function S(k,R){k===e.name&&!j.wereTheOneDying&&M.vip(function(){e._syncNodes.update(R,{deleteTimeStamp:1,lastHeartBeat:0}).then(A)})}}j.version="{version}";j.latestRevision={};j.on=M.Events(null,"latestRevisionIncremented","suicideNurseCall","intercomm","beforeunload");j.createUUID=Xr;j.deleteOldChanges=Lr;j._onStorage=kA(j);j._onBeforeUnload=function(){j.on.beforeunload.fire()};try{j.localStorageImpl=Ze.localStorage}catch(e){}Ze.addEventListener&&(Ze.addEventListener("storage",j._onStorage),Ze.addEventListener("beforeunload",j._onBeforeUnload));if(M.Observable){if(M.Observable.version!=="{version}")throw new Error("Mixed versions of dexie-observable")}else M.Observable=j,M.addons.push(j);var OS=M.Observable;const RA=1;class OA extends M{constructor(e="default"){super("uristorage:"+e);this.version(RA).stores({nodes:"&path, ctime, mime_type, mtime, type"}),this.nodes=this.table("nodes"),this.EVENT_WATCH=J(t=>{function r(i){for(const o of i)switch(o.type){case 1:t({change:q.created,path:o.obj.path,type:o.obj.type});break;case 3:t({change:q.removed,path:o.oldObj.path,type:o.oldObj.path});break;case 2:o.mods.payload?t({change:q.attached,path:o.oldObj.path,type:o.oldObj.path}):t({change:q.updated,path:o.oldObj.path,type:o.oldObj.path});break}}const a=this.on("changes",r);return()=>a.unsubscribe(r)})}}class et extends ie{constructor(e={}){super(e)}async create_url_object(e){const{storage:t}=this;if(!t)throw new Error("bad dispatch to 'create_url_object' (database is not mounted)");const r=this.normalize(e),a=await t.nodes.get(r);if(!a)throw new Error("bad argument #0 to 'create_url_object' (Node must be created before using 'create_url_object')");if(!a.payload)throw new Error("bad argument #0 to 'create_url_object' (Node payload must be created before using 'create_url_object')");const i=ke(a.payload,a.mime_type);return{destroy:i.destroy,path:a.path,url:i.url}}async get(e){const{storage:t}=this;if(!t)throw new Error("bad dispatch to 'get' (database is not mounted)");const r=this.normalize(e),a=await t.nodes.get(r);return a?{ctime:a.ctime,mime_type:a.mime_type,mtime:a.mtime,path:a.path,type:a.type}:null}async put(e,t=P.undefined,r){const{storage:a}=this;if(!a)throw new Error("bad dispatch to 'put' (database is not mounted)");const i=this.normalize(e),o=await a.nodes.get(i),s=ye();r||(r=Se(i)||ge),o?await a.nodes.update(o,{mtime:s,mime_type:r,type:t}):await a.nodes.put({ctime:s,mime_type:r,mtime:s,path:i,type:t})}async query(e={}){const{storage:t}=this;if(!t)throw new Error("bad dispatch to 'query' (database is not mounted)");const{path:r={},type:a}=e;let i=t.nodes.toCollection();if(a&&(typeof a=="string"?i=i.filter(s=>s.type===a):i=i.filter(s=>a.includes(s.type))),r.glob){const s=pe(X(r.glob));i=i.filter(c=>s.test(c.path))}else if(r.regex){const{regex:s}=r;i=i.filter(c=>s.test(c.path))}else{let{path:s="/"}=r;s=r.recursive?de(s,"**"):de(s,"*");const c=pe(X(s));i=i.filter(p=>c.test(p.path))}const o=await i.toArray();return o.map((s,c)=>{const{path:p,type:l}=s;return{path:p,type:l}})}async read(e){const{storage:t}=this;if(!t)throw new Error("bad dispatch to 'get_payload' (database is not mounted)");const r=this.normalize(e),a=await t.nodes.get(r);return!a||!a.payload?null:a.payload}async remove(e){const{storage:t}=this;if(!t)throw new Error("bad dispatch to 'remove' (database is not mounted)");const r=this.normalize(e),a=await t.nodes.get(r);return a?(t.nodes.delete(r),!0):!1}async watch(e={}){const{storage:t}=this;if(!t)throw new Error("bad dispatch to 'remove' (database is not mounted)");return Ie(t.EVENT_WATCH,e)}async write(e,t){const{storage:r}=this;if(!r)throw new Error("bad dispatch to 'attach' (database is not mounted)");const a=this.normalize(e),i=await r.nodes.get(a);if(!i)throw new Error("bad argument #0 to 'attach' (Node must be created before using 'attach')");await r.nodes.update(i,{payload:t,mtime:ye()})}is_mounted(){return!!this.storage}async mount(){if(this.storage)throw new Error("bad dispatch to 'mount' (database is already mounted)");const{namespace:e}=this.options,t=new OA(e);await t.open(),this.storage=t}async unmount(){const{storage:e}=this;if(!e)throw new Error("bad dispatch to 'unmount' (database is not mounted)");await e.close(),delete this.storage}}et.can_hotlink=!0,et.can_watch=!0,et.is_available=!!(typeof window=="object"&&window.indexedDB),et.requires_mount=!0;const nt=Ot(ca());function en(e,t={}){const{mode:r=Z.text}=t;switch(r){case Z.bytes:return nt.decode(e,"ByteArray");case Z.text:return nt.decode(e,"String");default:throw new Error(`bad option 'options.mode' to 'decode_safe' (encoding mode '${r}' not available)`)}}function tn(e){const t=new TextDecoder;return t.decode(e)}function nn(e,t={}){const{mode:r=Z.text}=t;switch(r){case Z.bytes:return nt.encode(e,"ByteArray");case Z.text:return nt.encode(e,"String");default:throw new Error(`bad option 'options.mode' to 'encode_safe' (encoding mode '${r}' not available)`)}}function rn(e){const t=new TextEncoder;return t.encode(e)}class zA{constructor(e,t){this.EVENT_WATCH=J();this.prefix_node=`uristorage:${e}:n:`,this.prefix_payload=`uristorage:${e}:p:`,this.storage=t}attach(e,t,r){const{storage:a}=this,i=this.prefix_node+e,o=this.prefix_payload+e,s={...JSON.parse(a.getItem(i)),mtime:r};a.setItem(i,JSON.stringify(s)),a.setItem(o,nn(t)),this.EVENT_WATCH.dispatch({change:q.attached,path:e,type:s.type})}get(e){const t=this.prefix_node+e,r=this.storage.getItem(t);if(r){const{ctime:a=0,mime_type:i=ge,mtime:o=0,type:s=P.undefined}=JSON.parse(r);return{ctime:a,mime_type:i,mtime:o,path:e,type:s}}return null}get_payload(e){const t=this.prefix_payload+e,r=this.storage.getItem(t);return r?en(r,{mode:Z.bytes}):null}has(e){return e=this.prefix_node+e,!!this.storage.getItem(e)}*nodes(){const{prefix_node:e,storage:t}=this;for(let r=0;r<t.length;r++){const a=t.key(r);if(a?.startsWith(e)){const i=t.getItem(a),{type:o=P.undefined}=JSON.parse(i);yield{path:a.slice(e.length),type:o}}}}put(e,t){const r={...t,path:e},a=JSON.stringify(r);this.storage.setItem(this.prefix_node+e,a),this.EVENT_WATCH.dispatch({change:q.created,path:e,type:r.type})}remove(e){const{storage:t}=this,r=t.getItem(e);if(!r)return!1;const a=JSON.parse(r);return t.removeItem(this.prefix_node+e),t.removeItem(this.prefix_payload+e),this.EVENT_WATCH.dispatch({change:q.removed,path:e,type:a.type}),!0}update(e,t){const{storage:r}=this,a=this.prefix_node+e,i={...JSON.parse(r.getItem(a)),...t,path:e};r.setItem(a,JSON.stringify(i)),this.EVENT_WATCH.dispatch({change:q.updated,path:i.path,type:i.type})}}function WA(e={}){const{compressed:t=!0}=e;return{...e,compressed:t}}class Ce extends ie{constructor(e,t={}){super(WA(t));const{namespace:r}=this.options;this.storage=new zA(r,e)}async create_url_object(e){const{storage:t}=this,{compressed:r}=this.options,a=this.normalize(e);if(!t.has(a))throw new Error("bad argument #0 to 'create_url_object' (Node must be created before using 'create_url_object')");let i=t.get_payload(a);if(!i)throw new Error("bad argument #0 to 'create_url_object' (Node payload must be created before using 'create_url_object')");const o=t.get(a);i=r?Ae(i):i;const s=ke(i,o.mime_type);return{destroy:s.destroy,path:o.path,url:s.url}}async get(e){const t=this.normalize(e);return this.storage.get(t)}async put(e,t=P.undefined,r){const{storage:a}=this,i=this.normalize(e),o=ye();r||(r=Se(i)||ge),a.has(i)?a.update(i,{mime_type:r,mtime:o,type:t}):a.put(i,{ctime:o,mime_type:r,mtime:o,type:t})}async query(e={}){const t=Array.from(this.storage.nodes());return Fe(t,e)}async read(e){const{compressed:t}=this.options,r=this.normalize(e),a=this.storage.get_payload(r);return a?t?Ae(a):a:null}async remove(e){const t=this.normalize(e);return this.storage.remove(t)}async watch(e={}){return Ie(this.storage.EVENT_WATCH,e)}async write(e,t){const{storage:r}=this,{compressed:a}=this.options,i=this.normalize(e);if(!r.has(i))throw new Error("bad argument #0 to 'attach' (Node must be created before using 'attach')");t=a?He(t):t,r.attach(i,t,ye())}is_mounted(){return!0}async mount(){}async unmount(){}}Ce.can_hotlink=!0,Ce.can_watch=!0,Ce.is_available=!1,Ce.storage=null;class Vn extends Ce{constructor(e={}){super(window.localStorage,e)}}Vn.is_available=!!(typeof window=="object"&&window.localStorage);class Gn extends Ce{constructor(e={}){super(window.sessionStorage,e)}}Gn.is_available=!!(typeof window=="object"&&window.sessionStorage);class an{constructor(e){this.EVENT_MOUNTED=J();this.EVENT_UNMOUNTED=J();if(this.adapter=e,!this.has_feature("is_available"))throw new Error("bad dispatch to 'BaseOverlay' (adapter is not available in this context)");e.EVENT_MOUNTED.subscribe(t=>this.EVENT_MOUNTED.dispatch({storage:this})),e.EVENT_UNMOUNTED.subscribe(t=>this.EVENT_UNMOUNTED.dispatch({storage:this}))}has_feature(e){const t=this.adapter.constructor;return t[e]}is_mounted(){return this.adapter.is_mounted()}mount(){return this.adapter.mount()}unmount(){return this.adapter.unmount()}}var Ee;(function(e){e.created="CHANGE_CREATED",e.removed="CHANGE_REMOVED",e.updated="CHANGE_UPDATED"})(Ee||(Ee={}));const qA=/\//g;function la(e){const t=e.match(qA);return t?t.length:0}class pa extends an{async create_url_object(e){if(!this.has_feature("can_hotlink"))throw new Error("bad dispatch to 'create_url_object' (adapter does not support feature)");const{adapter:t}=this,r=await t.get(e);if(r){if(r.type!==P.file)throw new Error("bad argument #0 to 'create_url_object' (file path is not a file)")}else throw new Error("bad argument #0 to 'create_url_object' (file path not found)");return t.create_url_object(e)}async create_directory(e){if(this.has_feature("is_readonly"))throw new Error("bad dispatch to 'create_directory' (adapter does not support feature)");const{adapter:t}=this;if(e=X(e),e==="/")throw new Error("bad argument #0 to 'create_directory' (directory path is already a directory)");const r=await t.get(e);if(r)switch(r.type){case P.directory:throw new Error("bad argument #0 to 'create_directory' (directory path is already a directory)");case P.file:throw new Error("bad argument #0 to 'create_directory' (directory path is already a file)")}const a=at(e);if(a!=="/"){const i=await t.get(a);if(i){if(i.type!==P.directory)throw new Error("bad argument #0 to 'create_directory' (parent path is not a directory)")}else throw new Error("bad argument #0 to 'create_directory' (parent path does not exist)")}return t.put(e,P.directory)}async exists(e){const t=await this.adapter.get(e);return!!t}async get_stats(e){const t=await this.adapter.get(e);if(!t)throw new Error("bad argument #0 to 'get_stats' (path not found)");return{ctime:t.ctime,path:t.path,mtime:t.mtime,is_directory:t.type===P.directory,is_file:t.type===P.file}}async read_directory(e={}){const{adapter:t}=this,{is_directory:r,is_file:a,glob:i,regex:o,path:s,recursive:c=!1}=e;let p;r?p=P.directory:a?p=P.file:p=[P.directory,P.file];let l;if(s||s===""){const d=X(s),u=await t.get(d);if(d!=="/")if(u){if(u.type!==P.directory)throw new Error("bad option 'IFileSystemQueryOptions.path' to 'read_directory' (directory path is not a directory)")}else throw new Error("bad option 'IFileSystemQueryOptions.path' to 'read_directory' (directory path not found)");l=await t.query({type:p,path:{recursive:c,path:d}})}else i?l=await t.query({type:p,path:{glob:i}}):o?l=await t.query({type:p,path:{regex:o}}):l=await t.query({type:p,path:{recursive:c,path:"/"}});return l.map((d,u)=>{const{path:f,type:v}=d;return{path:f,is_directory:v===P.directory,is_file:v===P.file}})}async read_file(e){const{adapter:t}=this,r=await t.get(e);if(r){if(r.type!==P.file)throw new Error("bad argument #0 to 'read_file' (file path is not a file)")}else throw new Error("bad argument #0 to 'read_file' (file path not found)");const a=await t.read(e);return a||new Uint8Array}async remove_directory(e,t={}){if(this.has_feature("is_readonly"))throw new Error("bad dispatch to 'remove_directory' (adapter does not support feature)");const{adapter:r}=this,{recursive:a=!1}=t;if(e=X(e),e==="/")throw new Error("bad argument #0 to 'remove_directory' (directory path not found)");const i=await r.get(e);if(i){if(i.type!==P.directory)throw new Error("bad argument #0 to 'remove_directory' (directory path is not a directory)")}else throw new Error("bad argument #0 to 'remove_directory' (directory path not found)");const o=await r.query({path:{path:e,recursive:!0}});if(o.length>0)if(a){o.sort((c,p)=>la(p.path)-la(c.path));const s=o.map((c,p)=>r.remove(c.path));await Promise.all(s)}else throw new Error("bad argument #0 to 'remove_directory' (directory contains children)");return r.remove(e)}async remove_file(e){if(this.has_feature("is_readonly"))throw new Error("bad dispatch to 'remove_file' (adapter does not support feature)");const{adapter:t}=this,r=await t.get(e);if(r){if(r.type!==P.file)throw new Error("bad argument #0 to 'remove_file' (file path is not a file)")}else throw new Error("bad argument #0 to 'remove_file' (file path not found)");const a=await t.remove(e);if(!a)throw new Error("bad argument #0 to 'remove_file' (could not remove file path)")}async watch_directory(e,t={}){if(!this.has_feature("can_watch"))throw new Error("bad dispatch to 'watch_directory' (adapter does not support feature)");const{adapter:r}=this,{recursive:a}=t;if(e=X(e),e!=="/"){const o=await r.get(e);if(o){if(o.type!==P.directory)throw new Error("bad argument #0 to 'watch_directory' (directory path is not a directory)")}else throw new Error("bad argument #0 to 'watch_directory' (directory path not found)")}const i=await r.watch({recursive:a,change:[q.attached,q.created,q.removed],inclusive:!0,path:e});return J(o=>{const s=i.subscribe(c=>{switch(c.change){case q.attached:o({change:Ee.updated,path:c.path,type:c.type});break;case q.created:o({change:Ee.created,path:c.path,type:c.type});break;case q.removed:o({change:Ee.removed,path:c.path,type:c.type});break}});return()=>s()})}async watch_file(e){if(!this.has_feature("can_watch"))throw new Error("bad dispatch to 'watch_file' (adapter does not support feature)");const{adapter:t}=this,r=await t.get(e);if(r){if(r.type!==P.file)throw new Error("bad argument #0 to 'watch_file' (file path is not a file)")}else throw new Error("bad argument #0 to 'watch_file' (file path not found)");const a=await t.watch({change:[q.attached,q.removed],path:e});return J(i=>{async function o(c){switch(c.change){case q.attached:i({change:Ee.updated,path:c.path,type:c.type});break;case q.removed:i({change:Ee.removed,path:c.path,type:c.type});break}}const s=a.subscribe(o);return()=>s()})}async write_file(e,t){if(this.has_feature("is_readonly"))throw new Error("bad dispatch to 'write_file' (adapter does not support feature)");const{adapter:r}=this;if(e=X(e),e==="/")throw new Error("bad argument #0 to 'write_file' (file path is not a file)");const a=await r.get(e);if(a&&a.type!==P.file)throw new Error("bad argument #0 to 'write_file' (file path is not a file)");const i=at(e);if(i!=="/"){const o=await r.get(i);if(!o||o.type!==P.directory)throw new Error("bad argument #0 to 'write_file' (parent path is not a directory)")}return await r.put(e,P.file),r.write(e,t)}async read_file_json(e,t){const r=await this.read_file_text(e);return JSON.parse(r,t)}async read_file_text(e){const t=await this.read_file(e);return tn(t)}write_file_json(e,t,r,a){const i=JSON.stringify(t,r,a);return this.write_file_text(e,i)}write_file_text(e,t){const r=rn(t);return this.write_file(e,r)}}class ua extends Ct{constructor(){super();this.EVENT_MOUNTED=J();this.EVENT_REGISTERED=J();this.EVENT_UNMOUNTED=J();this.EVENT_UNREGISTERED=J();this.clone=e=>{const{storage:t}=e;return{storage:t}}}clear(){const e=this.entries();for(const[t,r]of e){const{storage:a}=r;this.EVENT_UNREGISTERED.dispatch({namespace:t,storage:a})}super.clear()}delete(e){const t=this.get(e),r=super.delete(e);return r&&t&&this.EVENT_UNREGISTERED.dispatch({namespace:e,storage:t.storage}),r}resolve(e){let t;try{t=new URL(e)}catch(i){return}const r=t.protocol.slice(0,-1),a=this.get(r);return a?{...a,namespace:r,path:t.pathname}:void 0}set(e,t){const{storage:r}=t;return super.set(e,{...t,namespace:e}),r.EVENT_MOUNTED.subscribe(()=>this.EVENT_MOUNTED.dispatch({namespace:e,storage:r})),r.EVENT_UNMOUNTED.subscribe(()=>this.EVENT_UNMOUNTED.dispatch({namespace:e,storage:r})),this.EVENT_REGISTERED.dispatch({namespace:e,storage:r}),this}}return da();})();
/*!
 LZ-UTF8 v0.5.6

 Copyright (c) 2018, Rotem Dan
 Released under the MIT license.

 Build date: 2020-08-10 

 Please report any issue at https://github.com/rotemdan/lzutf8.js/issues
*/
//# sourceMappingURL=uristorage.umd.min.js.map
